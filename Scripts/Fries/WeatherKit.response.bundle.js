console.log("Ô£ø iRingo: \uD83C\uDF24 Ô£øWeatherKit"),console.log("response.bundle.js"),console.log("Version: 3.0.4"),console.log("Date: 2026/2/21 11:07:31"),(()=>{"use strict";var t,e,i,a,s,n,r,o,d,c,l,u,p,b,h,m,_,f,y,g,C,N,x,A,I,T,S,v,O,F,w,P,E,M,R,U,W,L,D,B,$,H,K,V,k,Q;let G=(()=>{let t=Object.keys(globalThis);switch(!0){case t.includes("$task"):return"Quantumult X";case t.includes("$loon"):return"Loon";case t.includes("$rocket"):return"Shadowrocket";case"u">typeof module:return"Node.js";case t.includes("Egern"):return"Egern";case t.includes("$environment"):if($environment["surge-version"])return"Surge";if($environment["stash-version"])return"Stash";return;default:return}})();class j{static #t=new Map([]);static #e=[];static #i=new Map([]);static clear=()=>{};static count=(t="default")=>{switch(j.#t.has(t)){case!0:j.#t.set(t,j.#t.get(t)+1);break;case!1:j.#t.set(t,0)}j.log(`${t}: ${j.#t.get(t)}`)};static countReset=(t="default")=>{switch(j.#t.has(t)){case!0:j.#t.set(t,0),j.log(`${t}: ${j.#t.get(t)}`);break;case!1:j.warn(`Counter "${t}" doesn‚Äôt exist`)}};static debug=(...t)=>{j.#a<4||(t=t.map(t=>`üÖ±Ô∏è ${t}`),j.log(...t))};static error(...t){if(!(j.#a<1)){switch(G){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":case"Quantumult X":default:t=t.map(t=>`‚ùå ${t}`);break;case"Node.js":t=t.map(t=>`‚ùå ${t.stack}`)}j.log(...t)}}static exception=(...t)=>j.error(...t);static group=t=>j.#e.unshift(t);static groupEnd=()=>j.#e.shift();static info(...t){j.#a<3||(t=t.map(t=>`‚ÑπÔ∏è ${t}`),j.log(...t))}static #a=3;static get logLevel(){switch(j.#a){case 0:return"OFF";case 1:return"ERROR";case 2:return"WARN";case 3:default:return"INFO";case 4:return"DEBUG";case 5:return"ALL"}}static set logLevel(t){switch(typeof t){case"string":t=t.toLowerCase();break;case"number":break;default:t="warn"}switch(t){case 0:case"off":j.#a=0;break;case 1:case"error":j.#a=1;break;case 2:case"warn":case"warning":default:j.#a=2;break;case 3:case"info":j.#a=3;break;case 4:case"debug":j.#a=4;break;case 5:case"all":j.#a=5}}static log=(...t)=>{0!==j.#a&&(t=t.map(t=>{switch(typeof t){case"object":t=JSON.stringify(t);break;case"bigint":case"number":case"boolean":case"string":t=t.toString()}return t}),j.#e.forEach(e=>{(t=t.map(t=>`  ${t}`)).unshift(`‚ñº ${e}:`)}),console.log((t=["",...t]).join("\n")))};static time=(t="default")=>j.#i.set(t,Date.now());static timeEnd=(t="default")=>j.#i.delete(t);static timeLog=(t="default")=>{let e=j.#i.get(t);e?j.log(`${t}: ${Date.now()-e}ms`):j.warn(`Timer "${t}" doesn‚Äôt exist`)};static warn(...t){j.#a<2||(t=t.map(t=>`‚ö†Ô∏è ${t}`),j.log(...t))}}class Y{static escape(t){let e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return t.replace(/[&<>"']/g,t=>e[t])}static get(t={},e="",i){Array.isArray(e)||(e=Y.toPath(e));let a=e.reduce((t,e)=>Object(t)[e],t);return void 0===a?i:a}static merge(t,...e){if(null==t)return t;for(let i of e)if(null!=i)for(let e of Object.keys(i)){let a=i[e],s=t[e];switch(!0){case Y.#s(a)&&Y.#s(s):t[e]=Y.merge(s,a);break;case a instanceof Map&&s instanceof Map:if(a.size>0)for(let[t,e]of a)s.set(t,e);break;case a instanceof Set&&s instanceof Set:if(a.size>0)for(let t of a)s.add(t);break;case Array.isArray(a)&&0===a.length&&void 0!==s:case a instanceof Map&&0===a.size&&void 0!==s:case a instanceof Set&&0===a.size&&void 0!==s:break;case void 0!==a:t[e]=a}}return t}static #s(t){if(null===t||"object"!=typeof t)return!1;let e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}static omit(t={},e=[]){return Array.isArray(e)||(e=[e.toString()]),e.forEach(e=>Y.unset(t,e)),t}static pick(t={},e=[]){return Array.isArray(e)||(e=[e.toString()]),Object.fromEntries(Object.entries(t).filter(([t,i])=>e.includes(t)))}static set(t,e,i){return Array.isArray(e)||(e=Y.toPath(e)),e.slice(0,-1).reduce((t,i,a)=>Object(t[i])===t[i]?t[i]:t[i]=/^\d+$/.test(e[a+1])?[]:{},t)[e[e.length-1]]=i,t}static toPath(t){return t.replace(/\[(\d+)\]/g,".$1").split(".").filter(Boolean)}static unescape(t){let e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};return t.replace(/&amp;|&lt;|&gt;|&quot;|&#39;/g,t=>e[t])}static unset(t={},e=""){return Array.isArray(e)||(e=Y.toPath(e)),e.reduce((t,i,a)=>a===e.length-1?(delete t[i],!0):Object(t)[i],t)}}switch(j.debug("‚òëÔ∏è $argument"),typeof globalThis.$argument){case"string":{let t=Object.fromEntries(globalThis.$argument.split("&").map(t=>t.split("=",2).map(t=>t.replace(/\"/g,""))));globalThis.$argument={},Object.keys(t).forEach(e=>Y.set(globalThis.$argument,e,t[e]));break}case"object":{if(null===globalThis.$argument){globalThis.$argument={};break}let t={};Object.keys(globalThis.$argument).forEach(e=>Y.set(t,e,globalThis.$argument[e])),globalThis.$argument=t;break}case"undefined":globalThis.$argument={}}globalThis.$argument.LogLevel&&(j.logLevel=globalThis.$argument.LogLevel),j.debug("‚úÖ $argument",`$argument: ${JSON.stringify(globalThis.$argument)}`);let J={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",304:"Not Modified",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Content Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};function q(t,e){let i=e?new Date(e):new Date;for(let[e,a]of Object.entries({YY:i.getFullYear().toString().substring(3),yyyy:i.getFullYear().toString(),MM:(i.getMonth()+1).toString().padStart(2,"0"),dd:i.getDate().toString().padStart(2,"0"),HH:i.getHours().toString().padStart(2,"0"),mm:i.getMinutes().toString().padStart(2,"0"),sss:i.getMilliseconds().toString().padStart(3,"0"),ss:i.getSeconds().toString().padStart(2,"0"),S:`${Math.floor(i.getMonth()/3)+1}`}))t=t.replace(e,a);return t}async function Z(t,e={}){switch(typeof t){case"object":t={...e,...t};break;case"string":t={...e,url:t};break;default:throw TypeError(`${Function.name}: ÂèÇÊï∞Á±ªÂûãÈîôËØØ, resource ÂøÖÈ°ª‰∏∫ÂØπË±°ÊàñÂ≠óÁ¨¶‰∏≤`)}!t.method&&(t.method="GET",(t.body??t.bodyBytes)&&(t.method="POST")),delete t.headers?.Host,delete t.headers?.[":authority"],delete t.headers?.["Content-Length"],delete t.headers?.["content-length"];let i=t.method.toLocaleLowerCase();switch(!t.timeout&&(t.timeout=5),t.timeout&&(t.timeout=Number.parseInt(t.timeout,10),t.timeout>500&&(t.timeout=Math.round(t.timeout/1e3))),G){case"Loon":case"Surge":case"Stash":case"Egern":case"Shadowrocket":default:if(t.timeout&&"Loon"===G&&(t.timeout=1e3*t.timeout),t.policy)switch(G){case"Loon":t.node=t.policy;break;case"Stash":Y.set(t,"headers.X-Stash-Selected-Proxy",encodeURI(t.policy));break;case"Shadowrocket":Y.set(t,"headers.X-Surge-Proxy",t.policy)}switch("boolean"==typeof t.redirection&&(t["auto-redirect"]=t.redirection),t.bodyBytes&&!t.body&&(t.body=t.bodyBytes,t.bodyBytes=void 0),(t.headers?.Accept||t.headers?.accept)?.split(";")?.[0]){case"application/protobuf":case"application/x-protobuf":case"application/vnd.google.protobuf":case"application/vnd.apple.flatbuffer":case"application/grpc":case"application/grpc+proto":case"application/octet-stream":t["binary-mode"]=!0}return await new Promise((e,a)=>{$httpClient[i](t,(i,s,n)=>{i?a(i):(s.ok=/^2\d\d$/.test(s.status),s.statusCode=s.status,s.statusText=J[s.status],n&&(s.body=n,!0==t["binary-mode"]&&(s.bodyBytes=n)),e(s))})});case"Quantumult X":return t.timeout=1e3*t.timeout,t.policy&&Y.set(t,"opts.policy",t.policy),"boolean"==typeof t["auto-redirect"]&&Y.set(t,"opts.redirection",t["auto-redirect"]),t.body instanceof ArrayBuffer?(t.bodyBytes=t.body,t.body=void 0):ArrayBuffer.isView(t.body)?(t.bodyBytes=t.body.buffer.slice(t.body.byteOffset,t.body.byteLength+t.body.byteOffset),t.body=void 0):t.body&&(t.bodyBytes=void 0),Promise.race([await $task.fetch(t).then(t=>{switch(t.ok=/^2\d\d$/.test(t.statusCode),t.status=t.statusCode,t.statusText=J[t.status],(t.headers?.["Content-Type"]??t.headers?.["content-type"])?.split(";")?.[0]){case"application/protobuf":case"application/x-protobuf":case"application/vnd.google.protobuf":case"application/vnd.apple.flatbuffer":case"application/grpc":case"application/grpc+proto":case"application/octet-stream":t.body=t.bodyBytes}return t.bodyBytes=void 0,t},t=>Promise.reject(t.error)),new Promise((e,i)=>{setTimeout(()=>{i(Error(`${Function.name}: ËØ∑Ê±ÇË∂ÖÊó∂, ËØ∑Ê£ÄÊü•ÁΩëÁªúÂêéÈáçËØï`))},t.timeout)})]);case"Node.js":{let e=globalThis.fetch?globalThis.fetch:require("node-fetch"),i=(globalThis.fetchCookie?globalThis.fetchCookie:require("fetch-cookie").default)(e);t.timeout=1e3*t.timeout,t.redirect=t.redirection?"follow":"manual";let{url:a,...s}=t;return Promise.race([await i(a,s).then(async t=>{let e,i=await t.arrayBuffer();try{e=t.headers.raw()}catch{e=Array.from(t.headers.entries()).reduce((t,[e,i])=>(t[e]=t[e]?[...t[e],i]:[i],t),{})}return{ok:t.ok??/^2\d\d$/.test(t.status),status:t.status,statusCode:t.status,statusText:t.statusText,body:new TextDecoder("utf-8").decode(i),bodyBytes:i,headers:Object.fromEntries(Object.entries(e).map(([t,e])=>[t,"set-cookie"!==t.toLowerCase()?e.toString():e]))}}).catch(t=>Promise.reject(t.message)),new Promise((e,i)=>{setTimeout(()=>{i(Error(`${Function.name}: ËØ∑Ê±ÇË∂ÖÊó∂, ËØ∑Ê£ÄÊü•ÁΩëÁªúÂêéÈáçËØï`))},t.timeout)})])}}}class X{static data=null;static dataFile="box.dat";static #n=/^@(?<key>[^.]+)(?:\.(?<path>.*))?$/;static getItem(t,e=null){let i=e;if(!0===t.startsWith("@")){let{key:e,path:a}=t.match(X.#n)?.groups;t=e;let s=X.getItem(t,{});"object"!=typeof s&&(s={}),i=Y.get(s,a);try{i=JSON.parse(i)}catch(t){}}else{switch(G){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":i=$persistentStore.read(t);break;case"Quantumult X":i=$prefs.valueForKey(t);break;case"Node.js":X.data=X.#r(X.dataFile),i=X.data?.[t];break;default:i=X.data?.[t]||null}try{i=JSON.parse(i)}catch(t){}}return i??e}static setItem(t=new String,e=new String){let i=!1;if(e="object"==typeof e?JSON.stringify(e):String(e),!0===t.startsWith("@")){let{key:a,path:s}=t.match(X.#n)?.groups;t=a;let n=X.getItem(t,{});"object"!=typeof n&&(n={}),Y.set(n,s,e),i=X.setItem(t,n)}else switch(G){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":i=$persistentStore.write(e,t);break;case"Quantumult X":i=$prefs.setValueForKey(e,t);break;case"Node.js":X.data=X.#r(X.dataFile),X.data[t]=e,X.#o(X.dataFile),i=!0;break;default:i=X.data?.[t]||null}return i}static removeItem(t){let e=!1;if(!0===t.startsWith("@")){let{key:i,path:a}=t.match(X.#n)?.groups;t=i;let s=X.getItem(t);"object"!=typeof s&&(s={}),keyValue=Y.unset(s,a),e=X.setItem(t,s)}else switch(G){case"Surge":e=$persistentStore.write(null,t);break;case"Loon":case"Stash":case"Egern":case"Shadowrocket":case"Node.js":default:e=!1;break;case"Quantumult X":e=$prefs.removeValueForKey(t)}return e}static clear(){let t=!1;switch(G){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":case"Node.js":default:t=!1;break;case"Quantumult X":t=$prefs.removeAllValues()}return t}static #r=t=>{if("Node.js"!==G)return{};{this.fs=this.fs?this.fs:require("node:fs"),this.path=this.path?this.path:require("node:path");let e=this.path.resolve(t),i=this.path.resolve(process.cwd(),t),a=this.fs.existsSync(e),s=!a&&this.fs.existsSync(i);if(!a&&!s)return{};try{return JSON.parse(this.fs.readFileSync(a?e:i))}catch(t){return{}}}};static #o=(t=this.dataFile)=>{if("Node.js"===G){this.fs=this.fs?this.fs:require("node:fs"),this.path=this.path?this.path:require("node:path");let e=this.path.resolve(t),i=this.path.resolve(process.cwd(),t),a=this.fs.existsSync(e),s=!a&&this.fs.existsSync(i),n=JSON.stringify(this.data);a?this.fs.writeFileSync(e,n):s?this.fs.writeFileSync(i,n):this.fs.writeFileSync(e,n)}}}let z={WeatherKit:{Settings:{DataSets:{Replace:"CN|HK|MO|TW|IT|LT|MT|FR|SK|NO|BY|IS|CZ|SI|DE|ES|UA|DK|PL|FI|SE|HR|RU|RO|PT|EE|RS|AT|GR|HU|FJ|GU|MH|NC|TR|BH|SA|ID|IR|SG|OM|PH|IN|KH|CY|MY|VN|KW|TH|KR|KP|CA|BS|KY|MX|PA|MQ|CU|BM|PR|CW|GP|NI|BR|GF|CO|GY|PY|AR",Value:["airQuality","currentWeather","forecastDaily","forecastHourly","forecastNextHour","locationInfo","news","historicalComparisons","weatherAlerts","weatherChanges"]},Weather:{Replace:"CN",Provider:"ColorfulClouds"},NextHour:{Fill:"CN|HK|MO|TW|IT|LT|MT|FR|SK|NO|BY|IS|CZ|SI|DE|ES|UA|DK|PL|FI|SE|HR|RU|RO|PT|EE|RS|AT|GR|HU|FJ|GU|MH|NC|TR|BH|SA|ID|IR|SG|OM|PH|IN|KH|CY|MY|VN|KW|TH|KR|KP|CA|BS|KY|MX|PA|MQ|CU|BM|PR|CW|GP|NI|BR|GF|CO|GY|PY|AR",Provider:"ColorfulClouds"},AirQuality:{Current:{Fill:"CN|HK|MO",Pollutants:{Provider:"ColorfulClouds",Units:{Replace:[],Mode:"Scale"}},Index:{Replace:["HJ6332012"],Provider:"Calculate",ForceCNPrimaryPollutants:!0}},Comparison:{Fill:"CN|HK|MO",ReplaceWhenCurrentChange:!1,Yesterday:{PollutantsProvider:"QWeather",IndexProvider:"ColorfulCloudsUS"}},Calculate:{Algorithm:"UBA",AllowOverRange:!0}},API:{WAQI:{Token:null},QWeather:{Token:null,Host:"devapi.qweather.com"},ColorfulClouds:{Token:null}}},Configs:{Availability:{v1:["currentWeather","dailyForecast","hourlyForecast","minuteForecast","weatherAlerts"],v2:["airQuality","currentWeather","forecastDaily","forecastHourly","forecastPeriodic","historicalComparisons","weatherChanges","forecastNextHour","weatherAlerts","weatherAlertNotifications","news"]}}},Default:{Settings:{LogLevel:"WARN"},Configs:{Storefront:{AE:"143481",AF:"143610",AG:"143540",AI:"143538",AL:"143575",AM:"143524",AO:"143564",AR:"143505",AT:"143445",AU:"143460",AZ:"143568",BA:"143612",BB:"143541",BD:"143490",BE:"143446",BF:"143578",BG:"143526",BH:"143559",BJ:"143576",BM:"143542",BN:"143560",BO:"143556",BR:"143503",BS:"143539",BT:"143577",BW:"143525",BY:"143565",BZ:"143555",CA:"143455",CD:"143613",CG:"143582",CH:"143459",CI:"143527",CL:"143483",CM:"143574",CN:"143465",CO:"143501",CR:"143495",CV:"143580",CY:"143557",CZ:"143489",DE:"143443",DK:"143458",DM:"143545",DO:"143508",DZ:"143563",EC:"143509",EE:"143518",EG:"143516",ES:"143454",FI:"143447",FJ:"143583",FM:"143591",FR:"143442",GA:"143614",GB:"143444",GD:"143546",GF:"143615",GH:"143573",GM:"143584",GR:"143448",GT:"143504",GW:"143585",GY:"143553",HK:"143463",HN:"143510",HR:"143494",HU:"143482",ID:"143476",IE:"143449",IL:"143491",IN:"143467",IQ:"143617",IS:"143558",IT:"143450",JM:"143511",JO:"143528",JP:"143462",KE:"143529",KG:"143586",KH:"143579",KN:"143548",KP:"143466",KR:"143466",KW:"143493",KY:"143544",KZ:"143517",TC:"143552",TD:"143581",TJ:"143603",TH:"143475",TM:"143604",TN:"143536",TO:"143608",TR:"143480",TT:"143551",TW:"143470",TZ:"143572",LA:"143587",LB:"143497",LC:"143549",LI:"143522",LK:"143486",LR:"143588",LT:"143520",LU:"143451",LV:"143519",LY:"143567",MA:"143620",MD:"143523",ME:"143619",MG:"143531",MK:"143530",ML:"143532",MM:"143570",MN:"143592",MO:"143515",MR:"143590",MS:"143547",MT:"143521",MU:"143533",MV:"143488",MW:"143589",MX:"143468",MY:"143473",MZ:"143593",NA:"143594",NE:"143534",NG:"143561",NI:"143512",NL:"143452",NO:"143457",NP:"143484",NR:"143606",NZ:"143461",OM:"143562",PA:"143485",PE:"143507",PG:"143597",PH:"143474",PK:"143477",PL:"143478",PT:"143453",PW:"143595",PY:"143513",QA:"143498",RO:"143487",RS:"143500",RU:"143469",RW:"143621",SA:"143479",SB:"143601",SC:"143599",SE:"143456",SG:"143464",SI:"143499",SK:"143496",SL:"143600",SN:"143535",SR:"143554",ST:"143598",SV:"143506",SZ:"143602",UA:"143492",UG:"143537",US:"143441",UY:"143514",UZ:"143566",VC:"143550",VE:"143502",VG:"143543",VN:"143471",VU:"143609",XK:"143624",YE:"143571",ZA:"143472",ZM:"143622",ZW:"143605"}}}};function tt(t){return/^\d+$/.test(t)&&(t=Number.parseInt(t,10)),t}let te=new Int32Array(2),ti=new Float32Array(te.buffer),ta=new Float64Array(te.buffer),ts=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];(A=t||(t={}))[A.UTF8_BYTES=1]="UTF8_BYTES",A[A.UTF16_STRING=2]="UTF16_STRING";class tn{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new tn(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return te["0"]=this.readInt32(t),ti["0"]}readFloat64(t){return te[+!ts]=this.readInt32(t),te[+!!ts]=this.readInt32(t+4),ta["0"]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,Number(BigInt.asIntN(32,e))),this.writeInt32(t+4,Number(BigInt.asIntN(32,e>>BigInt(32))))}writeUint64(t,e){this.writeUint32(t,Number(BigInt.asUintN(32,e))),this.writeUint32(t+4,Number(BigInt.asUintN(32,e>>BigInt(32))))}writeFloat32(t,e){ti["0"]=e,this.writeInt32(t,te["0"])}writeFloat64(t,e){ta["0"]=e,this.writeInt32(t,te[+!ts]),this.writeInt32(t+4,te[+!!ts])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){let i=t-this.readInt32(t);return e<this.readInt16(i)?this.readInt16(i+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(e,i){e+=this.readInt32(e);let a=this.readInt32(e);e+=4;let s=this.bytes_.subarray(e,e+a);return i===t.UTF8_BYTES?s:this.text_decoder_.decode(s)}__union_with_string(t,e){return"string"==typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw Error("FlatBuffers: file identifier must be length 4");for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createScalarList(t,e){let i=[];for(let a=0;a<e;++a){let e=t(a);null!==e&&i.push(e)}return i}createObjList(t,e){let i=[];for(let a=0;a<e;++a){let e=t(a);null!==e&&i.push(e.unpack())}return i}}class tr{constructor(t){let e;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder,e=t||1024,this.bb=tn.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);let i=~(this.bb.capacity()-this.space+e)+1&t-1;for(;this.space<i+t+e;){let t=this.bb.capacity();this.bb=tr.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(i)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,i){(this.force_defaults||e!=i)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,i){(this.force_defaults||e!=i)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,i){(this.force_defaults||e!=i)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,i){(this.force_defaults||e!==i)&&(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,i){(this.force_defaults||e!=i)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,i){e!=i&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){let e=t.capacity();if(0xc0000000&e)throw Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");let i=e<<1,a=tn.allocate(i);return a.setPosition(i-e),a.bytes().set(t.bytes(),i-e),a}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw Error("FlatBuffers: endObject called without startObject");this.addInt32(0);let t=this.offset(),e=this.vtable_in_use-1;for(;e>=0&&0==this.vtable[e];e--);let i=e+1;for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);let a=(i+2)*2;this.addInt16(a);let s=0,n=this.space;t:for(e=0;e<this.vtables.length;e++){let t=this.bb.capacity()-this.vtables[e];if(a==this.bb.readInt16(t)){for(let e=2;e<a;e+=2)if(this.bb.readInt16(n+e)!=this.bb.readInt16(t+e))continue t;s=this.vtables[e];break}}return s?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,s-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,i){let a=4*!!i;if(e){if(this.prep(this.minalign,8+a),4!=e.length)throw TypeError("FlatBuffers: file identifier must be length 4");for(let t=3;t>=0;t--)this.writeInt8(e.charCodeAt(t))}this.prep(this.minalign,4+a),this.addOffset(t),a&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){let i=this.bb.capacity()-t,a=i-this.bb.readInt32(i);if(!(e<this.bb.readInt16(a)&&0!=this.bb.readInt16(a+e)))throw TypeError("FlatBuffers: field "+e+" must be set")}startVector(t,e,i){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(i,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);let e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){let e;return null==t?0:(e=t instanceof Uint8Array?t:this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createByteVector(t){return null==t?0:(this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector())}createObjectOffset(t){return null===t?0:"string"==typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){let e=[];for(let i=0;i<t.length;++i){let a=t[i];if(null!==a)e.push(this.createObjectOffset(a));else throw TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}}(I=e||(e={}))[I.UNKNOWN=0]="UNKNOWN",I[I.MUCH_WORSE=1]="MUCH_WORSE",I[I.WORSE=2]="WORSE",I[I.SAME=3]="SAME",I[I.BETTER=4]="BETTER",I[I.MUCH_BETTER=5]="MUCH_BETTER",(T=i||(i={}))[T.APPLE_INTERNAL=0]="APPLE_INTERNAL",T[T.MODELED=1]="MODELED",T[T.STATION=2]="STATION",T[T.UNKNOWN3=3]="UNKNOWN3",T[T.UNKNOWN4=4]="UNKNOWN4";class to{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMetadata(t,e){return(e||new to).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMetadata(t,e){return t.setPosition(t.position()+4),(e||new to).__init(t.readInt32(t.position())+t.position(),t)}attributionUrl(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}expireTime(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}language(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}latitude(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readFloat32(this.bb_pos+t):0}longitude(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readFloat32(this.bb_pos+t):0}providerLogo(t){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null}providerName(t){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__string(this.bb_pos+e,t):null}readTime(){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readUint32(this.bb_pos+t):0}reportedTime(){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readUint32(this.bb_pos+t):0}temporarilyUnavailable(){let t=this.bb.__offset(this.bb_pos,22);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}sourceType(){let t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readInt8(this.bb_pos+t):i.APPLE_INTERNAL}static startMetadata(t){t.startObject(11)}static addAttributionUrl(t,e){t.addFieldOffset(0,e,0)}static addExpireTime(t,e){t.addFieldInt32(1,e,0)}static addLanguage(t,e){t.addFieldOffset(2,e,0)}static addLatitude(t,e){t.addFieldFloat32(3,e,0)}static addLongitude(t,e){t.addFieldFloat32(4,e,0)}static addProviderLogo(t,e){t.addFieldOffset(5,e,0)}static addProviderName(t,e){t.addFieldOffset(6,e,0)}static addReadTime(t,e){t.addFieldInt32(7,e,0)}static addReportedTime(t,e){t.addFieldInt32(8,e,0)}static addTemporarilyUnavailable(t,e){t.addFieldInt8(9,+e,0)}static addSourceType(t,e){t.addFieldInt8(10,e,i.APPLE_INTERNAL)}static endMetadata(t){return t.endObject()}static createMetadata(t,e,i,a,s,n,r,o,d,c,l,u){return to.startMetadata(t),to.addAttributionUrl(t,e),to.addExpireTime(t,i),to.addLanguage(t,a),to.addLatitude(t,s),to.addLongitude(t,n),to.addProviderLogo(t,r),to.addProviderName(t,o),to.addReadTime(t,d),to.addReportedTime(t,c),to.addTemporarilyUnavailable(t,l),to.addSourceType(t,u),to.endMetadata(t)}}(S=a||(a={}))[S.NOT_AVAILABLE=0]="NOT_AVAILABLE",S[S.C6H6=1]="C6H6",S[S.NH3=2]="NH3",S[S.NMHC=3]="NMHC",S[S.NO=4]="NO",S[S.NO2=5]="NO2",S[S.NOX=6]="NOX",S[S.OZONE=7]="OZONE",S[S.PM2_5=8]="PM2_5",S[S.SO2=9]="SO2",S[S.PM10=10]="PM10",S[S.CO=11]="CO",S[S.UNKNOWN12=12]="UNKNOWN12",S[S.UNKNOWN13=13]="UNKNOWN13",(v=s||(s={}))[v.PARTS_PER_BILLION=0]="PARTS_PER_BILLION",v[v.MICROGRAMS_PER_CUBIC_METER=1]="MICROGRAMS_PER_CUBIC_METER",v[v.UNKNOWN2=2]="UNKNOWN2",v[v.UNKNOWN3=3]="UNKNOWN3";class td{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsPollutant(t,e){return(e||new td).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsPollutant(t,e){return t.setPosition(t.position()+4),(e||new td).__init(t.readInt32(t.position())+t.position(),t)}pollutantType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):a.NOT_AVAILABLE}amount(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readFloat32(this.bb_pos+t):0}units(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt8(this.bb_pos+t):s.PARTS_PER_BILLION}static startPollutant(t){t.startObject(3)}static addPollutantType(t,e){t.addFieldInt8(0,e,a.NOT_AVAILABLE)}static addAmount(t,e){t.addFieldFloat32(1,e,0)}static addUnits(t,e){t.addFieldInt8(2,e,s.PARTS_PER_BILLION)}static endPollutant(t){return t.endObject()}static createPollutant(t,e,i,a){return td.startPollutant(t),td.addPollutantType(t,e),td.addAmount(t,i),td.addUnits(t,a),td.endPollutant(t)}}class tc{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAirQuality(t,e){return(e||new tc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAirQuality(t,e){return t.setPosition(t.position()+4),(e||new tc).__init(t.readInt32(t.position())+t.position(),t)}metadata(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new to).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}categoryIndex(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):0}index(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}isSignificant(){let t=this.bb.__offset(this.bb_pos,10);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}pollutants(t,e){let i=this.bb.__offset(this.bb_pos,12);return i?(e||new td).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}pollutantsLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}previousDayComparison(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt8(this.bb_pos+t):e.UNKNOWN}primaryPollutant(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt8(this.bb_pos+t):a.NOT_AVAILABLE}scale(t){let e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,t):null}static startAirQuality(t){t.startObject(8)}static addMetadata(t,e){t.addFieldOffset(0,e,0)}static addCategoryIndex(t,e){t.addFieldInt8(1,e,0)}static addIndex(t,e){t.addFieldInt16(2,e,0)}static addIsSignificant(t,e){t.addFieldInt8(3,+e,0)}static addPollutants(t,e){t.addFieldOffset(4,e,0)}static createPollutantsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startPollutantsVector(t,e){t.startVector(4,e,4)}static addPreviousDayComparison(t,i){t.addFieldInt8(5,i,e.UNKNOWN)}static addPrimaryPollutant(t,e){t.addFieldInt8(6,e,a.NOT_AVAILABLE)}static addScale(t,e){t.addFieldOffset(7,e,0)}static endAirQuality(t){return t.endObject()}static createAirQuality(t,e,i,a,s,n,r,o,d){return tc.startAirQuality(t),tc.addMetadata(t,e),tc.addCategoryIndex(t,i),tc.addIndex(t,a),tc.addIsSignificant(t,s),tc.addPollutants(t,n),tc.addPreviousDayComparison(t,r),tc.addPrimaryPollutant(t,o),tc.addScale(t,d),tc.endAirQuality(t)}}class tl{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsArticles(t,e){return(e||new tl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsArticles(t,e){return t.setPosition(t.position()+4),(e||new tl).__init(t.readInt32(t.position())+t.position(),t)}id(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}supportedStorefronts(t,e){let i=this.bb.__offset(this.bb_pos,6);return i?this.bb.__string(this.bb.__vector(this.bb_pos+i)+4*t,e):null}supportedStorefrontsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}alertIds(t,e){let i=this.bb.__offset(this.bb_pos,8);return i?this.bb.__string(this.bb.__vector(this.bb_pos+i)+4*t,e):null}alertIdsLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}phenomena(t,e){let i=this.bb.__offset(this.bb_pos,10);return i?this.bb.__string(this.bb.__vector(this.bb_pos+i)+4*t,e):null}phenomenaLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}headlineOverride(t){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,t):null}locale(t){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null}static startArticles(t){t.startObject(6)}static addId(t,e){t.addFieldOffset(0,e,0)}static addSupportedStorefronts(t,e){t.addFieldOffset(1,e,0)}static createSupportedStorefrontsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startSupportedStorefrontsVector(t,e){t.startVector(4,e,4)}static addAlertIds(t,e){t.addFieldOffset(2,e,0)}static createAlertIdsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startAlertIdsVector(t,e){t.startVector(4,e,4)}static addPhenomena(t,e){t.addFieldOffset(3,e,0)}static createPhenomenaVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startPhenomenaVector(t,e){t.startVector(4,e,4)}static addHeadlineOverride(t,e){t.addFieldOffset(4,e,0)}static addLocale(t,e){t.addFieldOffset(5,e,0)}static endArticles(t){return t.endObject()}static createArticles(t,e,i,a,s,n,r){return tl.startArticles(t),tl.addId(t,e),tl.addSupportedStorefronts(t,i),tl.addAlertIds(t,a),tl.addPhenomena(t,s),tl.addHeadlineOverride(t,n),tl.addLocale(t,r),tl.endArticles(t)}}(O=n||(n={}))[O.MEAN=0]="MEAN",O[O.UNKNOWN1=1]="UNKNOWN1",O[O.UNKNOWN2=2]="UNKNOWN2",O[O.UNKNOWN3=3]="UNKNOWN3",O[O.UNKNOWN4=4]="UNKNOWN4",O[O.UNKNOWN5=5]="UNKNOWN5",(F=r||(r={}))[F.UNKNOWN=0]="UNKNOWN",F[F.OBSERVED=1]="OBSERVED",F[F.LIKELY=2]="LIKELY",F[F.POSSIBLE=3]="POSSIBLE",F[F.UNLIKELY=4]="UNLIKELY",F[F.UNKNOWN5=5]="UNKNOWN5",(w=o||(o={}))[w.STEADY=0]="STEADY",w[w.INC=1]="INC",w[w.DEC=2]="DEC",w[w.UNKNOWN3=3]="UNKNOWN3";class tu{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsChange(t,e){return(e||new tu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsChange(t,e){return t.setPosition(t.position()+4),(e||new tu).__init(t.readInt32(t.position())+t.position(),t)}forecastStart(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}forecastEnd(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}maxTemperatureChange(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt8(this.bb_pos+t):o.STEADY}minTemperatureChange(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt8(this.bb_pos+t):o.STEADY}dayPrecipitationChange(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt8(this.bb_pos+t):o.STEADY}nightPrecipitationChange(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt8(this.bb_pos+t):o.STEADY}static startChange(t){t.startObject(6)}static addForecastStart(t,e){t.addFieldInt32(0,e,0)}static addForecastEnd(t,e){t.addFieldInt32(1,e,0)}static addMaxTemperatureChange(t,e){t.addFieldInt8(2,e,o.STEADY)}static addMinTemperatureChange(t,e){t.addFieldInt8(3,e,o.STEADY)}static addDayPrecipitationChange(t,e){t.addFieldInt8(4,e,o.STEADY)}static addNightPrecipitationChange(t,e){t.addFieldInt8(5,e,o.STEADY)}static endChange(t){return t.endObject()}static createChange(t,e,i,a,s,n,r){return tu.startChange(t),tu.addForecastStart(t,e),tu.addForecastEnd(t,i),tu.addMaxTemperatureChange(t,a),tu.addMinTemperatureChange(t,s),tu.addDayPrecipitationChange(t,n),tu.addNightPrecipitationChange(t,r),tu.endChange(t)}}(P=d||(d={}))[P.UNKNOWN0=0]="UNKNOWN0",P[P.TEMPERATURE_MAX=1]="TEMPERATURE_MAX",P[P.PRECIPITATION=2]="PRECIPITATION",P[P.UNKNOWN3=3]="UNKNOWN3",(E=c||(c={}))[E.MUCHHIGHER=0]="MUCHHIGHER",E[E.HIGHER=1]="HIGHER",E[E.NORMAL=2]="NORMAL",E[E.LOWER=3]="LOWER",E[E.MUCHLOWER=4]="MUCHLOWER",E[E.UNKNOWN5=5]="UNKNOWN5";class tp{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsComparison(t,e){return(e||new tp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsComparison(t,e){return t.setPosition(t.position()+4),(e||new tp).__init(t.readInt32(t.position())+t.position(),t)}condition(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):d.UNKNOWN0}currentValue(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readFloat32(this.bb_pos+t):0}baselineValue(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb_pos+t):0}deviation(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt8(this.bb_pos+t):c.MUCHHIGHER}baselineType(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint32(this.bb_pos+t):0}baselineStartDate(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readUint32(this.bb_pos+t):0}static startComparison(t){t.startObject(6)}static addCondition(t,e){t.addFieldInt8(0,e,d.UNKNOWN0)}static addCurrentValue(t,e){t.addFieldFloat32(1,e,0)}static addBaselineValue(t,e){t.addFieldFloat32(2,e,0)}static addDeviation(t,e){t.addFieldInt8(3,e,c.MUCHHIGHER)}static addBaselineType(t,e){t.addFieldInt32(4,e,0)}static addBaselineStartDate(t,e){t.addFieldInt32(5,e,0)}static endComparison(t){return t.endObject()}static createComparison(t,e,i,a,s,n,r){return tp.startComparison(t),tp.addCondition(t,e),tp.addCurrentValue(t,i),tp.addBaselineValue(t,a),tp.addDeviation(t,s),tp.addBaselineType(t,n),tp.addBaselineStartDate(t,r),tp.endComparison(t)}}(M=l||(l={}))[M.CLEAR=0]="CLEAR",M[M.UNKNOWN1=1]="UNKNOWN1",M[M.UNKNOWN2=2]="UNKNOWN2",M[M.SLEET=3]="SLEET",M[M.POSSIBLE_SLEET=4]="POSSIBLE_SLEET",M[M.HEAVY_RAIN=5]="HEAVY_RAIN",M[M.RAIN=6]="RAIN",M[M.DRIZZLE=7]="DRIZZLE",M[M.POSSIBLE_DRIZZLE=8]="POSSIBLE_DRIZZLE",M[M.HEAVY_SNOW=9]="HEAVY_SNOW",M[M.SNOW=10]="SNOW",M[M.UNKNOWN11=11]="UNKNOWN11",M[M.UNKNOWN12=12]="UNKNOWN12",M[M.UNKNOWN13=13]="UNKNOWN13",M[M.UNKNOWN14=14]="UNKNOWN14",M[M.UNKNOWN15=15]="UNKNOWN15",M[M.UNKNOWN16=16]="UNKNOWN16",M[M.UNKNOWN17=17]="UNKNOWN17",M[M.UNKNOWN18=18]="UNKNOWN18",(R=u||(u={}))[R.CLEAR=0]="CLEAR",R[R.START=1]="START",R[R.STOP=2]="STOP",R[R.START_STOP=3]="START_STOP",R[R.STOP_START=4]="STOP_START",R[R.CONSTANT=5]="CONSTANT",R[R.UNKNOWN6=6]="UNKNOWN6",R[R.UNKNOWN7=7]="UNKNOWN7",(U=p||(p={}))[U.FIRST_AT=0]="FIRST_AT",U[U.SECOND_AT=1]="SECOND_AT",U[U.UNKNOWN2=2]="UNKNOWN2";class tb{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsParameter(t,e){return(e||new tb).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsParameter(t,e){return t.setPosition(t.position()+4),(e||new tb).__init(t.readInt32(t.position())+t.position(),t)}type(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):p.FIRST_AT}date(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}static startParameter(t){t.startObject(2)}static addType(t,e){t.addFieldInt8(0,e,p.FIRST_AT)}static addDate(t,e){t.addFieldInt32(1,e,0)}static endParameter(t){return t.endObject()}static createParameter(t,e,i){return tb.startParameter(t),tb.addType(t,e),tb.addDate(t,i),tb.endParameter(t)}}class th{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCondition(t,e){return(e||new th).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCondition(t,e){return t.setPosition(t.position()+4),(e||new th).__init(t.readInt32(t.position())+t.position(),t)}startTime(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}endTime(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}forecastToken(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt8(this.bb_pos+t):u.CLEAR}beginCondition(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt8(this.bb_pos+t):l.CLEAR}endCondition(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt8(this.bb_pos+t):l.CLEAR}parameters(t,e){let i=this.bb.__offset(this.bb_pos,14);return i?(e||new tb).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}parametersLength(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}static startCondition(t){t.startObject(6)}static addStartTime(t,e){t.addFieldInt32(0,e,0)}static addEndTime(t,e){t.addFieldInt32(1,e,0)}static addForecastToken(t,e){t.addFieldInt8(2,e,u.CLEAR)}static addBeginCondition(t,e){t.addFieldInt8(3,e,l.CLEAR)}static addEndCondition(t,e){t.addFieldInt8(4,e,l.CLEAR)}static addParameters(t,e){t.addFieldOffset(5,e,0)}static createParametersVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startParametersVector(t,e){t.startVector(4,e,4)}static endCondition(t){return t.endObject()}static createCondition(t,e,i,a,s,n,r){return th.startCondition(t),th.addStartTime(t,e),th.addEndTime(t,i),th.addForecastToken(t,a),th.addBeginCondition(t,s),th.addEndCondition(t,n),th.addParameters(t,r),th.endCondition(t)}}(W=b||(b={}))[W.CLEAR=0]="CLEAR",W[W.RAIN=1]="RAIN",W[W.SNOW=2]="SNOW",W[W.SLEET=3]="SLEET",W[W.HAIL=4]="HAIL",W[W.MIXED=5]="MIXED",W[W.UNKNOWN6=6]="UNKNOWN6";class tm{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsPrecipitationAmountByType(t,e){return(e||new tm).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsPrecipitationAmountByType(t,e){return t.setPosition(t.position()+4),(e||new tm).__init(t.readInt32(t.position())+t.position(),t)}precipitationType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):b.CLEAR}expected(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readFloat32(this.bb_pos+t):0}minimumSnow(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb_pos+t):0}maximumSnow(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readFloat32(this.bb_pos+t):0}expectedSnow(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readFloat32(this.bb_pos+t):0}static startPrecipitationAmountByType(t){t.startObject(5)}static addPrecipitationType(t,e){t.addFieldInt8(0,e,b.CLEAR)}static addExpected(t,e){t.addFieldFloat32(1,e,0)}static addMinimumSnow(t,e){t.addFieldFloat32(2,e,0)}static addMaximumSnow(t,e){t.addFieldFloat32(3,e,0)}static addExpectedSnow(t,e){t.addFieldFloat32(4,e,0)}static endPrecipitationAmountByType(t){return t.endObject()}static createPrecipitationAmountByType(t,e,i,a,s,n){return tm.startPrecipitationAmountByType(t),tm.addPrecipitationType(t,e),tm.addExpected(t,i),tm.addMinimumSnow(t,a),tm.addMaximumSnow(t,s),tm.addExpectedSnow(t,n),tm.endPrecipitationAmountByType(t)}}(L=h||(h={}))[L.RISING=0]="RISING",L[L.FALLING=1]="FALLING",L[L.STEADY=2]="STEADY",L[L.UNKNOWN3=3]="UNKNOWN3",(D=m||(m={}))[D.CLEAR=0]="CLEAR",D[D.BLIZZARD=1]="BLIZZARD",D[D.PRECIPITATION=2]="PRECIPITATION",D[D.UNKNOWN3=3]="UNKNOWN3",D[D.UNKNOWN4=4]="UNKNOWN4",D[D.CLOUDY=5]="CLOUDY",D[D.DRIZZLE=6]="DRIZZLE",D[D.FLURRIES=7]="FLURRIES",D[D.FOGGY=8]="FOGGY",D[D.UNKNOWN9=9]="UNKNOWN9",D[D.UNKNOWN10=10]="UNKNOWN10",D[D.UNKNOWN11=11]="UNKNOWN11",D[D.UNKNOWN12=12]="UNKNOWN12",D[D.HAZE=13]="HAZE",D[D.HEAVY_RAIN=14]="HEAVY_RAIN",D[D.HEAVY_SNOW=15]="HEAVY_SNOW",D[D.UNKNOWN16=16]="UNKNOWN16",D[D.UNKNOWN17=17]="UNKNOWN17",D[D.ISOLATED_THUNDERSTORMS=18]="ISOLATED_THUNDERSTORMS",D[D.MOSTLY_CLEAR=19]="MOSTLY_CLEAR",D[D.MOSTLY_CLOUDY=20]="MOSTLY_CLOUDY",D[D.PARTLY_CLOUDY=21]="PARTLY_CLOUDY",D[D.RAIN=22]="RAIN",D[D.UNKNOWN23=23]="UNKNOWN23",D[D.UNKNOWN24=24]="UNKNOWN24",D[D.UNKNOWN25=25]="UNKNOWN25",D[D.SNOW=26]="SNOW",D[D.UNKNOWN27=27]="UNKNOWN27",D[D.UNKNOWN28=28]="UNKNOWN28",D[D.FREEZING_DRIZZLE=29]="FREEZING_DRIZZLE",D[D.THUNDERSTORMS=30]="THUNDERSTORMS",D[D.UNKNOWN31=31]="UNKNOWN31",D[D.WINDY=32]="WINDY",D[D.WINTRY_MIX=33]="WINTRY_MIX",D[D.UNKNOWN34=34]="UNKNOWN34",D[D.UNKNOWN35=35]="UNKNOWN35",D[D.UNKNOWN36=36]="UNKNOWN36",D[D.UNKNOWN37=37]="UNKNOWN37",D[D.UNKNOWN38=38]="UNKNOWN38",D[D.UNKNOWN39=39]="UNKNOWN39",D[D.UNKNOWN40=40]="UNKNOWN40",D[D.UNKNOWN41=41]="UNKNOWN41",D[D.UNKNOWN42=42]="UNKNOWN42",D[D.UNKNOWN43=43]="UNKNOWN43",D[D.UNKNOWN44=44]="UNKNOWN44";class t_{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCurrentWeatherData(t,e){return(e||new t_).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCurrentWeatherData(t,e){return t.setPosition(t.position()+4),(e||new t_).__init(t.readInt32(t.position())+t.position(),t)}metadata(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new to).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}asOf(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}cloudCover(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt8(this.bb_pos+t):0}cloudCoverLowAltPct(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt8(this.bb_pos+t):0}cloudCoverMidAltPct(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt8(this.bb_pos+t):0}cloudCoverHighAltPct(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt8(this.bb_pos+t):0}conditionCode(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt8(this.bb_pos+t):m.CLEAR}daylight(){let t=this.bb.__offset(this.bb_pos,18);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}humidity(){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt8(this.bb_pos+t):0}perceivedPrecipitationIntensity(){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}precipitationAmount1h(){let t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}precipitationAmount6h(){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0}precipitationAmount24h(){let t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0}precipitationAmountNext1h(){let t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readFloat32(this.bb_pos+t):0}precipitationAmountNext6h(){let t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0}precipitationAmountNext24h(){let t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}precipitationAmountNext1hByType(t,e){let i=this.bb.__offset(this.bb_pos,36);return i?(e||new tm).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}precipitationAmountNext1hByTypeLength(){let t=this.bb.__offset(this.bb_pos,36);return t?this.bb.__vector_len(this.bb_pos+t):0}precipitationAmountNext6hByType(t,e){let i=this.bb.__offset(this.bb_pos,38);return i?(e||new tm).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}precipitationAmountNext6hByTypeLength(){let t=this.bb.__offset(this.bb_pos,38);return t?this.bb.__vector_len(this.bb_pos+t):0}precipitationAmountNext24hByType(t,e){let i=this.bb.__offset(this.bb_pos,40);return i?(e||new tm).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}precipitationAmountNext24hByTypeLength(){let t=this.bb.__offset(this.bb_pos,40);return t?this.bb.__vector_len(this.bb_pos+t):0}precipitationAmountPrevious1hByType(t,e){let i=this.bb.__offset(this.bb_pos,42);return i?(e||new tm).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}precipitationAmountPrevious1hByTypeLength(){let t=this.bb.__offset(this.bb_pos,42);return t?this.bb.__vector_len(this.bb_pos+t):0}precipitationAmountPrevious6hByType(t,e){let i=this.bb.__offset(this.bb_pos,44);return i?(e||new tm).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}precipitationAmountPrevious6hByTypeLength(){let t=this.bb.__offset(this.bb_pos,44);return t?this.bb.__vector_len(this.bb_pos+t):0}precipitationAmountPrevious24hByType(t,e){let i=this.bb.__offset(this.bb_pos,46);return i?(e||new tm).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}precipitationAmountPrevious24hByTypeLength(){let t=this.bb.__offset(this.bb_pos,46);return t?this.bb.__vector_len(this.bb_pos+t):0}precipitationIntensity(){let t=this.bb.__offset(this.bb_pos,48);return t?this.bb.readFloat32(this.bb_pos+t):0}pressure(){let t=this.bb.__offset(this.bb_pos,50);return t?this.bb.readFloat32(this.bb_pos+t):0}pressureTrend(){let t=this.bb.__offset(this.bb_pos,52);return t?this.bb.readInt8(this.bb_pos+t):h.RISING}snowfallAmount1h(){let t=this.bb.__offset(this.bb_pos,54);return t?this.bb.readFloat32(this.bb_pos+t):0}snowfallAmount6h(){let t=this.bb.__offset(this.bb_pos,56);return t?this.bb.readFloat32(this.bb_pos+t):0}snowfallAmount24h(){let t=this.bb.__offset(this.bb_pos,58);return t?this.bb.readFloat32(this.bb_pos+t):0}snowfallAmountNext1h(){let t=this.bb.__offset(this.bb_pos,60);return t?this.bb.readFloat32(this.bb_pos+t):0}snowfallAmountNext6h(){let t=this.bb.__offset(this.bb_pos,62);return t?this.bb.readFloat32(this.bb_pos+t):0}snowfallAmountNext24h(){let t=this.bb.__offset(this.bb_pos,64);return t?this.bb.readFloat32(this.bb_pos+t):0}temperature(){let t=this.bb.__offset(this.bb_pos,66);return t?this.bb.readFloat32(this.bb_pos+t):0}temperatureApparent(){let t=this.bb.__offset(this.bb_pos,68);return t?this.bb.readFloat32(this.bb_pos+t):0}unknown34(){let t=this.bb.__offset(this.bb_pos,70);return t?this.bb.readFloat32(this.bb_pos+t):0}temperatureDewPoint(){let t=this.bb.__offset(this.bb_pos,72);return t?this.bb.readFloat32(this.bb_pos+t):0}uvIndex(){let t=this.bb.__offset(this.bb_pos,74);return t?this.bb.readInt8(this.bb_pos+t):0}visibility(){let t=this.bb.__offset(this.bb_pos,76);return t?this.bb.readFloat32(this.bb_pos+t):0}windDirection(){let t=this.bb.__offset(this.bb_pos,78);return t?this.bb.readInt16(this.bb_pos+t):0}windGust(){let t=this.bb.__offset(this.bb_pos,80);return t?this.bb.readFloat32(this.bb_pos+t):0}windSpeed(){let t=this.bb.__offset(this.bb_pos,82);return t?this.bb.readFloat32(this.bb_pos+t):0}static startCurrentWeatherData(t){t.startObject(40)}static addMetadata(t,e){t.addFieldOffset(0,e,0)}static addAsOf(t,e){t.addFieldInt32(1,e,0)}static addCloudCover(t,e){t.addFieldInt8(2,e,0)}static addCloudCoverLowAltPct(t,e){t.addFieldInt8(3,e,0)}static addCloudCoverMidAltPct(t,e){t.addFieldInt8(4,e,0)}static addCloudCoverHighAltPct(t,e){t.addFieldInt8(5,e,0)}static addConditionCode(t,e){t.addFieldInt8(6,e,m.CLEAR)}static addDaylight(t,e){t.addFieldInt8(7,+e,0)}static addHumidity(t,e){t.addFieldInt8(8,e,0)}static addPerceivedPrecipitationIntensity(t,e){t.addFieldFloat32(9,e,0)}static addPrecipitationAmount1h(t,e){t.addFieldFloat32(10,e,0)}static addPrecipitationAmount6h(t,e){t.addFieldFloat32(11,e,0)}static addPrecipitationAmount24h(t,e){t.addFieldFloat32(12,e,0)}static addPrecipitationAmountNext1h(t,e){t.addFieldFloat32(13,e,0)}static addPrecipitationAmountNext6h(t,e){t.addFieldFloat32(14,e,0)}static addPrecipitationAmountNext24h(t,e){t.addFieldFloat32(15,e,0)}static addPrecipitationAmountNext1hByType(t,e){t.addFieldOffset(16,e,0)}static createPrecipitationAmountNext1hByTypeVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startPrecipitationAmountNext1hByTypeVector(t,e){t.startVector(4,e,4)}static addPrecipitationAmountNext6hByType(t,e){t.addFieldOffset(17,e,0)}static createPrecipitationAmountNext6hByTypeVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startPrecipitationAmountNext6hByTypeVector(t,e){t.startVector(4,e,4)}static addPrecipitationAmountNext24hByType(t,e){t.addFieldOffset(18,e,0)}static createPrecipitationAmountNext24hByTypeVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startPrecipitationAmountNext24hByTypeVector(t,e){t.startVector(4,e,4)}static addPrecipitationAmountPrevious1hByType(t,e){t.addFieldOffset(19,e,0)}static createPrecipitationAmountPrevious1hByTypeVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startPrecipitationAmountPrevious1hByTypeVector(t,e){t.startVector(4,e,4)}static addPrecipitationAmountPrevious6hByType(t,e){t.addFieldOffset(20,e,0)}static createPrecipitationAmountPrevious6hByTypeVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startPrecipitationAmountPrevious6hByTypeVector(t,e){t.startVector(4,e,4)}static addPrecipitationAmountPrevious24hByType(t,e){t.addFieldOffset(21,e,0)}static createPrecipitationAmountPrevious24hByTypeVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startPrecipitationAmountPrevious24hByTypeVector(t,e){t.startVector(4,e,4)}static addPrecipitationIntensity(t,e){t.addFieldFloat32(22,e,0)}static addPressure(t,e){t.addFieldFloat32(23,e,0)}static addPressureTrend(t,e){t.addFieldInt8(24,e,h.RISING)}static addSnowfallAmount1h(t,e){t.addFieldFloat32(25,e,0)}static addSnowfallAmount6h(t,e){t.addFieldFloat32(26,e,0)}static addSnowfallAmount24h(t,e){t.addFieldFloat32(27,e,0)}static addSnowfallAmountNext1h(t,e){t.addFieldFloat32(28,e,0)}static addSnowfallAmountNext6h(t,e){t.addFieldFloat32(29,e,0)}static addSnowfallAmountNext24h(t,e){t.addFieldFloat32(30,e,0)}static addTemperature(t,e){t.addFieldFloat32(31,e,0)}static addTemperatureApparent(t,e){t.addFieldFloat32(32,e,0)}static addUnknown34(t,e){t.addFieldFloat32(33,e,0)}static addTemperatureDewPoint(t,e){t.addFieldFloat32(34,e,0)}static addUvIndex(t,e){t.addFieldInt8(35,e,0)}static addVisibility(t,e){t.addFieldFloat32(36,e,0)}static addWindDirection(t,e){t.addFieldInt16(37,e,0)}static addWindGust(t,e){t.addFieldFloat32(38,e,0)}static addWindSpeed(t,e){t.addFieldFloat32(39,e,0)}static endCurrentWeatherData(t){return t.endObject()}static createCurrentWeatherData(t,e,i,a,s,n,r,o,d,c,l,u,p,b,h,m,_,f,y,g,C,N,x,A,I,T,S,v,O,F,w,P,E,M,R,U,W,L,D,B,$){return t_.startCurrentWeatherData(t),t_.addMetadata(t,e),t_.addAsOf(t,i),t_.addCloudCover(t,a),t_.addCloudCoverLowAltPct(t,s),t_.addCloudCoverMidAltPct(t,n),t_.addCloudCoverHighAltPct(t,r),t_.addConditionCode(t,o),t_.addDaylight(t,d),t_.addHumidity(t,c),t_.addPerceivedPrecipitationIntensity(t,l),t_.addPrecipitationAmount1h(t,u),t_.addPrecipitationAmount6h(t,p),t_.addPrecipitationAmount24h(t,b),t_.addPrecipitationAmountNext1h(t,h),t_.addPrecipitationAmountNext6h(t,m),t_.addPrecipitationAmountNext24h(t,_),t_.addPrecipitationAmountNext1hByType(t,f),t_.addPrecipitationAmountNext6hByType(t,y),t_.addPrecipitationAmountNext24hByType(t,g),t_.addPrecipitationAmountPrevious1hByType(t,C),t_.addPrecipitationAmountPrevious6hByType(t,N),t_.addPrecipitationAmountPrevious24hByType(t,x),t_.addPrecipitationIntensity(t,A),t_.addPressure(t,I),t_.addPressureTrend(t,T),t_.addSnowfallAmount1h(t,S),t_.addSnowfallAmount6h(t,v),t_.addSnowfallAmount24h(t,O),t_.addSnowfallAmountNext1h(t,F),t_.addSnowfallAmountNext6h(t,w),t_.addSnowfallAmountNext24h(t,P),t_.addTemperature(t,E),t_.addTemperatureApparent(t,M),t_.addUnknown34(t,R),t_.addTemperatureDewPoint(t,U),t_.addUvIndex(t,W),t_.addVisibility(t,L),t_.addWindDirection(t,D),t_.addWindGust(t,B),t_.addWindSpeed(t,$),t_.endCurrentWeatherData(t)}}class tf{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDayPartForecast(t,e){return(e||new tf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDayPartForecast(t,e){return t.setPosition(t.position()+4),(e||new tf).__init(t.readInt32(t.position())+t.position(),t)}forecastStart(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}forecastEnd(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}cloudCover(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt8(this.bb_pos+t):0}cloudCoverLowAltPct(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt8(this.bb_pos+t):0}cloudCoverMidAltPct(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt8(this.bb_pos+t):0}cloudCoverHighAltPct(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt8(this.bb_pos+t):0}conditionCode(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt8(this.bb_pos+t):m.CLEAR}humidity(){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt8(this.bb_pos+t):0}humidityMax(){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt8(this.bb_pos+t):0}humidityMin(){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt8(this.bb_pos+t):0}precipitationAmount(){let t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}precipitationAmountByType(t,e){let i=this.bb.__offset(this.bb_pos,26);return i?(e||new tm).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}precipitationAmountByTypeLength(){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.__vector_len(this.bb_pos+t):0}precipitationChance(){let t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readInt8(this.bb_pos+t):0}precipitationType(){let t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readInt8(this.bb_pos+t):b.CLEAR}snowfallAmount(){let t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0}temperatureMax(){let t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}temperatureMin(){let t=this.bb.__offset(this.bb_pos,36);return t?this.bb.readFloat32(this.bb_pos+t):0}visibilityMax(){let t=this.bb.__offset(this.bb_pos,38);return t?this.bb.readFloat32(this.bb_pos+t):0}visibilityMin(){let t=this.bb.__offset(this.bb_pos,40);return t?this.bb.readFloat32(this.bb_pos+t):0}windDirection(){let t=this.bb.__offset(this.bb_pos,42);return t?this.bb.readInt16(this.bb_pos+t):0}windGustSpeedMax(){let t=this.bb.__offset(this.bb_pos,44);return t?this.bb.readFloat32(this.bb_pos+t):0}windSpeed(){let t=this.bb.__offset(this.bb_pos,46);return t?this.bb.readFloat32(this.bb_pos+t):0}windSpeedMax(){let t=this.bb.__offset(this.bb_pos,48);return t?this.bb.readFloat32(this.bb_pos+t):0}precipitationIntensityMax(){let t=this.bb.__offset(this.bb_pos,50);return t?this.bb.readFloat32(this.bb_pos+t):0}perceivedPrecipitationIntensityMax(){let t=this.bb.__offset(this.bb_pos,52);return t?this.bb.readFloat32(this.bb_pos+t):0}uvIndexMin(){let t=this.bb.__offset(this.bb_pos,54);return t?this.bb.readInt8(this.bb_pos+t):0}uvIndexMax(){let t=this.bb.__offset(this.bb_pos,56);return t?this.bb.readInt8(this.bb_pos+t):0}temperatureApparentMin(){let t=this.bb.__offset(this.bb_pos,58);return t?this.bb.readFloat32(this.bb_pos+t):0}temperatureApparentMax(){let t=this.bb.__offset(this.bb_pos,60);return t?this.bb.readFloat32(this.bb_pos+t):0}daylight(){let t=this.bb.__offset(this.bb_pos,62);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDayPartForecast(t){t.startObject(30)}static addForecastStart(t,e){t.addFieldInt32(0,e,0)}static addForecastEnd(t,e){t.addFieldInt32(1,e,0)}static addCloudCover(t,e){t.addFieldInt8(2,e,0)}static addCloudCoverLowAltPct(t,e){t.addFieldInt8(3,e,0)}static addCloudCoverMidAltPct(t,e){t.addFieldInt8(4,e,0)}static addCloudCoverHighAltPct(t,e){t.addFieldInt8(5,e,0)}static addConditionCode(t,e){t.addFieldInt8(6,e,m.CLEAR)}static addHumidity(t,e){t.addFieldInt8(7,e,0)}static addHumidityMax(t,e){t.addFieldInt8(8,e,0)}static addHumidityMin(t,e){t.addFieldInt8(9,e,0)}static addPrecipitationAmount(t,e){t.addFieldFloat32(10,e,0)}static addPrecipitationAmountByType(t,e){t.addFieldOffset(11,e,0)}static createPrecipitationAmountByTypeVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startPrecipitationAmountByTypeVector(t,e){t.startVector(4,e,4)}static addPrecipitationChance(t,e){t.addFieldInt8(12,e,0)}static addPrecipitationType(t,e){t.addFieldInt8(13,e,b.CLEAR)}static addSnowfallAmount(t,e){t.addFieldFloat32(14,e,0)}static addTemperatureMax(t,e){t.addFieldFloat32(15,e,0)}static addTemperatureMin(t,e){t.addFieldFloat32(16,e,0)}static addVisibilityMax(t,e){t.addFieldFloat32(17,e,0)}static addVisibilityMin(t,e){t.addFieldFloat32(18,e,0)}static addWindDirection(t,e){t.addFieldInt16(19,e,0)}static addWindGustSpeedMax(t,e){t.addFieldFloat32(20,e,0)}static addWindSpeed(t,e){t.addFieldFloat32(21,e,0)}static addWindSpeedMax(t,e){t.addFieldFloat32(22,e,0)}static addPrecipitationIntensityMax(t,e){t.addFieldFloat32(23,e,0)}static addPerceivedPrecipitationIntensityMax(t,e){t.addFieldFloat32(24,e,0)}static addUvIndexMin(t,e){t.addFieldInt8(25,e,0)}static addUvIndexMax(t,e){t.addFieldInt8(26,e,0)}static addTemperatureApparentMin(t,e){t.addFieldFloat32(27,e,0)}static addTemperatureApparentMax(t,e){t.addFieldFloat32(28,e,0)}static addDaylight(t,e){t.addFieldInt8(29,+e,0)}static endDayPartForecast(t){return t.endObject()}static createDayPartForecast(t,e,i,a,s,n,r,o,d,c,l,u,p,b,h,m,_,f,y,g,C,N,x,A,I,T,S,v,O,F,w){return tf.startDayPartForecast(t),tf.addForecastStart(t,e),tf.addForecastEnd(t,i),tf.addCloudCover(t,a),tf.addCloudCoverLowAltPct(t,s),tf.addCloudCoverMidAltPct(t,n),tf.addCloudCoverHighAltPct(t,r),tf.addConditionCode(t,o),tf.addHumidity(t,d),tf.addHumidityMax(t,c),tf.addHumidityMin(t,l),tf.addPrecipitationAmount(t,u),tf.addPrecipitationAmountByType(t,p),tf.addPrecipitationChance(t,b),tf.addPrecipitationType(t,h),tf.addSnowfallAmount(t,m),tf.addTemperatureMax(t,_),tf.addTemperatureMin(t,f),tf.addVisibilityMax(t,y),tf.addVisibilityMin(t,g),tf.addWindDirection(t,C),tf.addWindGustSpeedMax(t,N),tf.addWindSpeed(t,x),tf.addWindSpeedMax(t,A),tf.addPrecipitationIntensityMax(t,I),tf.addPerceivedPrecipitationIntensityMax(t,T),tf.addUvIndexMin(t,S),tf.addUvIndexMax(t,v),tf.addTemperatureApparentMin(t,O),tf.addTemperatureApparentMax(t,F),tf.addDaylight(t,w),tf.endDayPartForecast(t)}}(B=_||(_={}))[B.NEW=0]="NEW",B[B.WAXING_CRESCENT=1]="WAXING_CRESCENT",B[B.FIRST_QUARTER=2]="FIRST_QUARTER",B[B.WAXING_GIBBOUS=3]="WAXING_GIBBOUS",B[B.FULL=4]="FULL",B[B.WANING_GIBBOUS=5]="WANING_GIBBOUS",B[B.THIRD_QUARTER=6]="THIRD_QUARTER",B[B.WANING_CRESCENT=7]="WANING_CRESCENT",B[B.UNKNOWN8=8]="UNKNOWN8";class ty{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDayWeatherConditions(t,e){return(e||new ty).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDayWeatherConditions(t,e){return t.setPosition(t.position()+4),(e||new ty).__init(t.readInt32(t.position())+t.position(),t)}forecastStart(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}forecastEnd(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}conditionCode(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt8(this.bb_pos+t):m.CLEAR}humidityMax(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt8(this.bb_pos+t):0}humidityMin(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt8(this.bb_pos+t):0}maxUvIndex(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt8(this.bb_pos+t):0}moonPhase(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt8(this.bb_pos+t):_.NEW}moonrise(){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readUint32(this.bb_pos+t):0}moonset(){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readUint32(this.bb_pos+t):0}precipitationAmount(){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}precipitationAmountByType(t,e){let i=this.bb.__offset(this.bb_pos,24);return i?(e||new tm).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}precipitationAmountByTypeLength(){let t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__vector_len(this.bb_pos+t):0}precipitationChance(){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt8(this.bb_pos+t):0}precipitationType(){let t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readInt8(this.bb_pos+t):b.CLEAR}snowfallAmount(){let t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readFloat32(this.bb_pos+t):0}solarMidnight(){let t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readUint32(this.bb_pos+t):0}solarNoon(){let t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readUint32(this.bb_pos+t):0}sunrise(){let t=this.bb.__offset(this.bb_pos,36);return t?this.bb.readUint32(this.bb_pos+t):0}sunriseCivil(){let t=this.bb.__offset(this.bb_pos,38);return t?this.bb.readUint32(this.bb_pos+t):0}sunriseNautical(){let t=this.bb.__offset(this.bb_pos,40);return t?this.bb.readUint32(this.bb_pos+t):0}sunriseAstronomical(){let t=this.bb.__offset(this.bb_pos,42);return t?this.bb.readUint32(this.bb_pos+t):0}sunset(){let t=this.bb.__offset(this.bb_pos,44);return t?this.bb.readUint32(this.bb_pos+t):0}sunsetCivil(){let t=this.bb.__offset(this.bb_pos,46);return t?this.bb.readUint32(this.bb_pos+t):0}sunsetNautical(){let t=this.bb.__offset(this.bb_pos,48);return t?this.bb.readUint32(this.bb_pos+t):0}sunsetAstronomical(){let t=this.bb.__offset(this.bb_pos,50);return t?this.bb.readUint32(this.bb_pos+t):0}temperatureMax(){let t=this.bb.__offset(this.bb_pos,52);return t?this.bb.readFloat32(this.bb_pos+t):0}temperatureMaxTime(){let t=this.bb.__offset(this.bb_pos,54);return t?this.bb.readUint32(this.bb_pos+t):0}temperatureMin(){let t=this.bb.__offset(this.bb_pos,56);return t?this.bb.readFloat32(this.bb_pos+t):0}temperatureMinTime(){let t=this.bb.__offset(this.bb_pos,58);return t?this.bb.readUint32(this.bb_pos+t):0}windGustSpeedMax(){let t=this.bb.__offset(this.bb_pos,60);return t?this.bb.readFloat32(this.bb_pos+t):0}windSpeedAvg(){let t=this.bb.__offset(this.bb_pos,62);return t?this.bb.readFloat32(this.bb_pos+t):0}windSpeedMax(){let t=this.bb.__offset(this.bb_pos,64);return t?this.bb.readFloat32(this.bb_pos+t):0}visibilityMax(){let t=this.bb.__offset(this.bb_pos,66);return t?this.bb.readFloat32(this.bb_pos+t):0}visibilityMin(){let t=this.bb.__offset(this.bb_pos,68);return t?this.bb.readFloat32(this.bb_pos+t):0}overnightForecast(t){let e=this.bb.__offset(this.bb_pos,70);return e?(t||new tf).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}daytimeForecast(t){let e=this.bb.__offset(this.bb_pos,72);return e?(t||new tf).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}restOfDayForecast(t){let e=this.bb.__offset(this.bb_pos,74);return e?(t||new tf).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startDayWeatherConditions(t){t.startObject(36)}static addForecastStart(t,e){t.addFieldInt32(0,e,0)}static addForecastEnd(t,e){t.addFieldInt32(1,e,0)}static addConditionCode(t,e){t.addFieldInt8(2,e,m.CLEAR)}static addHumidityMax(t,e){t.addFieldInt8(3,e,0)}static addHumidityMin(t,e){t.addFieldInt8(4,e,0)}static addMaxUvIndex(t,e){t.addFieldInt8(5,e,0)}static addMoonPhase(t,e){t.addFieldInt8(6,e,_.NEW)}static addMoonrise(t,e){t.addFieldInt32(7,e,0)}static addMoonset(t,e){t.addFieldInt32(8,e,0)}static addPrecipitationAmount(t,e){t.addFieldFloat32(9,e,0)}static addPrecipitationAmountByType(t,e){t.addFieldOffset(10,e,0)}static createPrecipitationAmountByTypeVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startPrecipitationAmountByTypeVector(t,e){t.startVector(4,e,4)}static addPrecipitationChance(t,e){t.addFieldInt8(11,e,0)}static addPrecipitationType(t,e){t.addFieldInt8(12,e,b.CLEAR)}static addSnowfallAmount(t,e){t.addFieldFloat32(13,e,0)}static addSolarMidnight(t,e){t.addFieldInt32(14,e,0)}static addSolarNoon(t,e){t.addFieldInt32(15,e,0)}static addSunrise(t,e){t.addFieldInt32(16,e,0)}static addSunriseCivil(t,e){t.addFieldInt32(17,e,0)}static addSunriseNautical(t,e){t.addFieldInt32(18,e,0)}static addSunriseAstronomical(t,e){t.addFieldInt32(19,e,0)}static addSunset(t,e){t.addFieldInt32(20,e,0)}static addSunsetCivil(t,e){t.addFieldInt32(21,e,0)}static addSunsetNautical(t,e){t.addFieldInt32(22,e,0)}static addSunsetAstronomical(t,e){t.addFieldInt32(23,e,0)}static addTemperatureMax(t,e){t.addFieldFloat32(24,e,0)}static addTemperatureMaxTime(t,e){t.addFieldInt32(25,e,0)}static addTemperatureMin(t,e){t.addFieldFloat32(26,e,0)}static addTemperatureMinTime(t,e){t.addFieldInt32(27,e,0)}static addWindGustSpeedMax(t,e){t.addFieldFloat32(28,e,0)}static addWindSpeedAvg(t,e){t.addFieldFloat32(29,e,0)}static addWindSpeedMax(t,e){t.addFieldFloat32(30,e,0)}static addVisibilityMax(t,e){t.addFieldFloat32(31,e,0)}static addVisibilityMin(t,e){t.addFieldFloat32(32,e,0)}static addOvernightForecast(t,e){t.addFieldOffset(33,e,0)}static addDaytimeForecast(t,e){t.addFieldOffset(34,e,0)}static addRestOfDayForecast(t,e){t.addFieldOffset(35,e,0)}static endDayWeatherConditions(t){return t.endObject()}}class tg{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDailyForecastData(t,e){return(e||new tg).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDailyForecastData(t,e){return t.setPosition(t.position()+4),(e||new tg).__init(t.readInt32(t.position())+t.position(),t)}metadata(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new to).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}days(t,e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new ty).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}daysLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static startDailyForecastData(t){t.startObject(2)}static addMetadata(t,e){t.addFieldOffset(0,e,0)}static addDays(t,e){t.addFieldOffset(1,e,0)}static createDaysVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startDaysVector(t,e){t.startVector(4,e,4)}static endDailyForecastData(t){return t.endObject()}static createDailyForecastData(t,e,i){return tg.startDailyForecastData(t),tg.addMetadata(t,e),tg.addDays(t,i),tg.endDailyForecastData(t)}}class tC{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsForecastMinute(t,e){return(e||new tC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsForecastMinute(t,e){return t.setPosition(t.position()+4),(e||new tC).__init(t.readInt32(t.position())+t.position(),t)}startTime(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}precipitationChance(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):0}precipitationIntensity(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb_pos+t):0}perceivedPrecipitationIntensity(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readFloat32(this.bb_pos+t):0}static startForecastMinute(t){t.startObject(4)}static addStartTime(t,e){t.addFieldInt32(0,e,0)}static addPrecipitationChance(t,e){t.addFieldInt8(1,e,0)}static addPrecipitationIntensity(t,e){t.addFieldFloat32(2,e,0)}static addPerceivedPrecipitationIntensity(t,e){t.addFieldFloat32(3,e,0)}static endForecastMinute(t){return t.endObject()}static createForecastMinute(t,e,i,a,s){return tC.startForecastMinute(t),tC.addStartTime(t,e),tC.addPrecipitationChance(t,i),tC.addPrecipitationIntensity(t,a),tC.addPerceivedPrecipitationIntensity(t,s),tC.endForecastMinute(t)}}class tN{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsForecastPeriodSummary(t,e){return(e||new tN).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsForecastPeriodSummary(t,e){return t.setPosition(t.position()+4),(e||new tN).__init(t.readInt32(t.position())+t.position(),t)}startTime(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}endTime(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}condition(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt8(this.bb_pos+t):b.CLEAR}precipitationChance(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt8(this.bb_pos+t):0}precipitationIntensity(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readFloat32(this.bb_pos+t):0}static startForecastPeriodSummary(t){t.startObject(5)}static addStartTime(t,e){t.addFieldInt32(0,e,0)}static addEndTime(t,e){t.addFieldInt32(1,e,0)}static addCondition(t,e){t.addFieldInt8(2,e,b.CLEAR)}static addPrecipitationChance(t,e){t.addFieldInt8(3,e,0)}static addPrecipitationIntensity(t,e){t.addFieldFloat32(4,e,0)}static endForecastPeriodSummary(t){return t.endObject()}static createForecastPeriodSummary(t,e,i,a,s,n){return tN.startForecastPeriodSummary(t),tN.addStartTime(t,e),tN.addEndTime(t,i),tN.addCondition(t,a),tN.addPrecipitationChance(t,s),tN.addPrecipitationIntensity(t,n),tN.endForecastPeriodSummary(t)}}class tx{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsHistoricalComparison(t,e){return(e||new tx).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsHistoricalComparison(t,e){return t.setPosition(t.position()+4),(e||new tx).__init(t.readInt32(t.position())+t.position(),t)}metadata(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new to).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}comparisons(t,e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new tp).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}comparisonsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static startHistoricalComparison(t){t.startObject(2)}static addMetadata(t,e){t.addFieldOffset(0,e,0)}static addComparisons(t,e){t.addFieldOffset(1,e,0)}static createComparisonsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startComparisonsVector(t,e){t.startVector(4,e,4)}static endHistoricalComparison(t){return t.endObject()}static createHistoricalComparison(t,e,i){return tx.startHistoricalComparison(t),tx.addMetadata(t,e),tx.addComparisons(t,i),tx.endHistoricalComparison(t)}}class tA{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsHourWeatherConditions(t,e){return(e||new tA).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsHourWeatherConditions(t,e){return t.setPosition(t.position()+4),(e||new tA).__init(t.readInt32(t.position())+t.position(),t)}forecastStart(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}cloudCover(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):0}cloudCoverLowAltPct(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt8(this.bb_pos+t):0}cloudCoverMidAltPct(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt8(this.bb_pos+t):0}cloudCoverHighAltPct(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt8(this.bb_pos+t):0}conditionCode(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt8(this.bb_pos+t):m.CLEAR}daylight(){let t=this.bb.__offset(this.bb_pos,16);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}humidity(){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt8(this.bb_pos+t):0}perceivedPrecipitationIntensity(){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0}precipitationAmount(){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}precipitationIntensity(){let t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}precipitationChance(){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt8(this.bb_pos+t):0}precipitationType(){let t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readInt8(this.bb_pos+t):b.CLEAR}pressure(){let t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readFloat32(this.bb_pos+t):0}pressureTrend(){let t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readInt8(this.bb_pos+t):h.RISING}snowfallAmount(){let t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}snowfallIntensity(){let t=this.bb.__offset(this.bb_pos,36);return t?this.bb.readFloat32(this.bb_pos+t):0}temperature(){let t=this.bb.__offset(this.bb_pos,38);return t?this.bb.readFloat32(this.bb_pos+t):0}temperatureApparent(){let t=this.bb.__offset(this.bb_pos,40);return t?this.bb.readFloat32(this.bb_pos+t):0}unknown20(){let t=this.bb.__offset(this.bb_pos,42);return t?this.bb.readFloat32(this.bb_pos+t):0}temperatureDewPoint(){let t=this.bb.__offset(this.bb_pos,44);return t?this.bb.readFloat32(this.bb_pos+t):0}uvIndex(){let t=this.bb.__offset(this.bb_pos,46);return t?this.bb.readInt8(this.bb_pos+t):0}visibility(){let t=this.bb.__offset(this.bb_pos,48);return t?this.bb.readFloat32(this.bb_pos+t):0}windDirection(){let t=this.bb.__offset(this.bb_pos,50);return t?this.bb.readInt16(this.bb_pos+t):0}windGust(){let t=this.bb.__offset(this.bb_pos,52);return t?this.bb.readFloat32(this.bb_pos+t):0}windSpeed(){let t=this.bb.__offset(this.bb_pos,54);return t?this.bb.readFloat32(this.bb_pos+t):0}static startHourWeatherConditions(t){t.startObject(26)}static addForecastStart(t,e){t.addFieldInt32(0,e,0)}static addCloudCover(t,e){t.addFieldInt8(1,e,0)}static addCloudCoverLowAltPct(t,e){t.addFieldInt8(2,e,0)}static addCloudCoverMidAltPct(t,e){t.addFieldInt8(3,e,0)}static addCloudCoverHighAltPct(t,e){t.addFieldInt8(4,e,0)}static addConditionCode(t,e){t.addFieldInt8(5,e,m.CLEAR)}static addDaylight(t,e){t.addFieldInt8(6,+e,0)}static addHumidity(t,e){t.addFieldInt8(7,e,0)}static addPerceivedPrecipitationIntensity(t,e){t.addFieldFloat32(8,e,0)}static addPrecipitationAmount(t,e){t.addFieldFloat32(9,e,0)}static addPrecipitationIntensity(t,e){t.addFieldFloat32(10,e,0)}static addPrecipitationChance(t,e){t.addFieldInt8(11,e,0)}static addPrecipitationType(t,e){t.addFieldInt8(12,e,b.CLEAR)}static addPressure(t,e){t.addFieldFloat32(13,e,0)}static addPressureTrend(t,e){t.addFieldInt8(14,e,h.RISING)}static addSnowfallAmount(t,e){t.addFieldFloat32(15,e,0)}static addSnowfallIntensity(t,e){t.addFieldFloat32(16,e,0)}static addTemperature(t,e){t.addFieldFloat32(17,e,0)}static addTemperatureApparent(t,e){t.addFieldFloat32(18,e,0)}static addUnknown20(t,e){t.addFieldFloat32(19,e,0)}static addTemperatureDewPoint(t,e){t.addFieldFloat32(20,e,0)}static addUvIndex(t,e){t.addFieldInt8(21,e,0)}static addVisibility(t,e){t.addFieldFloat32(22,e,0)}static addWindDirection(t,e){t.addFieldInt16(23,e,0)}static addWindGust(t,e){t.addFieldFloat32(24,e,0)}static addWindSpeed(t,e){t.addFieldFloat32(25,e,0)}static endHourWeatherConditions(t){return t.endObject()}static createHourWeatherConditions(t,e,i,a,s,n,r,o,d,c,l,u,p,b,h,m,_,f,y,g,C,N,x,A,I,T,S){return tA.startHourWeatherConditions(t),tA.addForecastStart(t,e),tA.addCloudCover(t,i),tA.addCloudCoverLowAltPct(t,a),tA.addCloudCoverMidAltPct(t,s),tA.addCloudCoverHighAltPct(t,n),tA.addConditionCode(t,r),tA.addDaylight(t,o),tA.addHumidity(t,d),tA.addPerceivedPrecipitationIntensity(t,c),tA.addPrecipitationAmount(t,l),tA.addPrecipitationIntensity(t,u),tA.addPrecipitationChance(t,p),tA.addPrecipitationType(t,b),tA.addPressure(t,h),tA.addPressureTrend(t,m),tA.addSnowfallAmount(t,_),tA.addSnowfallIntensity(t,f),tA.addTemperature(t,y),tA.addTemperatureApparent(t,g),tA.addUnknown20(t,C),tA.addTemperatureDewPoint(t,N),tA.addUvIndex(t,x),tA.addVisibility(t,A),tA.addWindDirection(t,I),tA.addWindGust(t,T),tA.addWindSpeed(t,S),tA.endHourWeatherConditions(t)}}class tI{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsHourlyForecastData(t,e){return(e||new tI).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsHourlyForecastData(t,e){return t.setPosition(t.position()+4),(e||new tI).__init(t.readInt32(t.position())+t.position(),t)}metadata(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new to).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}hours(t,e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new tA).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}hoursLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static startHourlyForecastData(t){t.startObject(2)}static addMetadata(t,e){t.addFieldOffset(0,e,0)}static addHours(t,e){t.addFieldOffset(1,e,0)}static createHoursVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startHoursVector(t,e){t.startVector(4,e,4)}static endHourlyForecastData(t){return t.endObject()}static createHourlyForecastData(t,e,i){return tI.startHourlyForecastData(t),tI.addMetadata(t,e),tI.addHours(t,i),tI.endHourlyForecastData(t)}}($=f||(f={}))[$.NORMAL=0]="NORMAL",$[$.LOW=1]="LOW",$[$.HIGH=2]="HIGH",$[$.UNKNOWN3=3]="UNKNOWN3",$[$.UNKNOWN4=4]="UNKNOWN4",$[$.UNKNOWN5=5]="UNKNOWN5";class tT{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLocationInfo(t,e){return(e||new tT).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLocationInfo(t,e){return t.setPosition(t.position()+4),(e||new tT).__init(t.readInt32(t.position())+t.position(),t)}metadata(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new to).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}preciseName(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}countryCode(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}timeZone(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}primaryName(t){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,t):null}static startLocationInfo(t){t.startObject(5)}static addMetadata(t,e){t.addFieldOffset(0,e,0)}static addPreciseName(t,e){t.addFieldOffset(1,e,0)}static addCountryCode(t,e){t.addFieldOffset(2,e,0)}static addTimeZone(t,e){t.addFieldOffset(3,e,0)}static addPrimaryName(t,e){t.addFieldOffset(4,e,0)}static endLocationInfo(t){return t.endObject()}static createLocationInfo(t,e,i,a,s,n){return tT.startLocationInfo(t),tT.addMetadata(t,e),tT.addPreciseName(t,i),tT.addCountryCode(t,a),tT.addTimeZone(t,s),tT.addPrimaryName(t,n),tT.endLocationInfo(t)}}(H=y||(y={}))[H.UNKNOWN0=0]="UNKNOWN0",H[H.AIR_QUALITY_DETAILS=1]="AIR_QUALITY_DETAILS",H[H.UNKNOWN2=2]="UNKNOWN2",H[H.UNKNOWN3=3]="UNKNOWN3",H[H.UNKNOWN4=4]="UNKNOWN4",H[H.UNKNOWN5=5]="UNKNOWN5",H[H.UNKNOWN6=6]="UNKNOWN6",H[H.UNKNOWN7=7]="UNKNOWN7",H[H.UNKNOWN8=8]="UNKNOWN8",H[H.TEMPERATURE_FEELS_LIKE_DETAILS=9]="TEMPERATURE_FEELS_LIKE_DETAILS",H[H.UNKNOWN10=10]="UNKNOWN10",H[H.TRENDS=11]="TRENDS",H[H.UV_DETAILS=12]="UV_DETAILS",H[H.UNKNOWN13=13]="UNKNOWN13",H[H.UNKNOWN14=14]="UNKNOWN14",H[H.UNKNOWN15=15]="UNKNOWN15",H[H.UNKNOWN16=16]="UNKNOWN16",H[H.UNKNOWN17=17]="UNKNOWN17",H[H.UNKNOWN18=18]="UNKNOWN18";class tS{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsPlacement(t,e){return(e||new tS).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsPlacement(t,e){return t.setPosition(t.position()+4),(e||new tS).__init(t.readInt32(t.position())+t.position(),t)}priority(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):0}articles(t,e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new tl).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}articlesLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}placement(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt8(this.bb_pos+t):y.UNKNOWN0}static startPlacement(t){t.startObject(3)}static addPriority(t,e){t.addFieldInt8(0,e,0)}static addArticles(t,e){t.addFieldOffset(1,e,0)}static createArticlesVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startArticlesVector(t,e){t.startVector(4,e,4)}static addPlacement(t,e){t.addFieldInt8(2,e,y.UNKNOWN0)}static endPlacement(t){return t.endObject()}static createPlacement(t,e,i,a){return tS.startPlacement(t),tS.addPriority(t,e),tS.addArticles(t,i),tS.addPlacement(t,a),tS.endPlacement(t)}}class tv{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNews(t,e){return(e||new tv).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNews(t,e){return t.setPosition(t.position()+4),(e||new tv).__init(t.readInt32(t.position())+t.position(),t)}metadata(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new to).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}placements(t,e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new tS).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}placementsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static startNews(t){t.startObject(2)}static addMetadata(t,e){t.addFieldOffset(0,e,0)}static addPlacements(t,e){t.addFieldOffset(1,e,0)}static createPlacementsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startPlacementsVector(t,e){t.startVector(4,e,4)}static endNews(t){return t.endObject()}static createNews(t,e,i){return tv.startNews(t),tv.addMetadata(t,e),tv.addPlacements(t,i),tv.endNews(t)}}class tO{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNextHourForecastData(t,e){return(e||new tO).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNextHourForecastData(t,e){return t.setPosition(t.position()+4),(e||new tO).__init(t.readInt32(t.position())+t.position(),t)}metadata(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new to).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}condition(t,e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new th).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}conditionLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}summary(t,e){let i=this.bb.__offset(this.bb_pos,8);return i?(e||new tN).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}summaryLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}forecastStart(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readUint32(this.bb_pos+t):0}forecastEnd(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint32(this.bb_pos+t):0}minutes(t,e){let i=this.bb.__offset(this.bb_pos,14);return i?(e||new tC).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}minutesLength(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}static startNextHourForecastData(t){t.startObject(6)}static addMetadata(t,e){t.addFieldOffset(0,e,0)}static addCondition(t,e){t.addFieldOffset(1,e,0)}static createConditionVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startConditionVector(t,e){t.startVector(4,e,4)}static addSummary(t,e){t.addFieldOffset(2,e,0)}static createSummaryVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startSummaryVector(t,e){t.startVector(4,e,4)}static addForecastStart(t,e){t.addFieldInt32(3,e,0)}static addForecastEnd(t,e){t.addFieldInt32(4,e,0)}static addMinutes(t,e){t.addFieldOffset(5,e,0)}static createMinutesVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startMinutesVector(t,e){t.startVector(4,e,4)}static endNextHourForecastData(t){return t.endObject()}static createNextHourForecastData(t,e,i,a,s,n,r){return tO.startNextHourForecastData(t),tO.addMetadata(t,e),tO.addCondition(t,i),tO.addSummary(t,a),tO.addForecastStart(t,s),tO.addForecastEnd(t,n),tO.addMinutes(t,r),tO.endNextHourForecastData(t)}}(K=g||(g={}))[K.UNKNOWN0=0]="UNKNOWN0",K[K.SHELTER=1]="SHELTER",K[K.EVACUATE=2]="EVACUATE",K[K.PREPARE=3]="PREPARE",K[K.EXECUTE=4]="EXECUTE",K[K.AVOID=5]="AVOID",K[K.MONITOR=6]="MONITOR",K[K.ACCESS=7]="ACCESS",K[K.ALLCLEAR=8]="ALLCLEAR",K[K.NONE=9]="NONE",K[K.UNKNOWN10=10]="UNKNOWN10",(V=C||(C={}))[V.UNKNOWN=0]="UNKNOWN",V[V.EXTREME=1]="EXTREME",V[V.SEVERE=2]="SEVERE",V[V.MODERATE=3]="MODERATE",V[V.MINOR=4]="MINOR",V[V.UNKNOWN5=5]="UNKNOWN5",(k=N||(N={}))[k.UNKNOWN=0]="UNKNOWN",k[k.UNKNOWN1=1]="UNKNOWN1",k[k.UNKNOWN2=2]="UNKNOWN2",k[k.UNKNOWN3=3]="UNKNOWN3",k[k.UNKNOWN4=4]="UNKNOWN4",k[k.UNKNOWN5=5]="UNKNOWN5",k[k.UNKNOWN6=6]="UNKNOWN6",k[k.UNKNOWN7=7]="UNKNOWN7",k[k.UNKNOWN8=8]="UNKNOWN8",k[k.UNKNOWN9=9]="UNKNOWN9",k[k.STATEMENT=10]="STATEMENT",k[k.UNKNOWN11=11]="UNKNOWN11",k[k.ADVISORY=12]="ADVISORY",k[k.UNKNOWN13=13]="UNKNOWN13";class tF{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUUID(t,e){return(e||new tF).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUUID(t,e){return t.setPosition(t.position()+4),(e||new tF).__init(t.readInt32(t.position())+t.position(),t)}bytes(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}bytesLength(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}bytesArray(){let t=this.bb.__offset(this.bb_pos,4);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUUID(t){t.startObject(1)}static addBytes(t,e){t.addFieldOffset(0,e,0)}static createBytesVector(t,e){t.startVector(1,e.length,1);for(let i=e.length-1;i>=0;i--)t.addInt8(e[i]);return t.endVector()}static startBytesVector(t,e){t.startVector(1,e,1)}static endUUID(t){return t.endObject()}static createUUID(t,e){return tF.startUUID(t),tF.addBytes(t,e),tF.endUUID(t)}}(Q=x||(x={}))[Q.UNKNOWN=0]="UNKNOWN",Q[Q.IMMEDIATE=1]="IMMEDIATE",Q[Q.EXPECTED=2]="EXPECTED",Q[Q.FUTURE=3]="FUTURE",Q[Q.PAST=4]="PAST",Q[Q.UNKNOWN5=5]="UNKNOWN5";class tw{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsWeatherAlertSummary(t,e){return(e||new tw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsWeatherAlertSummary(t,e){return t.setPosition(t.position()+4),(e||new tw).__init(t.readInt32(t.position())+t.position(),t)}id(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new tF).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}areaId(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}areaName(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}attributionUrl(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}countryCode(t){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,t):null}description(t){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null}token(t){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__string(this.bb_pos+e,t):null}effectiveTime(){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readUint32(this.bb_pos+t):0}expireTime(){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readUint32(this.bb_pos+t):0}issuedTime(){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readUint32(this.bb_pos+t):0}eventOnsetTime(){let t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readUint32(this.bb_pos+t):0}eventEndTime(){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readUint32(this.bb_pos+t):0}detailsUrl(t){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__string(this.bb_pos+e,t):null}phenomenon(t){let e=this.bb.__offset(this.bb_pos,30);return e?this.bb.__string(this.bb_pos+e,t):null}severity(){let t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readInt8(this.bb_pos+t):C.UNKNOWN}significance(){let t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readInt8(this.bb_pos+t):N.UNKNOWN}source(t){let e=this.bb.__offset(this.bb_pos,36);return e?this.bb.__string(this.bb_pos+e,t):null}eventSource(t){let e=this.bb.__offset(this.bb_pos,38);return e?this.bb.__string(this.bb_pos+e,t):null}urgency(){let t=this.bb.__offset(this.bb_pos,40);return t?this.bb.readInt8(this.bb_pos+t):x.UNKNOWN}certainty(){let t=this.bb.__offset(this.bb_pos,42);return t?this.bb.readInt8(this.bb_pos+t):r.UNKNOWN}importance(){let t=this.bb.__offset(this.bb_pos,44);return t?this.bb.readInt8(this.bb_pos+t):f.NORMAL}responses(t){let e=this.bb.__offset(this.bb_pos,46);return e?this.bb.readInt8(this.bb.__vector(this.bb_pos+e)+t):0}responsesLength(){let t=this.bb.__offset(this.bb_pos,46);return t?this.bb.__vector_len(this.bb_pos+t):0}responsesArray(){let t=this.bb.__offset(this.bb_pos,46);return t?new Int8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}unknown23(){let t=this.bb.__offset(this.bb_pos,48);return t?this.bb.readInt8(this.bb_pos+t):0}unknown24(){let t=this.bb.__offset(this.bb_pos,50);return t?this.bb.readInt8(this.bb_pos+t):0}unknown25(){let t=this.bb.__offset(this.bb_pos,52);return t?this.bb.readInt8(this.bb_pos+t):0}unknown26(){let t=this.bb.__offset(this.bb_pos,54);return t?this.bb.readInt8(this.bb_pos+t):0}static startWeatherAlertSummary(t){t.startObject(26)}static addId(t,e){t.addFieldOffset(0,e,0)}static addAreaId(t,e){t.addFieldOffset(1,e,0)}static addAreaName(t,e){t.addFieldOffset(2,e,0)}static addAttributionUrl(t,e){t.addFieldOffset(3,e,0)}static addCountryCode(t,e){t.addFieldOffset(4,e,0)}static addDescription(t,e){t.addFieldOffset(5,e,0)}static addToken(t,e){t.addFieldOffset(6,e,0)}static addEffectiveTime(t,e){t.addFieldInt32(7,e,0)}static addExpireTime(t,e){t.addFieldInt32(8,e,0)}static addIssuedTime(t,e){t.addFieldInt32(9,e,0)}static addEventOnsetTime(t,e){t.addFieldInt32(10,e,0)}static addEventEndTime(t,e){t.addFieldInt32(11,e,0)}static addDetailsUrl(t,e){t.addFieldOffset(12,e,0)}static addPhenomenon(t,e){t.addFieldOffset(13,e,0)}static addSeverity(t,e){t.addFieldInt8(14,e,C.UNKNOWN)}static addSignificance(t,e){t.addFieldInt8(15,e,N.UNKNOWN)}static addSource(t,e){t.addFieldOffset(16,e,0)}static addEventSource(t,e){t.addFieldOffset(17,e,0)}static addUrgency(t,e){t.addFieldInt8(18,e,x.UNKNOWN)}static addCertainty(t,e){t.addFieldInt8(19,e,r.UNKNOWN)}static addImportance(t,e){t.addFieldInt8(20,e,f.NORMAL)}static addResponses(t,e){t.addFieldOffset(21,e,0)}static createResponsesVector(t,e){t.startVector(1,e.length,1);for(let i=e.length-1;i>=0;i--)t.addInt8(e[i]);return t.endVector()}static startResponsesVector(t,e){t.startVector(1,e,1)}static addUnknown23(t,e){t.addFieldInt8(22,e,0)}static addUnknown24(t,e){t.addFieldInt8(23,e,0)}static addUnknown25(t,e){t.addFieldInt8(24,e,0)}static addUnknown26(t,e){t.addFieldInt8(25,e,0)}static endWeatherAlertSummary(t){return t.endObject()}static createWeatherAlertSummary(t,e,i,a,s,n,r,o,d,c,l,u,p,b,h,m,_,f,y,g,C,N,x,A,I,T,S){return tw.startWeatherAlertSummary(t),tw.addId(t,e),tw.addAreaId(t,i),tw.addAreaName(t,a),tw.addAttributionUrl(t,s),tw.addCountryCode(t,n),tw.addDescription(t,r),tw.addToken(t,o),tw.addEffectiveTime(t,d),tw.addExpireTime(t,c),tw.addIssuedTime(t,l),tw.addEventOnsetTime(t,u),tw.addEventEndTime(t,p),tw.addDetailsUrl(t,b),tw.addPhenomenon(t,h),tw.addSeverity(t,m),tw.addSignificance(t,_),tw.addSource(t,f),tw.addEventSource(t,y),tw.addUrgency(t,g),tw.addCertainty(t,C),tw.addImportance(t,N),tw.addResponses(t,x),tw.addUnknown23(t,A),tw.addUnknown24(t,I),tw.addUnknown25(t,T),tw.addUnknown26(t,S),tw.endWeatherAlertSummary(t)}}class tP{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsWeatherAlertCollectionData(t,e){return(e||new tP).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsWeatherAlertCollectionData(t,e){return t.setPosition(t.position()+4),(e||new tP).__init(t.readInt32(t.position())+t.position(),t)}metadata(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new to).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}detailsUrl(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}alerts(t,e){let i=this.bb.__offset(this.bb_pos,8);return i?(e||new tw).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}alertsLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startWeatherAlertCollectionData(t){t.startObject(3)}static addMetadata(t,e){t.addFieldOffset(0,e,0)}static addDetailsUrl(t,e){t.addFieldOffset(1,e,0)}static addAlerts(t,e){t.addFieldOffset(2,e,0)}static createAlertsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startAlertsVector(t,e){t.startVector(4,e,4)}static endWeatherAlertCollectionData(t){return t.endObject()}static createWeatherAlertCollectionData(t,e,i,a){return tP.startWeatherAlertCollectionData(t),tP.addMetadata(t,e),tP.addDetailsUrl(t,i),tP.addAlerts(t,a),tP.endWeatherAlertCollectionData(t)}}class tE{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsWeatherChanges(t,e){return(e||new tE).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsWeatherChanges(t,e){return t.setPosition(t.position()+4),(e||new tE).__init(t.readInt32(t.position())+t.position(),t)}metadata(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new to).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}forecastStart(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}forecastEnd(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0}changes(t,e){let i=this.bb.__offset(this.bb_pos,10);return i?(e||new tu).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}changesLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startWeatherChanges(t){t.startObject(4)}static addMetadata(t,e){t.addFieldOffset(0,e,0)}static addForecastStart(t,e){t.addFieldInt32(1,e,0)}static addForecastEnd(t,e){t.addFieldInt32(2,e,0)}static addChanges(t,e){t.addFieldOffset(3,e,0)}static createChangesVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startChangesVector(t,e){t.startVector(4,e,4)}static endWeatherChanges(t){return t.endObject()}static createWeatherChanges(t,e,i,a,s){return tE.startWeatherChanges(t),tE.addMetadata(t,e),tE.addForecastStart(t,i),tE.addForecastEnd(t,a),tE.addChanges(t,s),tE.endWeatherChanges(t)}}class tM{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsWeather(t,e){return(e||new tM).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsWeather(t,e){return t.setPosition(t.position()+4),(e||new tM).__init(t.readInt32(t.position())+t.position(),t)}airQuality(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new tc).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}currentWeather(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new t_).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}forecastDaily(t){let e=this.bb.__offset(this.bb_pos,8);return e?(t||new tg).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}forecastHourly(t){let e=this.bb.__offset(this.bb_pos,10);return e?(t||new tI).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}forecastNextHour(t){let e=this.bb.__offset(this.bb_pos,12);return e?(t||new tO).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}news(t){let e=this.bb.__offset(this.bb_pos,14);return e?(t||new tv).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}weatherAlerts(t){let e=this.bb.__offset(this.bb_pos,16);return e?(t||new tP).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}weatherChanges(t){let e=this.bb.__offset(this.bb_pos,18);return e?(t||new tE).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}historicalComparisons(t){let e=this.bb.__offset(this.bb_pos,20);return e?(t||new tx).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}locationInfo(t){let e=this.bb.__offset(this.bb_pos,22);return e?(t||new tT).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startWeather(t){t.startObject(10)}static addAirQuality(t,e){t.addFieldOffset(0,e,0)}static addCurrentWeather(t,e){t.addFieldOffset(1,e,0)}static addForecastDaily(t,e){t.addFieldOffset(2,e,0)}static addForecastHourly(t,e){t.addFieldOffset(3,e,0)}static addForecastNextHour(t,e){t.addFieldOffset(4,e,0)}static addNews(t,e){t.addFieldOffset(5,e,0)}static addWeatherAlerts(t,e){t.addFieldOffset(6,e,0)}static addWeatherChanges(t,e){t.addFieldOffset(7,e,0)}static addHistoricalComparisons(t,e){t.addFieldOffset(8,e,0)}static addLocationInfo(t,e){t.addFieldOffset(9,e,0)}static endWeather(t){return t.endObject()}static finishWeatherBuffer(t,e){t.finish(e)}static finishSizePrefixedWeatherBuffer(t,e){t.finish(e,void 0,!0)}}class tR{static Name="WeatherKit2";static Version="1.2.1";static encode(t,n="all",A={}){let I,T;switch(j.info("‚òëÔ∏è WeatherKit2.encode",`dataSet: ${n}`),A?.metadata&&(T=to.createMetadata(t,t.createString(A?.metadata?.attributionUrl),A?.metadata?.expireTime,t.createString(A?.metadata?.language),A?.metadata?.latitude,A?.metadata?.longitude,t.createString(A?.metadata?.providerLogo),t.createString(A?.metadata?.providerName),A?.metadata?.readTime,A?.metadata?.reportedTime,A?.metadata?.temporarilyUnavailable,i[A?.metadata?.sourceType],A?.metadata?.unknown11,A?.metadata?.unknown12,A?.metadata?.unknown13,A?.metadata?.unknown14,A?.metadata?.unknown15)),n){case"all":{let e={};A?.airQuality&&(e.airQualityOffset=tR.encode(t,"airQuality",A.airQuality)),A?.currentWeather&&(e.currentWeatherOffset=tR.encode(t,"currentWeather",A.currentWeather)),A?.forecastDaily&&(e.forecastDailyOffset=tR.encode(t,"forecastDaily",A.forecastDaily)),A?.forecastHourly&&(e.forecastHourlyOffset=tR.encode(t,"forecastHourly",A.forecastHourly)),A?.forecastNextHour&&(e.forecastNextHourOffset=tR.encode(t,"forecastNextHour",A.forecastNextHour)),A?.news&&(e.newsOffset=tR.encode(t,"news",A.news)),A?.weatherAlerts&&(e.weatherAlertsOffset=tR.encode(t,"weatherAlerts",A.weatherAlerts)),A?.weatherChanges&&(e.weatherChangesOffset=tR.encode(t,"weatherChanges",A.weatherChanges)),A?.historicalComparisons&&(e.historicalComparisonsOffset=tR.encode(t,"historicalComparisons",A.historicalComparisons)),A?.locationInfo&&(e.locationInfoOffset=tR.encode(t,"locationInfo",A.locationInfo)),I=tR.createWeather(t,e.airQualityOffset,e.currentWeatherOffset,e.forecastDailyOffset,e.forecastHourlyOffset,e.forecastNextHourOffset,e.newsOffset,e.weatherAlertsOffset,e.weatherChangesOffset,e.historicalComparisonsOffset,e.locationInfoOffset);break}case"airQuality":{let i=tc.createPollutantsVector(t,A?.pollutants?.map(e=>td.createPollutant(t,a[e.pollutantType],e.amount,s[e.units]))),n=t.createString(A?.scale);I=tc.createAirQuality(t,T,A?.categoryIndex,A?.index,A?.isSignificant,i,e[A?.previousDayComparison],a[A?.primaryPollutant],n);break}case"currentWeather":{let e=t_.createPrecipitationAmountNext1hByTypeVector(t,A?.precipitationAmountNext1hByType?.map(e=>tm.createPrecipitationAmountByType(t,b[e.precipitationType],e.expected,e.minimumSnow,e.maximumSnow,e.expectedSnow))),i=t_.createPrecipitationAmountNext24hByTypeVector(t,A?.precipitationAmountNext24hByType?.map(e=>tm.createPrecipitationAmountByType(t,b[e.precipitationType],e.expected,e.minimumSnow,e.maximumSnow,e.expectedSnow))),a=t_.createPrecipitationAmountNext6hByTypeVector(t,A?.precipitationAmountNext6hByType?.map(e=>tm.createPrecipitationAmountByType(t,b[e.precipitationType],e.expected,e.minimumSnow,e.maximumSnow,e.expectedSnow))),s=t_.createPrecipitationAmountPrevious1hByTypeVector(t,A?.precipitationAmountPrevious1hByType?.map(e=>tm.createPrecipitationAmountByType(t,b[e.precipitationType],e.expected,e.minimumSnow,e.maximumSnow,e.expectedSnow))),n=t_.createPrecipitationAmountPrevious24hByTypeVector(t,A?.precipitationAmountPrevious24hByType?.map(e=>tm.createPrecipitationAmountByType(t,b[e.precipitationType],e.expected,e.minimumSnow,e.maximumSnow,e.expectedSnow))),r=t_.createPrecipitationAmountPrevious6hByTypeVector(t,A?.precipitationAmountPrevious6hByType?.map(e=>tm.createPrecipitationAmountByType(t,b[e.precipitationType],e.expected,e.minimumSnow,e.maximumSnow,e.expectedSnow)));I=t_.createCurrentWeatherData(t,T,A?.asOf,A?.cloudCover,A?.cloudCoverLowAltPct,A?.cloudCoverMidAltPct,A?.cloudCoverHighAltPct,m[A?.conditionCode],A?.daylight,A?.humidity,A?.perceivedPrecipitationIntensity,A?.precipitationAmount1h,A?.precipitationAmount6h,A?.precipitationAmount24h,A?.precipitationAmountNext1h,A?.precipitationAmountNext6h,A?.precipitationAmountNext24h,e,a,i,s,r,n,A?.precipitationIntensity,A?.pressure,h[A?.pressureTrend],A?.snowfallAmount1h,A?.snowfallAmount6h,A?.snowfallAmount24h,A?.snowfallAmountNext1h,A?.snowfallAmountNext6h,A?.snowfallAmountNext24h,A?.temperature,A?.temperatureApparent,A?.unknown34,A?.temperatureDewPoint,A?.uvIndex,A?.visibility,A?.windDirection,A?.windGust,A?.windSpeed);break}case"forecastDaily":{let e=A?.days?.map(e=>{let i={};return i.precipitationAmountByTypeOffest=ty.createPrecipitationAmountByTypeVector(t,e?.precipitationAmountByType?.map(e=>tm.createPrecipitationAmountByType(t,b[e.precipitationType],e.expected,e.minimumSnow,e.maximumSnow,e.expectedSnow))),e?.daytimeForecast&&(i.daytimeForecastPrecipitationAmountByTypeOffest=tf.createPrecipitationAmountByTypeVector(t,e?.daytimeForecast?.precipitationAmountByType?.map(e=>tm.createPrecipitationAmountByType(t,b[e.precipitationType],e.expected,e.minimumSnow,e.maximumSnow,e.expectedSnow))),i.daytimeForecastOffset=tf.createDayPartForecast(t,e?.daytimeForecast?.forecastStart,e?.daytimeForecast?.forecastEnd,e?.daytimeForecast?.cloudCover,e?.daytimeForecast?.cloudCoverLowAltPct,e?.daytimeForecast?.cloudCoverMidAltPct,e?.daytimeForecast?.cloudCoverHighAltPct,m[e?.daytimeForecast?.conditionCode],e?.daytimeForecast?.humidity,e?.daytimeForecast?.humidityMax,e?.daytimeForecast?.humidityMin,e?.daytimeForecast?.precipitationAmount,i.daytimeForecastPrecipitationAmountByTypeOffest,e?.daytimeForecast?.precipitationChance,b[e?.daytimeForecast?.precipitationType],e?.daytimeForecast?.snowfallAmount,e?.daytimeForecast?.temperatureMax,e?.daytimeForecast?.temperatureMin,e?.daytimeForecast?.visibilityMax,e?.daytimeForecast?.visibilityMin,e?.daytimeForecast?.windDirection,e?.daytimeForecast?.windGustSpeedMax,e?.daytimeForecast?.windSpeed,e?.daytimeForecast?.windSpeedMax,e?.daytimeForecast?.precipitationIntensityMax,e?.daytimeForecast?.perceivedPrecipitationIntensityMax,e?.daytimeForecast?.uvIndexMin,e?.daytimeForecast?.uvIndexMax,e?.daytimeForecast?.temperatureApparentMin,e?.daytimeForecast?.temperatureApparentMax,e?.daytimeForecast?.daylight)),e?.overnightForecast&&(i.overnightForecastPrecipitationAmountByTypeOffest=tf.createPrecipitationAmountByTypeVector(t,e?.overnightForecast?.precipitationAmountByType?.map(e=>tm.createPrecipitationAmountByType(t,b[e.precipitationType],e.expected,e.minimumSnow,e.maximumSnow,e.expectedSnow))),i.overnightForecastOffset=tf.createDayPartForecast(t,e?.overnightForecast?.forecastStart,e?.overnightForecast?.forecastEnd,e?.overnightForecast?.cloudCover,e?.overnightForecast?.cloudCoverLowAltPct,e?.overnightForecast?.cloudCoverMidAltPct,e?.overnightForecast?.cloudCoverHighAltPct,m[e?.overnightForecast?.conditionCode],e?.overnightForecast?.humidity,e?.overnightForecast?.humidityMax,e?.overnightForecast?.humidityMin,e?.overnightForecast?.precipitationAmount,i.overnightForecastPrecipitationAmountByTypeOffest,e?.overnightForecast?.precipitationChance,b[e?.overnightForecast?.precipitationType],e?.overnightForecast?.snowfallAmount,e?.overnightForecast?.temperatureMax,e?.overnightForecast?.temperatureMin,e?.overnightForecast?.visibilityMax,e?.overnightForecast?.visibilityMin,e?.overnightForecast?.windDirection,e?.overnightForecast?.windGustSpeedMax,e?.overnightForecast?.windSpeed,e?.overnightForecast?.windSpeedMax,e?.overnightForecast?.precipitationIntensityMax,e?.overnightForecast?.perceivedPrecipitationIntensityMax,e?.overnightForecast?.uvIndexMin,e?.overnightForecast?.uvIndexMax,e?.overnightForecast?.temperatureApparentMin,e?.overnightForecast?.temperatureApparentMax,e?.overnightForecast?.daylight)),e?.restOfDayForecast&&(i.restOfDayForecastPrecipitationAmountByTypeOffest=tf.createPrecipitationAmountByTypeVector(t,e?.restOfDayForecast?.precipitationAmountByType?.map(e=>tm.createPrecipitationAmountByType(t,b[e.precipitationType],e.expected,e.minimumSnow,e.maximumSnow,e.expectedSnow))),i.restOfDayForecastOffset=tf.createDayPartForecast(t,e?.restOfDayForecast?.forecastStart,e?.restOfDayForecast?.forecastEnd,e?.restOfDayForecast?.cloudCover,e?.restOfDayForecast?.cloudCoverLowAltPct,e?.restOfDayForecast?.cloudCoverMidAltPct,e?.restOfDayForecast?.cloudCoverHighAltPct,m[e?.restOfDayForecast?.conditionCode],e?.restOfDayForecast?.humidity,e?.restOfDayForecast?.humidityMax,e?.restOfDayForecast?.humidityMin,e?.restOfDayForecast?.precipitationAmount,i.restOfDayForecastPrecipitationAmountByTypeOffest,e?.restOfDayForecast?.precipitationChance,b[e?.restOfDayForecast?.precipitationType],e?.restOfDayForecast?.snowfallAmount,e?.restOfDayForecast?.temperatureMax,e?.restOfDayForecast?.temperatureMin,e?.restOfDayForecast?.visibilityMax,e?.restOfDayForecast?.visibilityMin,e?.restOfDayForecast?.windDirection,e?.restOfDayForecast?.windGustSpeedMax,e?.restOfDayForecast?.windSpeed,e?.restOfDayForecast?.windSpeedMax,e?.restOfDayForecast?.precipitationIntensityMax,e?.restOfDayForecast?.perceivedPrecipitationIntensityMax,e?.restOfDayForecast?.uvIndexMin,e?.restOfDayForecast?.uvIndexMax,e?.restOfDayForecast?.temperatureApparentMin,e?.restOfDayForecast?.temperatureApparentMax,e?.restOfDayForecast?.daylight)),ty.startDayWeatherConditions(t),ty.addForecastStart(t,e?.forecastStart),ty.addForecastEnd(t,e?.forecastEnd),ty.addConditionCode(t,m[e?.conditionCode]),ty.addHumidityMax(t,e?.humidityMax),ty.addHumidityMin(t,e?.humidityMin),ty.addMaxUvIndex(t,e?.maxUvIndex),ty.addMoonPhase(t,_[e?.moonPhase]),ty.addMoonrise(t,e?.moonrise),ty.addMoonset(t,e?.moonset),ty.addPrecipitationAmount(t,e?.precipitationAmount),ty.addPrecipitationAmountByType(t,i.precipitationAmountByTypeOffest),ty.addPrecipitationChance(t,e?.precipitationChance),ty.addPrecipitationType(t,b[e?.precipitationType]),ty.addSnowfallAmount(t,e?.snowfallAmount),ty.addSolarMidnight(t,e?.solarMidnight),ty.addSolarNoon(t,e?.solarNoon),ty.addSunrise(t,e?.sunrise),ty.addSunriseCivil(t,e?.sunriseCivil),ty.addSunriseNautical(t,e?.sunriseNautical),ty.addSunriseAstronomical(t,e?.sunriseAstronomical),ty.addSunset(t,e?.sunset),ty.addSunsetCivil(t,e?.sunsetCivil),ty.addSunsetNautical(t,e?.sunsetNautical),ty.addSunsetAstronomical(t,e?.sunsetAstronomical),ty.addTemperatureMax(t,e?.temperatureMax),ty.addTemperatureMaxTime(t,e?.temperatureMaxTime),ty.addTemperatureMin(t,e?.temperatureMin),ty.addTemperatureMinTime(t,e?.temperatureMinTime),ty.addVisibilityMax(t,e?.visibilityMax),ty.addVisibilityMin(t,e?.visibilityMin),ty.addWindGustSpeedMax(t,e?.windGustSpeedMax),ty.addWindSpeedAvg(t,e?.windSpeedAvg),ty.addWindSpeedMax(t,e?.windSpeedMax),e?.daytimeForecast&&ty.addDaytimeForecast(t,i.daytimeForecastOffset),e?.overnightForecast&&ty.addOvernightForecast(t,i.overnightForecastOffset),e?.restOfDayForecast&&ty.addRestOfDayForecast(t,i.restOfDayForecastOffset),ty.endDayWeatherConditions(t)}),i=tg.createDaysVector(t,e);I=tg.createDailyForecastData(t,T,i);break}case"forecastHourly":{let e=A?.hours?.map(e=>tA.createHourWeatherConditions(t,e?.forecastStart,e?.cloudCover,e?.cloudCoverLowAltPct,e?.cloudCoverMidAltPct,e?.cloudCoverHighAltPct,m[e?.conditionCode],e?.daylight,e?.humidity,e?.perceivedPrecipitationIntensity,e?.precipitationAmount,e?.precipitationIntensity,e?.precipitationChance,b[e?.precipitationType],e?.pressure,h[e?.pressureTrend],e?.snowfallAmount,e?.snowfallIntensity,e?.temperature,e?.temperatureApparent,e?.unknown20,e?.temperatureDewPoint,e?.uvIndex,e?.visibility,e?.windDirection,e?.windGust,e?.windSpeed)),i=tI.createHoursVector(t,e);I=tI.createHourlyForecastData(t,T,i);break}case"forecastNextHour":{let e=A?.condition?.map(e=>{let i=e?.parameters.map(e=>tb.createParameter(t,p[e?.type],e?.date)),a=th.createParametersVector(t,i);return th.createCondition(t,e?.startTime,e?.endTime,u[e?.forecastToken],l[e?.beginCondition],l[e?.endCondition],a)}),i=tO.createConditionVector(t,e),a=A?.summary?.map(e=>tN.createForecastPeriodSummary(t,e?.startTime,e?.endTime,b[e?.condition],e?.precipitationChance,e?.precipitationIntensity)),s=tO.createSummaryVector(t,a),n=A?.minutes?.map(e=>tC.createForecastMinute(t,e?.startTime,e?.precipitationChance,e?.precipitationIntensity,e?.perceivedPrecipitationIntensity)),r=tO.createMinutesVector(t,n);I=tO.createNextHourForecastData(t,T,i,s,A?.forecastStart,A?.forecastEnd,r);break}case"news":{let e=A?.placements?.map(e=>{let i=e?.articles?.map(e=>{let i=tl.createAlertIdsVector(t,e?.alertIds?.map(e=>t.createString(e))),a=t.createString(e?.headlineOverride),s=t.createString(e?.id),n=t.createString(e?.locale),r=tl.createPhenomenaVector(t,e?.phenomena?.map(e=>t.createString(e))),o=tl.createSupportedStorefrontsVector(t,e?.supportedStorefronts?.map(e=>t.createString(e)));return tl.createArticles(t,s,o,i,r,a,n)}),a=tS.createArticlesVector(t,i);return tS.createPlacement(t,e?.priority,a,y[e?.placement])}),i=tv.createPlacementsVector(t,e);I=tv.createNews(t,T,i);break}case"weatherAlert":case"weatherAlerts":{let e=A?.alerts?.map(e=>{let i=e?.responses?.map(t=>g[t]),a=tw.createResponsesVector(t,i),s=tF.createBytesVector(t,e?.id?.bytes),n=tF.createUUID(t,s),o=t.createString(e?.areaId),d=t.createString(e?.areaName),c=t.createString(e?.attributionUrl),l=t.createString(e?.countryCode),u=t.createString(e?.description),p=t.createString(e?.token),b=t.createString(e?.detailsUrl),h=t.createString(e?.phenomenon),m=t.createString(e?.source),_=t.createString(e?.eventSource);return tw.createWeatherAlertSummary(t,n,o,d,c,l,u,p,e?.effectiveTime,e?.expireTime,e?.issuedTime,e?.eventOnsetTime,e?.eventEndTime,b,h,C[e?.severity],N[e?.significance],m,_,x[e?.urgency],r[e?.certainty],f[e?.importance],a,e?.unknown23,e?.unknown24,e?.unknown25,e?.unknown26)}),i=tP.createAlertsVector(t,e),a=t.createString(A?.detailsUrl);I=tP.createWeatherAlertCollectionData(t,T,a,i);break}case"weatherChange":case"weatherChanges":{let e=A?.changes?.map(e=>tu.createChange(t,e?.forecastStart,e?.forecastEnd,o[e?.maxTemperatureChange],o[e?.minTemperatureChange],o[e?.dayPrecipitationChange],o[e?.nightPrecipitationChange])),i=tE.createChangesVector(t,e);I=tE.createWeatherChanges(t,T,A?.forecastStart,A?.forecastEnd,i);break}case"trendComparison":case"trendComparisons":case"historicalComparison":case"historicalComparisons":{let e=A?.comparisons?.map(e=>tp.createComparison(t,d[e?.condition],e?.currentValue,e?.baselineValue,c[e?.deviation],e?.baselineType,e?.baselineStartDate)),i=tx.createComparisonsVector(t,e);I=tx.createHistoricalComparison(t,T,i);break}case"locationInfo":I=tT.createLocationInfo(t,T,t.createString(A?.preciseName),t.createString(A?.countryCode),t.createString(A?.timeZone),t.createString(A?.primaryName))}return j.info("‚úÖ WeatherKit2.encode",`dataSet: ${n}`),I}static decode(t,n="all",A={}){j.info("‚òëÔ∏è WeatherKit2.decode",`dataSet: ${n}`);let I=tM.getRootAsWeather(t),T=I?.airQuality(),S=I?.currentWeather(),v=I?.forecastDaily(),O=I?.forecastHourly(),F=I?.forecastNextHour(),w=I?.news(),P=I?.weatherAlerts(),E=I?.weatherChanges(),M=I?.historicalComparisons(),R=I?.locationInfo();switch(n){case"all":T&&(A.airQuality=tR.decode(t,"airQuality",T)),S&&(A.currentWeather=tR.decode(t,"currentWeather",S)),v&&(A.forecastDaily=tR.decode(t,"forecastDaily",v)),O&&(A.forecastHourly=tR.decode(t,"forecastHourly",O)),F&&(A.forecastNextHour=tR.decode(t,"forecastNextHour",F)),w&&(A.news=tR.decode(t,"news",w)),P&&(A.weatherAlerts=tR.decode(t,"weatherAlerts",P)),E&&(A.weatherChanges=tR.decode(t,"weatherChange",E)),M&&(A.historicalComparisons=tR.decode(t,"trendComparison",M)),R&&(A.locationInfo=tR.decode(t,"locationInfo",R));break;case"airQuality":A={metadata:tR.decode(t,"metadata",T?.metadata()),categoryIndex:T?.categoryIndex(),index:T?.index(),isSignificant:T?.isSignificant(),pollutants:[],previousDayComparison:e[T?.previousDayComparison()],primaryPollutant:a[T?.primaryPollutant()],scale:T?.scale()};for(let t=0;t<T?.pollutantsLength();t++)A.pollutants.push({amount:T?.pollutants(t)?.amount(),pollutantType:a[T?.pollutants(t)?.pollutantType()],units:s[T?.pollutants(t)?.units()]});break;case"currentWeather":A={metadata:tR.decode(t,"metadata",S?.metadata()),asOf:S?.asOf(),cloudCover:S?.cloudCover(),cloudCoverHighAltPct:S?.cloudCoverHighAltPct(),cloudCoverLowAltPct:S?.cloudCoverLowAltPct(),cloudCoverMidAltPct:S?.cloudCoverMidAltPct(),conditionCode:m[S?.conditionCode()],daylight:S?.daylight(),humidity:S?.humidity(),perceivedPrecipitationIntensity:S?.perceivedPrecipitationIntensity(),precipitationAmount1h:S?.precipitationAmount1h(),precipitationAmount24h:S?.precipitationAmount24h(),precipitationAmount6h:S?.precipitationAmount6h(),precipitationAmountNext1h:S?.precipitationAmountNext1h(),precipitationAmountNext1hByType:[],precipitationAmountNext24h:S?.precipitationAmountNext24h(),precipitationAmountNext24hByType:[],precipitationAmountNext6h:S?.precipitationAmountNext6h(),precipitationAmountNext6hByType:[],precipitationAmountPrevious1hByType:[],precipitationAmountPrevious24hByType:[],precipitationAmountPrevious6hByType:[],precipitationIntensity:S?.precipitationIntensity(),pressure:S?.pressure(),pressureTrend:h[S?.pressureTrend()],snowfallAmount1h:S?.snowfallAmount1h(),snowfallAmount24h:S?.snowfallAmount24h(),snowfallAmount6h:S?.snowfallAmount6h(),snowfallAmountNext1h:S?.snowfallAmountNext1h(),snowfallAmountNext24h:S?.snowfallAmountNext24h(),snowfallAmountNext6h:S?.snowfallAmountNext6h(),temperature:S?.temperature(),temperatureApparent:S?.temperatureApparent(),unknown34:S?.unknown34(),temperatureDewPoint:S?.temperatureDewPoint(),uvIndex:S?.uvIndex(),visibility:S?.visibility(),windDirection:S?.windDirection(),windGust:S?.windGust(),windSpeed:S?.windSpeed()};for(let t=0;t<S?.precipitationAmountNext1hByTypeLength();t++)A.precipitationAmountNext1hByType.push({expected:S?.precipitationAmountNext1hByType(t)?.expected(),expectedSnow:S?.precipitationAmountNext1hByType(t)?.expectedSnow(),maximumSnow:S?.precipitationAmountNext1hByType(t)?.maximumSnow(),minimumSnow:S?.precipitationAmountNext1hByType(t)?.minimumSnow(),precipitationType:b[S?.precipitationAmountNext1hByType(t)?.precipitationType()]});for(let t=0;t<S?.precipitationAmountNext24hByTypeLength();t++)A.precipitationAmountNext24hByType.push({expected:S?.precipitationAmountNext24hByType(t)?.expected(),expectedSnow:S?.precipitationAmountNext24hByType(t)?.expectedSnow(),maximumSnow:S?.precipitationAmountNext24hByType(t)?.maximumSnow(),minimumSnow:S?.precipitationAmountNext24hByType(t)?.minimumSnow(),precipitationType:b[S?.precipitationAmountNext24hByType(t)?.precipitationType()]});for(let t=0;t<S?.precipitationAmountNext6hByTypeLength();t++)A.precipitationAmountNext6hByType.push({expected:S?.precipitationAmountNext6hByType(t)?.expected(),expectedSnow:S?.precipitationAmountNext6hByType(t)?.expectedSnow(),maximumSnow:S?.precipitationAmountNext6hByType(t)?.maximumSnow(),minimumSnow:S?.precipitationAmountNext6hByType(t)?.minimumSnow(),precipitationType:b[S?.precipitationAmountNext6hByType(t)?.precipitationType()]});for(let t=0;t<S?.precipitationAmountPrevious1hByTypeLength();t++)A.precipitationAmountPrevious1hByType.push({expected:S?.precipitationAmountPrevious1hByType(t)?.expected(),expectedSnow:S?.precipitationAmountPrevious1hByType(t)?.expectedSnow(),maximumSnow:S?.precipitationAmountPrevious1hByType(t)?.maximumSnow(),minimumSnow:S?.precipitationAmountPrevious1hByType(t)?.minimumSnow(),precipitationType:b[S?.precipitationAmountPrevious1hByType(t)?.precipitationType()]});for(let t=0;t<S?.precipitationAmountPrevious24hByTypeLength();t++)A.precipitationAmountPrevious24hByType.push({expected:S?.precipitationAmountPrevious24hByType(t)?.expected(),expectedSnow:S?.precipitationAmountPrevious24hByType(t)?.expectedSnow(),maximumSnow:S?.precipitationAmountPrevious24hByType(t)?.maximumSnow(),minimumSnow:S?.precipitationAmountPrevious24hByType(t)?.minimumSnow(),precipitationType:b[S?.precipitationAmountPrevious24hByType(t)?.precipitationType()]});for(let t=0;t<S?.precipitationAmountPrevious6hByTypeLength();t++)A.precipitationAmountPrevious6hByType.push({expected:S?.precipitationAmountPrevious6hByType(t)?.expected(),expectedSnow:S?.precipitationAmountPrevious6hByType(t)?.expectedSnow(),maximumSnow:S?.precipitationAmountPrevious6hByType(t)?.maximumSnow(),minimumSnow:S?.precipitationAmountPrevious6hByType(t)?.minimumSnow(),precipitationType:b[S?.precipitationAmountPrevious6hByType(t)?.precipitationType()]});break;case"forecastDaily":A={metadata:tR.decode(t,"metadata",v?.metadata()),days:[]};for(let t=0;t<v?.daysLength();t++){let e={conditionCode:m[v?.days(t)?.conditionCode()],forecastEnd:v?.days(t)?.forecastEnd(),forecastStart:v?.days(t)?.forecastStart(),humidityMax:v?.days(t)?.humidityMax(),humidityMin:v?.days(t)?.humidityMin(),maxUvIndex:v?.days(t)?.maxUvIndex(),moonPhase:_[v?.days(t)?.moonPhase()],moonrise:v?.days(t)?.moonrise(),moonset:v?.days(t)?.moonset(),precipitationAmount:v?.days(t)?.precipitationAmount(),precipitationAmountByType:[],precipitationChance:v?.days(t)?.precipitationChance(),precipitationType:b[v?.days(t)?.precipitationType()],snowfallAmount:v?.days(t)?.snowfallAmount(),solarMidnight:v?.days(t)?.solarMidnight(),solarNoon:v?.days(t)?.solarNoon(),sunrise:v?.days(t)?.sunrise(),sunriseCivil:v?.days(t)?.sunriseCivil(),sunriseNautical:v?.days(t)?.sunriseNautical(),sunriseAstronomical:v?.days(t)?.sunriseAstronomical(),sunset:v?.days(t)?.sunset(),sunsetCivil:v?.days(t)?.sunsetCivil(),sunsetNautical:v?.days(t)?.sunsetNautical(),sunsetAstronomical:v?.days(t)?.sunsetAstronomical(),temperatureMax:v?.days(t)?.temperatureMax(),temperatureMaxTime:v?.days(t)?.temperatureMaxTime(),temperatureMin:v?.days(t)?.temperatureMin(),temperatureMinTime:v?.days(t)?.temperatureMinTime(),visibilityMax:v?.days(t)?.visibilityMax(),visibilityMin:v?.days(t)?.visibilityMin(),windGustSpeedMax:v?.days(t)?.windGustSpeedMax(),windSpeedAvg:v?.days(t)?.windSpeedAvg(),windSpeedMax:v?.days(t)?.windSpeedMax()};for(let i=0;i<v?.days(t)?.precipitationAmountByTypeLength();i++)e.precipitationAmountByType.push({expected:v?.days(t)?.precipitationAmountByType(i)?.expected(),expectedSnow:v?.days(t)?.precipitationAmountByType(i)?.expectedSnow(),maximumSnow:v?.days(t)?.precipitationAmountByType(i)?.maximumSnow(),minimumSnow:v?.days(t)?.precipitationAmountByType(i)?.minimumSnow(),precipitationType:b[v?.days(t)?.precipitationAmountByType(i)?.precipitationType()]});if(v?.days(t)?.daytimeForecast()){e.daytimeForecast={cloudCover:v?.days(t)?.daytimeForecast()?.cloudCover(),cloudCoverHighAltPct:v?.days(t)?.daytimeForecast()?.cloudCoverHighAltPct(),cloudCoverLowAltPct:v?.days(t)?.daytimeForecast()?.cloudCoverLowAltPct(),cloudCoverMidAltPct:v?.days(t)?.daytimeForecast()?.cloudCoverMidAltPct(),conditionCode:m[v?.days(t)?.daytimeForecast()?.conditionCode()],forecastEnd:v?.days(t)?.daytimeForecast()?.forecastEnd(),forecastStart:v?.days(t)?.daytimeForecast()?.forecastStart(),humidity:v?.days(t)?.daytimeForecast()?.humidity(),humidityMax:v?.days(t)?.daytimeForecast()?.humidityMax(),humidityMin:v?.days(t)?.daytimeForecast()?.humidityMin(),precipitationAmount:v?.days(t)?.daytimeForecast()?.precipitationAmount(),precipitationAmountByType:[],precipitationChance:v?.days(t)?.daytimeForecast()?.precipitationChance(),precipitationType:b[v?.days(t)?.daytimeForecast()?.precipitationType()],snowfallAmount:v?.days(t)?.daytimeForecast()?.snowfallAmount(),temperatureMax:v?.days(t)?.daytimeForecast()?.temperatureMax(),temperatureMin:v?.days(t)?.daytimeForecast()?.temperatureMin(),visibilityMax:v?.days(t)?.daytimeForecast()?.visibilityMax(),visibilityMin:v?.days(t)?.daytimeForecast()?.visibilityMin(),windDirection:v?.days(t)?.daytimeForecast()?.windDirection(),windGustSpeedMax:v?.days(t)?.daytimeForecast()?.windGustSpeedMax(),windSpeed:v?.days(t)?.daytimeForecast()?.windSpeed(),windSpeedMax:v?.days(t)?.daytimeForecast()?.windSpeedMax(),precipitationIntensityMax:v?.days(t)?.daytimeForecast()?.precipitationIntensityMax(),perceivedPrecipitationIntensityMax:v?.days(t)?.daytimeForecast()?.perceivedPrecipitationIntensityMax(),uvIndexMin:v?.days(t)?.daytimeForecast()?.uvIndexMin(),uvIndexMax:v?.days(t)?.daytimeForecast()?.uvIndexMax(),temperatureApparentMin:v?.days(t)?.daytimeForecast()?.temperatureApparentMin(),temperatureApparentMax:v?.days(t)?.daytimeForecast()?.temperatureApparentMax(),daylight:v?.days(t)?.daytimeForecast()?.daylight()};for(let i=0;i<v?.days(t)?.daytimeForecast()?.precipitationAmountByTypeLength();i++)e.daytimeForecast.precipitationAmountByType.push({expected:v?.days(t)?.daytimeForecast()?.precipitationAmountByType(i)?.expected(),expectedSnow:v?.days(t)?.daytimeForecast()?.precipitationAmountByType(i)?.expectedSnow(),maximumSnow:v?.days(t)?.daytimeForecast()?.precipitationAmountByType(i)?.maximumSnow(),minimumSnow:v?.days(t)?.daytimeForecast()?.precipitationAmountByType(i)?.minimumSnow(),precipitationType:b[v?.days(t)?.daytimeForecast()?.precipitationAmountByType(i)?.precipitationType()]})}if(v?.days(t)?.overnightForecast()){e.overnightForecast={cloudCover:v?.days(t)?.overnightForecast()?.cloudCover(),cloudCoverHighAltPct:v?.days(t)?.overnightForecast()?.cloudCoverHighAltPct(),cloudCoverLowAltPct:v?.days(t)?.overnightForecast()?.cloudCoverLowAltPct(),cloudCoverMidAltPct:v?.days(t)?.overnightForecast()?.cloudCoverMidAltPct(),conditionCode:m[v?.days(t)?.overnightForecast()?.conditionCode()],forecastEnd:v?.days(t)?.overnightForecast()?.forecastEnd(),forecastStart:v?.days(t)?.overnightForecast()?.forecastStart(),humidity:v?.days(t)?.overnightForecast()?.humidity(),humidityMax:v?.days(t)?.overnightForecast()?.humidityMax(),humidityMin:v?.days(t)?.overnightForecast()?.humidityMin(),precipitationAmount:v?.days(t)?.overnightForecast()?.precipitationAmount(),precipitationAmountByType:[],precipitationChance:v?.days(t)?.overnightForecast()?.precipitationChance(),precipitationType:b[v?.days(t)?.overnightForecast()?.precipitationType()],snowfallAmount:v?.days(t)?.overnightForecast()?.snowfallAmount(),temperatureMax:v?.days(t)?.overnightForecast()?.temperatureMax(),temperatureMin:v?.days(t)?.overnightForecast()?.temperatureMin(),visibilityMax:v?.days(t)?.overnightForecast()?.visibilityMax(),visibilityMin:v?.days(t)?.overnightForecast()?.visibilityMin(),windDirection:v?.days(t)?.overnightForecast()?.windDirection(),windGustSpeedMax:v?.days(t)?.overnightForecast()?.windGustSpeedMax(),windSpeed:v?.days(t)?.overnightForecast()?.windSpeed(),windSpeedMax:v?.days(t)?.overnightForecast()?.windSpeedMax(),precipitationIntensityMax:v?.days(t)?.overnightForecast()?.precipitationIntensityMax(),perceivedPrecipitationIntensityMax:v?.days(t)?.overnightForecast()?.perceivedPrecipitationIntensityMax(),uvIndexMin:v?.days(t)?.overnightForecast()?.uvIndexMin(),uvIndexMax:v?.days(t)?.overnightForecast()?.uvIndexMax(),temperatureApparentMin:v?.days(t)?.overnightForecast()?.temperatureApparentMin(),temperatureApparentMax:v?.days(t)?.overnightForecast()?.temperatureApparentMax(),daylight:v?.days(t)?.overnightForecast()?.daylight()};for(let i=0;i<v?.days(t)?.overnightForecast()?.precipitationAmountByTypeLength();i++)e.overnightForecast.precipitationAmountByType.push({expected:v?.days(t)?.overnightForecast()?.precipitationAmountByType(i)?.expected(),expectedSnow:v?.days(t)?.overnightForecast()?.precipitationAmountByType(i)?.expectedSnow(),maximumSnow:v?.days(t)?.overnightForecast()?.precipitationAmountByType(i)?.maximumSnow(),minimumSnow:v?.days(t)?.overnightForecast()?.precipitationAmountByType(i)?.minimumSnow(),precipitationType:b[v?.days(t)?.overnightForecast()?.precipitationAmountByType(i)?.precipitationType()]})}if(v?.days(t)?.restOfDayForecast()){e.restOfDayForecast={cloudCover:v?.days(t)?.restOfDayForecast()?.cloudCover(),cloudCoverHighAltPct:v?.days(t)?.restOfDayForecast()?.cloudCoverHighAltPct(),cloudCoverLowAltPct:v?.days(t)?.restOfDayForecast()?.cloudCoverLowAltPct(),cloudCoverMidAltPct:v?.days(t)?.restOfDayForecast()?.cloudCoverMidAltPct(),conditionCode:m[v?.days(t)?.restOfDayForecast()?.conditionCode()],forecastEnd:v?.days(t)?.restOfDayForecast()?.forecastEnd(),forecastStart:v?.days(t)?.restOfDayForecast()?.forecastStart(),humidity:v?.days(t)?.restOfDayForecast()?.humidity(),humidityMax:v?.days(t)?.restOfDayForecast()?.humidityMax(),humidityMin:v?.days(t)?.restOfDayForecast()?.humidityMin(),precipitationAmount:v?.days(t)?.restOfDayForecast()?.precipitationAmount(),precipitationAmountByType:[],precipitationChance:v?.days(t)?.restOfDayForecast()?.precipitationChance(),precipitationType:b[v?.days(t)?.restOfDayForecast()?.precipitationType()],snowfallAmount:v?.days(t)?.restOfDayForecast()?.snowfallAmount(),temperatureMax:v?.days(t)?.restOfDayForecast()?.temperatureMax(),temperatureMin:v?.days(t)?.restOfDayForecast()?.temperatureMin(),visibilityMax:v?.days(t)?.restOfDayForecast()?.visibilityMax(),visibilityMin:v?.days(t)?.restOfDayForecast()?.visibilityMin(),windDirection:v?.days(t)?.restOfDayForecast()?.windDirection(),windGustSpeedMax:v?.days(t)?.restOfDayForecast()?.windGustSpeedMax(),windSpeed:v?.days(t)?.restOfDayForecast()?.windSpeed(),windSpeedMax:v?.days(t)?.restOfDayForecast()?.windSpeedMax(),precipitationIntensityMax:v?.days(t)?.restOfDayForecast()?.precipitationIntensityMax(),perceivedPrecipitationIntensityMax:v?.days(t)?.restOfDayForecast()?.perceivedPrecipitationIntensityMax(),uvIndexMin:v?.days(t)?.restOfDayForecast()?.uvIndexMin(),uvIndexMax:v?.days(t)?.restOfDayForecast()?.uvIndexMax(),temperatureApparentMin:v?.days(t)?.restOfDayForecast()?.temperatureApparentMin(),temperatureApparentMax:v?.days(t)?.restOfDayForecast()?.temperatureApparentMax(),daylight:v?.days(t)?.restOfDayForecast()?.daylight()};for(let i=0;i<v?.days(t)?.restOfDayForecast()?.precipitationAmountByTypeLength();i++)e.restOfDayForecast.precipitationAmountByType.push({expected:v?.days(t)?.restOfDayForecast()?.precipitationAmountByType(i)?.expected(),expectedSnow:v?.days(t)?.restOfDayForecast()?.precipitationAmountByType(i)?.expectedSnow(),maximumSnow:v?.days(t)?.restOfDayForecast()?.precipitationAmountByType(i)?.maximumSnow(),minimumSnow:v?.days(t)?.restOfDayForecast()?.precipitationAmountByType(i)?.minimumSnow(),precipitationType:b[v?.days(t)?.restOfDayForecast()?.precipitationAmountByType(i)?.precipitationType()]})}A.days.push(e)}break;case"forecastHourly":A={metadata:tR.decode(t,"metadata",O?.metadata()),hours:[]};for(let t=0;t<O?.hoursLength();t++)A.hours.push({cloudCover:O?.hours(t)?.cloudCover(),cloudCoverHighAltPct:O?.hours(t)?.cloudCoverHighAltPct(),cloudCoverLowAltPct:O?.hours(t)?.cloudCoverLowAltPct(),cloudCoverMidAltPct:O?.hours(t)?.cloudCoverMidAltPct(),conditionCode:m[O?.hours(t)?.conditionCode()],daylight:O?.hours(t)?.daylight(),forecastStart:O?.hours(t)?.forecastStart(),humidity:O?.hours(t)?.humidity(),perceivedPrecipitationIntensity:O?.hours(t)?.perceivedPrecipitationIntensity(),precipitationAmount:O?.hours(t)?.precipitationAmount(),precipitationChance:O?.hours(t)?.precipitationChance(),precipitationIntensity:O?.hours(t)?.precipitationIntensity(),precipitationType:b[O?.hours(t)?.precipitationType()],pressure:O?.hours(t)?.pressure(),pressureTrend:h[O?.hours(t)?.pressureTrend()],snowfallAmount:O?.hours(t)?.snowfallAmount(),snowfallIntensity:O?.hours(t)?.snowfallIntensity(),temperature:O?.hours(t)?.temperature(),temperatureApparent:O?.hours(t)?.temperatureApparent(),unknown20:O?.hours(t)?.unknown20(),temperatureDewPoint:O?.hours(t)?.temperatureDewPoint(),uvIndex:O?.hours(t)?.uvIndex(),visibility:O?.hours(t)?.visibility(),windDirection:O?.hours(t)?.windDirection(),windGust:O?.hours(t)?.windGust(),windSpeed:O?.hours(t)?.windSpeed()});break;case"forecastNextHour":A={metadata:tR.decode(t,"metadata",F?.metadata()),condition:[],forecastEnd:F?.forecastEnd(),forecastStart:F?.forecastStart(),minutes:[],summary:[]};for(let t=0;t<F?.conditionLength();t++){let e={beginCondition:l[F?.condition(t)?.beginCondition()],endCondition:l[F?.condition(t)?.endCondition()],endTime:F?.condition(t)?.endTime(),forecastToken:u[F?.condition(t)?.forecastToken()],parameters:[],startTime:F?.condition(t)?.startTime()};for(let i=0;i<F?.condition(t)?.parametersLength();i++)e.parameters.push({date:F?.condition(t)?.parameters(i)?.date(),type:p[F?.condition(t)?.parameters(i)?.type()]});A.condition.push(e)}for(let t=0;t<F?.minutesLength();t++)A.minutes.push({perceivedPrecipitationIntensity:F?.minutes(t)?.perceivedPrecipitationIntensity(),precipitationChance:F?.minutes(t)?.precipitationChance(),precipitationIntensity:F?.minutes(t)?.precipitationIntensity(),startTime:F?.minutes(t)?.startTime()});for(let t=0;t<F?.summaryLength();t++)A.summary.push({condition:b[F?.summary(t)?.condition()],endTime:F?.summary(t)?.endTime(),precipitationChance:F?.summary(t)?.precipitationChance(),precipitationIntensity:F?.summary(t)?.precipitationIntensity(),startTime:F?.summary(t)?.startTime()});break;case"metadata":A={attributionUrl:A?.attributionUrl(),expireTime:A?.expireTime(),language:A?.language(),latitude:A?.latitude(),longitude:A?.longitude(),providerLogo:A?.providerLogo(),providerName:A?.providerName(),readTime:A?.readTime(),reportedTime:A?.reportedTime(),temporarilyUnavailable:A?.temporarilyUnavailable(),sourceType:i[A?.sourceType()]};break;case"news":A={metadata:tR.decode(t,"metadata",w?.metadata()),placements:[]};for(let t=0;t<w?.placementsLength();t++){let e={articles:[],placement:y[w?.placements(t)?.placement()],priority:w?.placements(t)?.priority()};for(let i=0;i<w?.placements(t)?.articlesLength();i++){let a={alertIds:[],headlineOverride:w?.placements(t)?.articles(i)?.headlineOverride(),id:w?.placements(t)?.articles(i)?.id(),locale:w?.placements(t)?.articles(i)?.locale(),phenomena:[],supportedStorefronts:[]};for(let e=0;e<w?.placements(t)?.articles(i)?.alertIdsLength();e++)a.alertIds.push(w?.placements(t)?.articles(i)?.alertIds(e));for(let e=0;e<w?.placements(t)?.articles(i)?.phenomenaLength();e++)a.phenomena.push(w?.placements(t)?.articles(i)?.phenomena(e));for(let e=0;e<w?.placements(t)?.articles(i)?.supportedStorefrontsLength();e++)a.supportedStorefronts.push(w?.placements(t)?.articles(i)?.supportedStorefronts(e));e.articles.push(a)}A.placements.push(e)}break;case"weatherAlert":case"weatherAlerts":A={metadata:tR.decode(t,"metadata",P?.metadata()),alerts:[],detailsUrl:P?.detailsUrl()};for(let t=0;t<P?.alertsLength();t++){let e={areaId:P?.alerts(t)?.areaId(),areaName:P?.alerts(t)?.areaName(),attributionUrl:P?.alerts(t)?.attributionUrl(),certainty:r[P?.alerts(t)?.certainty()],countryCode:P?.alerts(t)?.countryCode(),description:P?.alerts(t)?.description(),detailsUrl:P?.alerts(t)?.detailsUrl(),effectiveTime:P?.alerts(t)?.effectiveTime(),eventEndTime:P?.alerts(t)?.eventEndTime(),eventOnsetTime:P?.alerts(t)?.eventOnsetTime(),eventSource:P?.alerts(t)?.eventSource(),expireTime:P?.alerts(t)?.expireTime(),id:{bytes:P?.alerts(t)?.id()?.bytesArray()},importance:f[P?.alerts(t)?.importance()],issuedTime:P?.alerts(t)?.issuedTime(),phenomenon:P?.alerts(t)?.phenomenon(),responses:[],severity:C[P?.alerts(t)?.severity()],significance:N[P?.alerts(t)?.significance()],source:P?.alerts(t)?.source(),token:P?.alerts(t)?.token(),urgency:x[P?.alerts(t)?.urgency()],unknown23:P?.alerts(t)?.unknown23(),unknown24:P?.alerts(t)?.unknown24(),unknown25:P?.alerts(t)?.unknown25(),unknown26:P?.alerts(t)?.unknown26()};for(let i=0;i<P?.alerts(t)?.responsesLength();i++)e.responses.push(g[P?.alerts(t)?.responses(i)]);A.alerts.push(e)}break;case"weatherChange":case"weatherChanges":A={metadata:tR.decode(t,"metadata",E?.metadata()),changes:[],forecastEnd:E?.forecastEnd(),forecastStart:E?.forecastStart()};for(let t=0;t<E?.changesLength();t++){let e={dayPrecipitationChange:o[E?.changes(t)?.dayPrecipitationChange()],forecastEnd:E?.changes(t)?.forecastEnd(),forecastStart:E?.changes(t)?.forecastStart(),maxTemperatureChange:o[E?.changes(t)?.maxTemperatureChange()],minTemperatureChange:o[E?.changes(t)?.minTemperatureChange()],nightPrecipitationChange:o[E?.changes(t)?.nightPrecipitationChange()]};A.changes.push(e)}break;case"trendComparison":case"trendComparisons":case"historicalComparison":case"historicalComparisons":A={metadata:tR.decode(t,"metadata",M?.metadata()),comparisons:[]};for(let t=0;t<M?.comparisonsLength();t++){let e={baselineStartDate:M?.comparisons(t)?.baselineStartDate(),baselineType:M?.comparisons(t)?.baselineType(),baselineValue:M?.comparisons(t)?.baselineValue(),condition:d[M?.comparisons(t)?.condition()],currentValue:M?.comparisons(t)?.currentValue(),deviation:c[M?.comparisons(t)?.deviation()]};A.comparisons.push(e)}break;case"locationInfo":A={metadata:tR.decode(t,"metadata",R?.metadata()),countryCode:R?.countryCode(),preciseName:R?.preciseName(),primaryName:R?.primaryName(),timeZone:R?.timeZone()}}return j.info("‚úÖ WeatherKit2.decode",`dataSet: ${n}`),A}static createWeather(t,e,i,a,s,n,r,o,d,c,l){return tM.startWeather(t),e&&tM.addAirQuality(t,e),i&&tM.addCurrentWeather(t,i),a&&tM.addForecastDaily(t,a),s&&tM.addForecastHourly(t,s),n&&tM.addForecastNextHour(t,n),r&&tM.addNews(t,r),o&&tM.addWeatherAlerts(t,o),d&&tM.addWeatherChanges(t,d),c&&tM.addHistoricalComparisons(t,c),l&&tM.addLocationInfo(t,l),tM.endWeather(t)}}function tU(t,e){let i;switch(j.info("‚òëÔ∏è providerNameToLogo",`providerName: ${t}`,`version: ${e}`),t?.split("\n")?.[0]){case"WAQI":case"World Air Quality Index Project":switch(e){case"v1":i="https://waqi.info/images/logo.png";break;case"v2":i=`https://raw.githubusercontent.com/NSRingo/WeatherKit/main/images/icon/${e}/WAQI.png`}break;case"ColofulClouds":case"ÂΩ©‰∫ëÂ§©Ê∞î":i=`https://raw.githubusercontent.com/NSRingo/WeatherKit/main/images/icon/${e}/ColorfulClouds.png`;break;case"Ê∞îË±°Âú®Á∫ø":case"WeatherOL":i=`https://raw.githubusercontent.com/NSRingo/WeatherKit/main/images/icon/${e}/WeatherOL.png`;break;case"QWeather":case"ÂíåÈ£éÂ§©Ê∞î":i=`https://weatherkit.apple.com/assets/${e}/QWeather.png`;break;case"The Weather Channel":i=`https://weatherkit.apple.com/assets/${e}/TWC.png`;break;case"BreezoMeter":i=`https://weatherkit.apple.com/assets/${e}/BreezoMeter.png`}return j.info("‚úÖ providerNameToLogo"),i}class tW{static Name="Weather";static Version="0.3.0";static Author="Virgil Clyne & 001";static ConvertDSWRF(t,e=.04){j.info("‚òëÔ∏è ConvertDSWRF");let i=Math.round(Math.max(t,0)*e/.025);return j.info("‚úÖ ConvertDSWRF"),Math.min(i,11)}static mergeForecast(t=[],e=[]){let i=0,a=0;for(;i<t.length;){let s=t[i].forecastStart,n=a<e.length?e[a].forecastStart:1/0;s===n?(Object.hasOwn(e[a],"daytimeForecast")&&(e[a].daytimeForecast={...t[i].daytimeForecast,...e[a].daytimeForecast}),Object.hasOwn(e[a],"overnightForecast")&&(e[a].overnightForecast={...t[i].overnightForecast,...e[a].overnightForecast}),Object.hasOwn(e[a],"restOfDayForecast")&&(e[a].restOfDayForecast={...t[i].restOfDayForecast,...e[a].restOfDayForecast}),Object.assign(t[i],e[a]),i++,a++):n<s?a++:i++}return t}static ConvertWeatherCode(t){switch(t){case"Êô¥":case"CLEAR_DAY":case"CLEAR_NIGHT":return"CLEAR";case"Â§ö‰∫ë":case"PARTLY_CLOUDY_DAY":case"PARTLY_CLOUDY_NIGHT":case"Êô¥Èó¥Â§ö‰∫ë":return"PARTLY_CLOUDY";case"Â∞ë‰∫ë":return"MOSTLY_CLEAR";case"Èò¥":case"CLOUDY":return"CLOUDY";case"WIND":return"WINDY";case"ËñÑÈõæ":case"Èõæ":case"ÊµìÈõæ":case"Âº∫ÊµìÈõæ":case"Â§ßÈõæ":case"ÁâπÂº∫ÊµìÈõæ":case"FOG":return"FOGGY";case"Èúæ":case"‰∏≠Â∫¶Èúæ":case"ÈáçÂ∫¶Èúæ":case"‰∏•ÈáçÈúæ":case"LIGHT_HAZE":case"MODERATE_HAZE":case"HEAVY_HAZE":case"Êâ¨Ê≤ô":case"ÊµÆÂ∞ò":case"Ê≤ôÂ∞òÊö¥":case"Âº∫Ê≤ôÂ∞òÊö¥":case"DUST":case"SAND":return"HAZE";case"Â∞èÈõ®":case"ÊØõÊØõÈõ®/ÁªÜÈõ®":case"LIGHT_RAIN":return"DRIZZLE";case"Èõ®":case"ÈòµÈõ®":case"‰∏≠Èõ®":case"Â∞èÂà∞‰∏≠Èõ®":case"MODERATE_RAIN":return"RAIN";case"Â§ßÈõ®":case"‰∏≠Âà∞Â§ßÈõ®":case"Êö¥Èõ®":case"Â§ßÊö¥Èõ®":case"Âº∫ÈôçÈõ®":case"ÁâπÂ§ßÊö¥Èõ®":case"Â§ßÂà∞Êö¥Èõ®":case"Êö¥Èõ®Âà∞Â§ßÊö¥Èõ®":case"Â§ßÊö¥Èõ®Âà∞ÁâπÂ§ßÊö¥Èõ®":case"ÊûÅÁ´ØÈôçÈõ®":case"HEAVY_RAIN":return"HEAVY_RAIN";case"Èõ∑ÈòµÈõ®":case"Âº∫Èõ∑ÈòµÈõ®":case"STORM_RAIN":case"Èõ∑ÈòµÈõ®‰º¥ÊúâÂÜ∞Èõπ":return"THUNDERSTORMS";case"Â∞èÈõ™":case"LIGHT_SNOW":return"FLURRIES";case"Èõ™":case"ÈòµÈõ™":case"‰∏≠Èõ™":case"Â∞èÂà∞‰∏≠Èõ™":case"MODERATE_SNOW":return"SNOW";case"Â§ßÈõ™":case"‰∏≠Âà∞Â§ßÈõ™":case"HEAVY_SNOW":return"HEAVY_SNOW";case"Êö¥Èõ™":case"Â§ßÂà∞Êö¥Èõ™":case"STORM_SNOW":return"BLIZZARD";case"Èõ®Â§πÈõ™":case"Èõ®Èõ™Â§©Ê∞î":case"ÈòµÈõ®Â§πÈõ™":case"ÂÜªÈõ®":return"FREEZING_DRIZZLE";default:return j.debug(`skycon: ${t}`),null}}static ConvertMoonPhase(t){switch(t){case"Êñ∞Êúà":return"NEW";case"ËõæÁúâÊúà":return"WAXING_CRESCENT";case"‰∏äÂº¶Êúà":return"FIRST_QUARTER";case"ÁõàÂá∏Êúà":return"WAXING_GIBBOUS";case"Êª°Êúà":return"FULL";case"‰∫èÂá∏Êúà":return"WANING_GIBBOUS";case"‰∏ãÂº¶Êúà":return"THIRD_QUARTER";case"ÊÆãÊúà":return"WANING_CRESCENT";default:return j.debug(`moonPhase: ${t}`),null}}}class tL{static getDecimalLength(t){let e=String(t),i=e.indexOf(".");return -1===i?0:e.length-i-1}static multiply(t,e,i=15){let a=Number(t.toFixed(i)),s=Number(e.toFixed(i)),n=tL.getDecimalLength(a),r=tL.getDecimalLength(s),o=10**n,d=10**r;return Number((Math.round(a*o)*Math.round(s*d)/(o*d)).toFixed(i))}static divide(t,e,i=15){if(0===e)throw Error("Èô§Êï∞‰∏çËÉΩ‰∏∫0");let a=Number(t.toFixed(i)),s=Number(e.toFixed(i)),n=tL.getDecimalLength(a),r=tL.getDecimalLength(s),o=10**n,d=10**r;return Number((Math.round(a*o)/Math.round(s*d)*(d/o)).toFixed(i))}static add(t,e,i=15){let a=Number(t.toFixed(i)),s=Number(e.toFixed(i)),n=Math.max(tL.getDecimalLength(a),tL.getDecimalLength(s)),r=10**n;return Number(((Math.round(a*r)+Math.round(s*r))/r).toFixed(i))}static subtract(t,e,i=15){let a=Number(t.toFixed(i)),s=Number(e.toFixed(i)),n=Math.max(tL.getDecimalLength(a),tL.getDecimalLength(s)),r=10**n;return Number(((Math.round(a*r)-Math.round(s*r))/r).toFixed(i))}}class tD{static Name="AirQuality";static Version="3.0.0";static Author="Virgil Clyne & Wordless Echo";static #d(t,e){let i=(e.toString().split(".")[1]||"").length,a=10**i;return Math.ceil(t*a)/a}static CategoryIndex(t,e){if(j.info("‚òëÔ∏è CategoryIndex",`index: ${t}`),!e?.ranges||!Array.isArray(e.ranges)||0===e.ranges.length)return j.debug(`categories: ${JSON.stringify(e)}`),j.error("GetPrimaryPollutant","categoriesÊó†Êïà"),-1;let i=e.ranges.find(({indexes:e})=>{let[i,a]=e;return tD.#d(t,i)>=i&&tD.#d(t,a)<=a});if(!i)return j.error("CategoryIndex",`Êâæ‰∏çÂà∞index: ${t}ÂØπÂ∫îÁöÑcategory`),-1;let{categoryIndex:a}=i;return j.info("‚úÖ CategoryIndex",`categoryIndex: ${a}`),a}static CompareCategoryIndexes(t,e){j.info("‚òëÔ∏è CompareCategoryIndexes",`todayCategoryIndex: ${t}`,`yesterdayCategoryIndex: ${e}`);let{UNKNOWN:i,SAME:a,WORSE:s,BETTER:n}=tD.Config.CompareCategoryIndexes,r=Number(t)-Number(e);return Number.isNaN(r)?(j.error("CompareCategoryIndexes","categoryIndexÊó†Êïà"),i):0===r?(j.info("‚úÖ CompareCategoryIndexes"),a):r>0?(j.info("‚úÖ CompareCategoryIndexes"),s):(j.info("‚úÖ CompareCategoryIndexes"),n)}static ConvertUnits(t,e,i){j.info("‚òëÔ∏è ConvertUnits");let a=tD.Config.Units.Friendly,s=t.map(t=>{let{pollutantType:s}=t,n=i[s];if(!n)return j.info("ConvertUnits",`No scale for ${s}, skip`),t;j.info("ConvertUnits",`Converting ${s}`);let r=tD.ConvertUnit(t.amount,t.units,n.units,e?.[s]||-1,n?.stpConversionFactor||-1);return r<0?(j.error("ConvertUnits",`Êó†Ê≥ïËΩ¨Êç¢${s}ÁöÑÂçï‰Ωç`,`${t.amount} ${a[t.units]??t.units} (STP conversion factor: ${e?.[s]||-1}) -> ${r} ${a[n.units]??n.units} (STP conversion factor: ${n?.stpConversionFactor||-1})`),t):(j.info("ConvertUnits",`Converted ${s}: ${r} ${a[n.units]??n.units}`),{...t,amount:r,units:n.units})});return j.info("‚úÖ ConvertUnits"),s}static FixQWeatherCO(t){if(j.info("‚òëÔ∏è FixQWeatherCO"),!Array.isArray(t?.pollutants))return j.error("FixQWeatherCO","Êó†ÊïàÁöÑairQuality.pollutants"),t;switch(t?.metadata?.providerName){case"ÂíåÈ£éÂ§©Ê∞î":case"QWeather":{let e={...t,pollutants:t.pollutants.map(t=>{let{pollutantType:e,amount:i}=t,{mgm3:a,ugm3:s}=tD.Config.Units.WeatherKit;return{...t,amount:"CO"===e?tD.ConvertUnit(i,a,s):i}})};return j.info("‚úÖ FixQWeatherCO"),e}default:return j.info("‚úÖ FixQWeatherCO",`Provider ${t?.metadata?.providerName} is no need to fix.`),t}}static ToWeatherKitScale=({name:t,version:e})=>`${t}.${e}`;static GetNameFromScale(t){j.info("‚òëÔ∏è GetNameFromScale",`scale: ${t}`);let e=t?.lastIndexOf(".");if(!t||-1===e)return j.error("GetNameFromScale",`Êó†Ê≥ïÊâæÂà∞${t}ÁöÑÁâàÊú¨Âè∑`),t;let i=t.substring(0,e);return j.info("‚úÖ GetNameFromScale",`scaleName: ${i}`),i}static #c(t,e){let{add:i,subtract:a,multiply:s,divide:n}=tL,r=tD.Config.Units.Friendly;return Object.entries(e).map(([e,o])=>{let d=t.find(t=>t.pollutantType===e);if(!d)return j.warn("PollutantsToIndexes",`Ê≤°ÊúâÊâæÂà∞Ê†áÂáÜÊâÄÈúÄÁöÑÊ±°ÊüìÁâ©${e}ÔºåÁªìÊûúÂèØËÉΩ‰∏çÂáÜÁ°Æ`),{pollutantType:e,index:-1};let{amount:c}=d;j.debug(`${e}: ${c} ${r[d.units]??d.units}`);let l=o.ranges.min.amounts[0];if(c<l)return j.error("PollutantsToIndexes",`${e}ÁöÑÂê´ÈáèÊó†ÊïàÔºö${c} ${r[o.units]}ÈúÄË¶Å >= ${l}`),o.ranges.min.indexes[0];let u=c>o.ranges.max.amounts[1];u&&(j.warn("PollutantsToIndexes",`Ê£ÄÊµãÂà∞ÁàÜË°®ÊåáÊï∞ÔºÅ${e}Ôºö${c} ${r[o.units]}`),j.warn("PollutantsToIndexes","Ê≥®ÊÑèË∫´‰ΩìÔºÅ"));let{indexes:p,amounts:b}=u?o.ranges.max:o.ranges.value.find(({amounts:t})=>{let[e,i]=t;return tD.#d(c,e)>=e&&tD.#d(c,i)<=i});j.debug(`indexes: ${JSON.stringify(p)}`,`amounts: ${JSON.stringify(b)}`);let[h,m]=p,[_,f]=b;return{pollutantType:e,index:i(s(n(a(m,h),a(f,_)),a(c,_)),c>f?m:h)}})}static GetPrimaryPollutant(t,e){j.info("‚òëÔ∏è GetPrimaryPollutant");let i={pollutantType:"NOT_AVAILABLE",index:-1,categoryIndex:-1};if(!Array.isArray(t)||0===t.length)return j.debug(`indexes: ${JSON.stringify(t)}`),j.error("GetPrimaryPollutant","indexesÊó†Êïà"),i;let a=t.filter(({index:t})=>Number.isFinite(t)).map(t=>({...t,categoryIndex:tD.CategoryIndex(t.index,e)})).sort((t,e)=>e.index-t.index);if(0===a.length)return j.debug(`indexes: ${JSON.stringify(t)}`,`indexesWithCategory: ${JSON.stringify(a)}`),j.error("GetPrimaryPollutant","Êâæ‰∏çÂà∞ÊúâÊïàÁöÑindex"),i;let s=a.reduce((t,{categoryIndex:e})=>e>t?e:t,-1/0),n=a.filter(({categoryIndex:t})=>t===s);n.length>1&&(j.warn("GetPrimaryPollutant",`Ê£ÄÊµãÂà∞Â§ö‰∏™ÂêåÁ∫ßÂà´ÁöÑÊ±°ÊüìÁâ©ÔºåmaxCategoryIndexÔºö${s}`),n.map(({pollutantType:t,index:e})=>j.warn("GetPrimaryPollutants",`${t}Ôºö${e}`)));let r=n[0];return j.info("‚úÖ GetPrimaryPollutant",`primaryPollutant: ${JSON.stringify(r)}`),r}static #l(t,e){if(j.info("‚òëÔ∏è PollutantsToAirQuality"),!Array.isArray(t)||0===t.length)return j.debug(`pollutants: ${JSON.stringify(t)}`),j.error("PollutantsToAirQuality","pollutantsÊó†Êïà"),{metadata:{providerName:"iRingo",temporarilyUnavailable:!0}};let i=tD.#c(t,e.pollutants);j.debug("PollutantsToAirQuality",`indexes: ${JSON.stringify(i)}`);let a=tD.GetPrimaryPollutant(i,e.categories);return j.info("‚úÖ PollutantsToAirQuality"),{index:Math.round(a.index),isSignificant:a.categoryIndex>=e.categories.significantIndex,categoryIndex:a.categoryIndex,pollutants:t,metadata:{providerName:"iRingo",temporarilyUnavailable:!1},primaryPollutant:a.pollutantType,scale:tD.ToWeatherKitScale(e.weatherKitScale)}}static PollutantsToUBA(t,e){j.info("‚òëÔ∏è PollutantsToUBA");let i=tD.Config.Scales.UBA,a=tD.ConvertUnits(t,e,i.pollutants),s=tD.#l(a,i);return j.info("‚úÖ PollutantsToUBA"),{...s,index:s.categoryIndex}}static PollutantsToEAQI(t,e){j.info("‚òëÔ∏è PollutantsToEAQI");let i=tD.Config.Scales.EU_EAQI,a=tD.ConvertUnits(t,e,i.pollutants),s=tD.#l(a,i);return j.info("‚úÖ PollutantsToEAQI"),{...s,index:Math.min(s.index,60)}}static PollutantsToInstantCastUS(t,e,i=!0){j.info("‚òëÔ∏è PollutantsToInstantCastUS",`allowOverRange: ${i}`);let a=tD.Config.Scales.WAQI_InstantCast_US,s=tD.ConvertUnits(t,e,a.pollutants),n=tD.#l(s,a);return j.info("‚úÖ PollutantsToInstantCastUS"),{...n,index:i?n.index:Math.min(n.index,500)}}static #u(t,e,i=tD.Config.Scales.WAQI_InstantCast_CN,a=!0,s=!0){j.info("‚òëÔ∏è PollutantsToInstantCastCN",`allowOverRange: ${a}`,`forcePrimaryPollutant: ${s}`);let n=tD.ConvertUnits(t,e,i.pollutants),r=tD.#l(n,i),o=!s&&r.index<=50;return o&&j.info("PollutantsToInstantCastCN",`Max index of pollutants ${r.primaryPollutant} = ${r.index} is <= 50, primaryPollutant will be set to NOT_AVAILABLE.`),j.info("‚úÖ PollutantsToInstantCastCN"),{...r,index:a?r.index:Math.min(r.index,500),primaryPollutant:o?"NOT_AVAILABLE":r.primaryPollutant}}static PollutantsToInstantCastCN12=(t,e,i,a)=>this.#u(t,e,tD.Config.Scales.WAQI_InstantCast_CN,i,a);static PollutantsToInstantCastCN25=(t,e,i,a)=>this.#u(t,e,tD.Config.Scales.WAQI_InstantCast_CN_25_DRAFT,i,a);static Config={Scales:{UBA:{weatherKitScale:{name:"UBA",version:"2414"},categories:{significantIndex:4,ranges:[{categoryIndex:1,indexes:[0,.99]},{categoryIndex:2,indexes:[1,1.99]},{categoryIndex:3,indexes:[2,2.99]},{categoryIndex:4,indexes:[3,3.99]},{categoryIndex:5,indexes:[4,1/0]}]},pollutants:{NO2:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,.99],amounts:[0,10]},max:{indexes:[3,3.99],amounts:[61,100]},value:[{indexes:[0,.99],amounts:[0,10]},{indexes:[1,1.99],amounts:[11,30]},{indexes:[2,2.99],amounts:[31,60]},{indexes:[3,3.99],amounts:[61,100]},{indexes:[4,1/0],amounts:[101,1/0]}]}},PM10:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,.99],amounts:[0,9]},max:{indexes:[3,3.99],amounts:[55,90]},value:[{indexes:[0,.99],amounts:[0,9]},{indexes:[1,1.99],amounts:[10,27]},{indexes:[2,2.99],amounts:[28,54]},{indexes:[3,3.99],amounts:[55,90]},{indexes:[4,1/0],amounts:[91,1/0]}]}},PM2_5:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,.99],amounts:[0,5]},max:{indexes:[3,3.99],amounts:[31,50]},value:[{indexes:[0,.99],amounts:[0,5]},{indexes:[1,1.99],amounts:[6,15]},{indexes:[2,2.99],amounts:[16,30]},{indexes:[3,3.99],amounts:[31,50]},{indexes:[4,1/0],amounts:[51,1/0]}]}},OZONE:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,.99],amounts:[0,24]},max:{indexes:[3,3.99],amounts:[145,240]},value:[{indexes:[0,.99],amounts:[0,24]},{indexes:[1,1.99],amounts:[25,72]},{indexes:[2,2.99],amounts:[73,144]},{indexes:[3,3.99],amounts:[145,240]},{indexes:[4,1/0],amounts:[241,1/0]}]}},SO2:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,.99],amounts:[0,10]},max:{indexes:[3,3.99],amounts:[61,100]},value:[{indexes:[0,.99],amounts:[0,10]},{indexes:[1,1.99],amounts:[11,30]},{indexes:[2,2.99],amounts:[31,60]},{indexes:[3,3.99],amounts:[61,100]},{indexes:[4,1/0],amounts:[101,1/0]}]}}}},EU_EAQI:{weatherKitScale:{name:"EU.EAQI",version:"2414"},categories:{significantIndex:4,ranges:[{categoryIndex:1,indexes:[0,9]},{categoryIndex:2,indexes:[10,19]},{categoryIndex:3,indexes:[20,29]},{categoryIndex:4,indexes:[30,39]},{categoryIndex:5,indexes:[40,49]},{categoryIndex:6,indexes:[50,1/0]}]},pollutants:{PM2_5:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,9],amounts:[0,5]},max:{indexes:[40,49],amounts:[91,140]},value:[{indexes:[0,9],amounts:[0,5]},{indexes:[10,19],amounts:[6,15]},{indexes:[20,29],amounts:[16,50]},{indexes:[30,39],amounts:[51,90]},{indexes:[40,49],amounts:[91,140]},{indexes:[50,1/0],amounts:[141,1/0]}]}},PM10:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,9],amounts:[0,15]},max:{indexes:[40,49],amounts:[196,270]},value:[{indexes:[0,9],amounts:[0,15]},{indexes:[10,19],amounts:[16,45]},{indexes:[20,29],amounts:[46,120]},{indexes:[30,39],amounts:[121,195]},{indexes:[40,49],amounts:[196,270]},{indexes:[50,1/0],amounts:[271,1/0]}]}},OZONE:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,9],amounts:[0,60]},max:{indexes:[40,49],amounts:[161,180]},value:[{indexes:[0,9],amounts:[0,60]},{indexes:[10,19],amounts:[61,100]},{indexes:[20,29],amounts:[101,120]},{indexes:[30,39],amounts:[121,160]},{indexes:[40,49],amounts:[161,180]},{indexes:[50,1/0],amounts:[181,1/0]}]}},NO2:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,9],amounts:[0,10]},max:{indexes:[40,49],amounts:[101,150]},value:[{indexes:[0,9],amounts:[0,10]},{indexes:[10,19],amounts:[11,25]},{indexes:[20,29],amounts:[26,60]},{indexes:[30,39],amounts:[61,100]},{indexes:[40,49],amounts:[101,150]},{indexes:[50,1/0],amounts:[151,1/0]}]}},SO2:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,9],amounts:[0,20]},max:{indexes:[40,49],amounts:[191,275]},value:[{indexes:[0,9],amounts:[0,20]},{indexes:[10,19],amounts:[21,40]},{indexes:[20,29],amounts:[41,125]},{indexes:[30,39],amounts:[126,190]},{indexes:[40,49],amounts:[191,275]},{indexes:[50,1/0],amounts:[276,Number.MAX_VALUE]}]}}}},HJ6332012:{weatherKitScale:{name:"HJ6332012",version:"2414"},categories:{significantIndex:3,ranges:[{categoryIndex:1,indexes:[0,50]},{categoryIndex:2,indexes:[51,100]},{categoryIndex:3,indexes:[101,150]},{categoryIndex:4,indexes:[151,200]},{categoryIndex:5,indexes:[201,300]},{categoryIndex:6,indexes:[301,500]}]},pollutants:{SO2_24H:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,50]},max:{indexes:[401,500],amounts:[2101,2620]},value:[{indexes:[0,50],amounts:[0,50]},{indexes:[51,100],amounts:[51,150]},{indexes:[101,150],amounts:[151,475]},{indexes:[151,200],amounts:[476,800]},{indexes:[201,300],amounts:[801,1600]},{indexes:[301,400],amounts:[1601,2100]},{indexes:[401,500],amounts:[2101,2620]}]}},SO2:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,150]},max:{indexes:[151,200],amounts:[651,800]},value:[{indexes:[0,50],amounts:[0,150]},{indexes:[51,100],amounts:[151,500]},{indexes:[101,150],amounts:[501,650]},{indexes:[151,200],amounts:[651,800]}]}},NO2_24H:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,40]},max:{indexes:[401,500],amounts:[751,940]},value:[{indexes:[0,50],amounts:[0,40]},{indexes:[51,100],amounts:[41,80]},{indexes:[101,150],amounts:[81,180]},{indexes:[151,200],amounts:[181,280]},{indexes:[201,300],amounts:[281,565]},{indexes:[301,400],amounts:[566,750]},{indexes:[401,500],amounts:[751,940]}]}},NO2:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,100]},max:{indexes:[401,500],amounts:[3091,3840]},value:[{indexes:[0,50],amounts:[0,100]},{indexes:[51,100],amounts:[101,200]},{indexes:[101,150],amounts:[201,700]},{indexes:[151,200],amounts:[701,1200]},{indexes:[201,300],amounts:[1201,2340]},{indexes:[301,400],amounts:[2341,3090]},{indexes:[401,500],amounts:[3091,3840]}]}},PM10_24H:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,50]},max:{indexes:[401,500],amounts:[501,600]},value:[{indexes:[0,50],amounts:[0,50]},{indexes:[51,100],amounts:[51,150]},{indexes:[101,150],amounts:[151,250]},{indexes:[151,200],amounts:[251,350]},{indexes:[201,300],amounts:[351,420]},{indexes:[301,400],amounts:[421,500]},{indexes:[401,500],amounts:[501,600]}]}},CO_24H:{units:"MILLIGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,2]},max:{indexes:[401,500],amounts:[49,60]},value:[{indexes:[0,50],amounts:[0,2]},{indexes:[51,100],amounts:[3,4]},{indexes:[101,150],amounts:[5,14]},{indexes:[151,200],amounts:[15,24]},{indexes:[201,300],amounts:[25,36]},{indexes:[301,400],amounts:[37,48]},{indexes:[401,500],amounts:[49,60]}]}},CO:{units:"MILLIGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,5]},max:{indexes:[401,500],amounts:[121,150]},value:[{indexes:[0,50],amounts:[0,5]},{indexes:[51,100],amounts:[6,10]},{indexes:[101,150],amounts:[11,35]},{indexes:[151,200],amounts:[36,60]},{indexes:[201,300],amounts:[61,90]},{indexes:[301,400],amounts:[91,120]},{indexes:[401,500],amounts:[121,150]}]}},OZONE:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,160]},max:{indexes:[401,500],amounts:[1001,1200]},value:[{indexes:[0,50],amounts:[0,160]},{indexes:[51,100],amounts:[161,200]},{indexes:[101,150],amounts:[201,300]},{indexes:[151,200],amounts:[301,400]},{indexes:[201,300],amounts:[401,800]},{indexes:[301,400],amounts:[801,1e3]},{indexes:[401,500],amounts:[1001,1200]}]}},OZONE_8H:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,100]},max:{indexes:[201,300],amounts:[266,800]},value:[{indexes:[0,50],amounts:[0,100]},{indexes:[51,100],amounts:[101,160]},{indexes:[101,150],amounts:[161,215]},{indexes:[151,200],amounts:[216,265]},{indexes:[201,300],amounts:[266,800]}]}},PM2_5_24H:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,35]},max:{indexes:[401,500],amounts:[351,500]},value:[{indexes:[0,50],amounts:[0,35]},{indexes:[51,100],amounts:[36,75]},{indexes:[101,150],amounts:[76,115]},{indexes:[151,200],amounts:[116,150]},{indexes:[201,300],amounts:[151,250]},{indexes:[301,400],amounts:[251,350]},{indexes:[401,500],amounts:[351,500]}]}}}},HJ6332025_DRAFT:{weatherKitScale:{name:"HJ6332012",version:"2414"},categories:{significantIndex:3,ranges:[{categoryIndex:1,indexes:[1,50]},{categoryIndex:2,indexes:[51,100]},{categoryIndex:3,indexes:[101,150]},{categoryIndex:4,indexes:[151,200]},{categoryIndex:5,indexes:[201,300]},{categoryIndex:6,indexes:[301,500]}]},pollutants:{SO2_24H:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,50]},max:{indexes:[401,500],amounts:[2101,2620]},value:[{indexes:[0,50],amounts:[0,50]},{indexes:[51,100],amounts:[51,150]},{indexes:[101,150],amounts:[151,475]},{indexes:[151,200],amounts:[476,800]},{indexes:[201,300],amounts:[801,1600]},{indexes:[301,400],amounts:[1601,2100]},{indexes:[401,500],amounts:[2101,2620]}]}},SO2:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,150]},max:{indexes:[200,200],amounts:[801,1/0]},value:[{indexes:[0,50],amounts:[0,150]},{indexes:[51,100],amounts:[151,500]},{indexes:[101,150],amounts:[501,650]},{indexes:[151,200],amounts:[651,800]},{indexes:[200,200],amounts:[801,1/0]}]}},NO2_24H:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,40]},max:{indexes:[401,500],amounts:[751,940]},value:[{indexes:[0,50],amounts:[0,40]},{indexes:[51,100],amounts:[41,80]},{indexes:[101,150],amounts:[81,180]},{indexes:[151,200],amounts:[181,280]},{indexes:[201,300],amounts:[281,565]},{indexes:[301,400],amounts:[566,750]},{indexes:[401,500],amounts:[751,940]}]}},NO2:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,100]},max:{indexes:[401,500],amounts:[3091,3840]},value:[{indexes:[0,50],amounts:[0,100]},{indexes:[51,100],amounts:[101,200]},{indexes:[101,150],amounts:[201,700]},{indexes:[151,200],amounts:[701,1200]},{indexes:[201,300],amounts:[1201,2340]},{indexes:[301,400],amounts:[2341,3090]},{indexes:[401,500],amounts:[3091,3840]}]}},CO_24H:{units:"MILLIGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,2]},max:{indexes:[401,500],amounts:[49,60]},value:[{indexes:[0,50],amounts:[0,2]},{indexes:[51,100],amounts:[3,4]},{indexes:[101,150],amounts:[5,14]},{indexes:[151,200],amounts:[15,24]},{indexes:[201,300],amounts:[25,36]},{indexes:[301,400],amounts:[37,48]},{indexes:[401,500],amounts:[49,60]}]}},CO:{units:"MILLIGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,5]},max:{indexes:[401,500],amounts:[121,150]},value:[{indexes:[0,50],amounts:[0,5]},{indexes:[51,100],amounts:[6,10]},{indexes:[101,150],amounts:[11,35]},{indexes:[151,200],amounts:[36,60]},{indexes:[201,300],amounts:[61,90]},{indexes:[301,400],amounts:[91,120]},{indexes:[401,500],amounts:[121,150]}]}},OZONE_8H:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,100]},max:{indexes:[300,300],amounts:[801,1/0]},value:[{indexes:[0,50],amounts:[0,100]},{indexes:[51,100],amounts:[101,160]},{indexes:[101,150],amounts:[161,215]},{indexes:[151,200],amounts:[216,265]},{indexes:[201,300],amounts:[266,800]},{indexes:[300,300],amounts:[801,1/0]}]}},OZONE:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,160]},max:{indexes:[401,500],amounts:[1001,1200]},value:[{indexes:[0,50],amounts:[0,160]},{indexes:[51,100],amounts:[161,200]},{indexes:[101,150],amounts:[201,300]},{indexes:[151,200],amounts:[301,400]},{indexes:[201,300],amounts:[401,800]},{indexes:[301,400],amounts:[801,1e3]},{indexes:[401,500],amounts:[1001,1200]}]}},PM10_24H:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,50]},max:{indexes:[401,500],amounts:[501,600]},value:[{indexes:[0,50],amounts:[0,50]},{indexes:[51,100],amounts:[51,120]},{indexes:[101,150],amounts:[121,250]},{indexes:[151,200],amounts:[251,350]},{indexes:[201,300],amounts:[351,420]},{indexes:[301,400],amounts:[421,500]},{indexes:[401,500],amounts:[501,600]}]}},PM2_5_24H:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,35]},max:{indexes:[401,500],amounts:[351,500]},value:[{indexes:[0,50],amounts:[0,30]},{indexes:[51,100],amounts:[31,60]},{indexes:[101,150],amounts:[61,115]},{indexes:[151,200],amounts:[116,150]},{indexes:[201,300],amounts:[151,250]},{indexes:[301,400],amounts:[251,350]},{indexes:[401,500],amounts:[351,500]}]}}}},EPA_NowCast:{weatherKitScale:{name:"EPA_NowCast",version:"2414"},categories:{significantIndex:3,ranges:[{categoryIndex:1,indexes:[0,50]},{categoryIndex:2,indexes:[51,100]},{categoryIndex:3,indexes:[101,150]},{categoryIndex:4,indexes:[151,200]},{categoryIndex:5,indexes:[201,300]},{categoryIndex:6,indexes:[301,1/0]}]},pollutants:{OZONE_8H:{units:"PARTS_PER_MILLION",stpConversionFactor:1.96189649169881,ranges:{min:{indexes:[0,50],amounts:[0,.054]},max:{indexes:[201,300],amounts:[.106,.2]},value:[{indexes:[0,50],amounts:[0,.054]},{indexes:[51,100],amounts:[.055,.07]},{indexes:[101,150],amounts:[.071,.085]},{indexes:[151,200],amounts:[.086,.105]},{indexes:[201,300],amounts:[.106,.2]},{indexes:[301,1/0],amounts:[.201,1/0]}]}},OZONE:{units:"PARTS_PER_MILLION",stpConversionFactor:1.96189649169881,ranges:{min:{indexes:[101,150],amounts:[.125,.164]},max:{indexes:[301,500],amounts:[.405,.604]},value:[{indexes:[101,150],amounts:[.125,.164]},{indexes:[151,200],amounts:[.165,.204]},{indexes:[201,300],amounts:[.205,.404]},{indexes:[301,500],amounts:[.405,.604]},{indexes:[501,1/0],amounts:[.605,1/0]}]}},PM2_5_24H:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,9]},max:{indexes:[301,500],amounts:[225.5,325.4]},value:[{indexes:[0,50],amounts:[0,9]},{indexes:[51,100],amounts:[9.1,35.4]},{indexes:[101,150],amounts:[35.5,55.4]},{indexes:[151,200],amounts:[55.5,125.4]},{indexes:[201,300],amounts:[125.5,225.4]},{indexes:[301,500],amounts:[225.5,325.4]},{indexes:[501,1/0],amounts:[325.5,1/0]}]}},PM10_24H:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,54]},max:{indexes:[301,500],amounts:[425,604]},value:[{indexes:[0,50],amounts:[0,54]},{indexes:[51,100],amounts:[55,154]},{indexes:[101,150],amounts:[155,254]},{indexes:[151,200],amounts:[255,354]},{indexes:[201,300],amounts:[355,424]},{indexes:[301,500],amounts:[425,604]},{indexes:[501,1/0],amounts:[605,1/0]}]}},CO_8H:{units:"PARTS_PER_MILLION",stpConversionFactor:1.14491990608754,ranges:{min:{indexes:[0,50],amounts:[0,4.4]},max:{indexes:[301,500],amounts:[30.5,50.4]},value:[{indexes:[0,50],amounts:[0,4.4]},{indexes:[51,100],amounts:[4.5,9.4]},{indexes:[101,150],amounts:[9.5,12.4]},{indexes:[151,200],amounts:[12.5,15.4]},{indexes:[201,300],amounts:[15.5,30.4]},{indexes:[301,500],amounts:[30.5,50.4]},{indexes:[501,1/0],amounts:[50.5,1/0]}]}},SO2:{units:"PARTS_PER_BILLION",stpConversionFactor:2.618396263625692,ranges:{min:{indexes:[0,50],amounts:[0,35]},max:{indexes:[301,500],amounts:[605,1004]},value:[{indexes:[0,50],amounts:[0,35]},{indexes:[51,100],amounts:[36,75]},{indexes:[101,150],amounts:[76,185]},{indexes:[151,200],amounts:[186,304]},{indexes:[201,300],amounts:[305,604]},{indexes:[301,500],amounts:[605,1004]},{indexes:[501,1/0],amounts:[1005,1/0]}]}},NO2:{units:"PARTS_PER_BILLION",stpConversionFactor:1.880472698306222,ranges:{min:{indexes:[0,50],amounts:[0,53]},max:{indexes:[301,500],amounts:[1250,2049]},value:[{indexes:[0,50],amounts:[0,53]},{indexes:[51,100],amounts:[54,100]},{indexes:[101,150],amounts:[101,360]},{indexes:[151,200],amounts:[361,649]},{indexes:[201,300],amounts:[650,1249]},{indexes:[301,500],amounts:[1250,2049]},{indexes:[501,1/0],amounts:[2050,1/0]}]}}}},WAQI_InstantCast_US:{weatherKitScale:{name:"EPA_NowCast",version:"2414"},categories:{significantIndex:3,ranges:[{categoryIndex:1,indexes:[0,50]},{categoryIndex:2,indexes:[51,100]},{categoryIndex:3,indexes:[101,150]},{categoryIndex:4,indexes:[151,200]},{categoryIndex:5,indexes:[201,300]},{categoryIndex:6,indexes:[301,1/0]}]},pollutants:{OZONE:{units:"PARTS_PER_BILLION",stpConversionFactor:1.96189649169881,ranges:{min:{indexes:[0,50],amounts:[0,62.5]},max:{indexes:[301,500],amounts:[405.1,605]},value:[{indexes:[0,50],amounts:[0,62.5]},{indexes:[51,100],amounts:[62.6,101.5]},{indexes:[101,150],amounts:[101.6,152.5]},{indexes:[151,200],amounts:[152.6,205]},{indexes:[201,300],amounts:[205.1,405]},{indexes:[301,500],amounts:[405.1,605]},{indexes:[501,1/0],amounts:[605.1,1/0]}]}},PM2_5:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,9]},max:{indexes:[301,500],amounts:[225.5,325.4]},value:[{indexes:[0,50],amounts:[0,9]},{indexes:[51,100],amounts:[9.1,35.4]},{indexes:[101,150],amounts:[35.5,55.4]},{indexes:[151,200],amounts:[55.5,125.4]},{indexes:[201,300],amounts:[125.5,225.4]},{indexes:[301,500],amounts:[225.5,325.4]},{indexes:[501,1/0],amounts:[325.5,1/0]}]}},PM10:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,54]},max:{indexes:[301,500],amounts:[425,604]},value:[{indexes:[0,50],amounts:[0,54]},{indexes:[51,100],amounts:[55,154]},{indexes:[101,150],amounts:[155,254]},{indexes:[151,200],amounts:[255,354]},{indexes:[201,300],amounts:[355,424]},{indexes:[301,500],amounts:[425,604]},{indexes:[501,1/0],amounts:[605,1/0]}]}},CO:{units:"PARTS_PER_BILLION",stpConversionFactor:1.144511152104645,ranges:{min:{indexes:[0,50],amounts:[0,4400]},max:{indexes:[301,500],amounts:[30401,50400]},value:[{indexes:[0,50],amounts:[0,4400]},{indexes:[51,100],amounts:[4401,9400]},{indexes:[101,150],amounts:[9401,12400]},{indexes:[151,200],amounts:[12401,15400]},{indexes:[201,300],amounts:[15401,30400]},{indexes:[301,500],amounts:[30401,50400]},{indexes:[501,1/0],amounts:[50401,1/0]}]}},SO2:{units:"PARTS_PER_BILLION",stpConversionFactor:2.618396263625692,ranges:{min:{indexes:[0,50],amounts:[0,35]},max:{indexes:[301,500],amounts:[605,1004]},value:[{indexes:[0,50],amounts:[0,35]},{indexes:[51,100],amounts:[36,75]},{indexes:[101,150],amounts:[76,185]},{indexes:[151,200],amounts:[186,304]},{indexes:[201,300],amounts:[305,604]},{indexes:[301,500],amounts:[605,1004]},{indexes:[501,1/0],amounts:[1005,1/0]}]}},NO2:{units:"PARTS_PER_BILLION",stpConversionFactor:1.880472698306222,ranges:{min:{indexes:[0,50],amounts:[0,53]},max:{indexes:[301,500],amounts:[1250,2049]},value:[{indexes:[0,50],amounts:[0,53]},{indexes:[51,100],amounts:[54,100]},{indexes:[101,150],amounts:[101,360]},{indexes:[151,200],amounts:[361,649]},{indexes:[201,300],amounts:[650,1249]},{indexes:[301,500],amounts:[1250,2049]},{indexes:[501,1/0],amounts:[2050,1/0]}]}}}},WAQI_InstantCast_CN:{weatherKitScale:{name:"HJ6332012",version:"2414"},categories:{significantIndex:3,ranges:[{categoryIndex:1,indexes:[0,50]},{categoryIndex:2,indexes:[51,100]},{categoryIndex:3,indexes:[101,150]},{categoryIndex:4,indexes:[151,200]},{categoryIndex:5,indexes:[201,300]},{categoryIndex:6,indexes:[301,1/0]}]},pollutants:{SO2:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,150]},max:{indexes:[401,500],amounts:[2101,2620]},value:[{indexes:[0,50],amounts:[0,150]},{indexes:[51,100],amounts:[151,500]},{indexes:[101,150],amounts:[501,650]},{indexes:[151,200],amounts:[651,800]},{indexes:[201,300],amounts:[801,1600]},{indexes:[301,400],amounts:[1601,2100]},{indexes:[401,500],amounts:[2101,2620]},{indexes:[501,1/0],amounts:[2602,1/0]}]}},NO2:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,100]},max:{indexes:[401,500],amounts:[3091,3840]},value:[{indexes:[0,50],amounts:[0,100]},{indexes:[51,100],amounts:[101,200]},{indexes:[101,150],amounts:[201,700]},{indexes:[151,200],amounts:[701,1200]},{indexes:[201,300],amounts:[1201,2340]},{indexes:[301,400],amounts:[2341,3090]},{indexes:[401,500],amounts:[3091,3840]},{indexes:[501,1/0],amounts:[3841,1/0]}]}},PM10:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,50]},max:{indexes:[401,500],amounts:[501,600]},value:[{indexes:[0,50],amounts:[0,50]},{indexes:[51,100],amounts:[51,150]},{indexes:[101,150],amounts:[151,250]},{indexes:[151,200],amounts:[251,350]},{indexes:[201,300],amounts:[351,420]},{indexes:[301,400],amounts:[421,500]},{indexes:[401,500],amounts:[501,600]},{indexes:[501,1/0],amounts:[601,1/0]}]}},CO:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,5e3]},max:{indexes:[401,500],amounts:[120001,15e4]},value:[{indexes:[0,50],amounts:[0,5e3]},{indexes:[51,100],amounts:[5001,1e4]},{indexes:[101,150],amounts:[10001,35e3]},{indexes:[151,200],amounts:[35001,6e4]},{indexes:[201,300],amounts:[60001,9e4]},{indexes:[301,400],amounts:[90001,12e4]},{indexes:[401,500],amounts:[120001,15e4]},{indexes:[501,1/0],amounts:[150001,1/0]}]}},OZONE:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,160]},max:{indexes:[401,500],amounts:[1001,1200]},value:[{indexes:[0,50],amounts:[0,160]},{indexes:[51,100],amounts:[161,200]},{indexes:[101,150],amounts:[201,300]},{indexes:[151,200],amounts:[301,400]},{indexes:[201,300],amounts:[401,800]},{indexes:[301,400],amounts:[801,1e3]},{indexes:[401,500],amounts:[1001,1200]},{indexes:[501,1/0],amounts:[1201,1/0]}]}},PM2_5:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,35]},max:{indexes:[401,500],amounts:[351,500]},value:[{indexes:[0,50],amounts:[0,35]},{indexes:[51,100],amounts:[36,75]},{indexes:[101,150],amounts:[76,115]},{indexes:[151,200],amounts:[116,150]},{indexes:[201,300],amounts:[151,250]},{indexes:[301,400],amounts:[251,350]},{indexes:[401,500],amounts:[351,500]},{indexes:[501,1/0],amounts:[501,1/0]}]}}}},WAQI_InstantCast_CN_25_DRAFT:{weatherKitScale:{name:"HJ6332012",version:"2414"},categories:{significantIndex:3,ranges:[{categoryIndex:1,indexes:[1,50]},{categoryIndex:2,indexes:[51,100]},{categoryIndex:3,indexes:[101,150]},{categoryIndex:4,indexes:[151,200]},{categoryIndex:5,indexes:[201,300]},{categoryIndex:6,indexes:[301,1/0]}]},pollutants:{SO2:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,150]},max:{indexes:[200,200],amounts:[801,1/0]},value:[{indexes:[0,50],amounts:[0,150]},{indexes:[51,100],amounts:[151,500]},{indexes:[101,150],amounts:[501,650]},{indexes:[151,200],amounts:[651,800]},{indexes:[200,200],amounts:[801,1/0]}]}},NO2:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,100]},max:{indexes:[401,500],amounts:[3091,3840]},value:[{indexes:[0,50],amounts:[0,100]},{indexes:[51,100],amounts:[101,200]},{indexes:[101,150],amounts:[201,700]},{indexes:[151,200],amounts:[701,1200]},{indexes:[201,300],amounts:[1201,2340]},{indexes:[301,400],amounts:[2341,3090]},{indexes:[401,500],amounts:[3091,3840]},{indexes:[501,1/0],amounts:[3841,1/0]}]}},CO:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,5e3]},max:{indexes:[401,500],amounts:[120001,15e4]},value:[{indexes:[0,50],amounts:[0,5e3]},{indexes:[51,100],amounts:[5001,1e4]},{indexes:[101,150],amounts:[10001,35e3]},{indexes:[151,200],amounts:[35001,6e4]},{indexes:[201,300],amounts:[60001,9e4]},{indexes:[301,400],amounts:[90001,12e4]},{indexes:[401,500],amounts:[120001,15e4]},{indexes:[501,1/0],amounts:[150001,1/0]}]}},OZONE:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,160]},max:{indexes:[401,500],amounts:[1001,1200]},value:[{indexes:[0,50],amounts:[0,160]},{indexes:[51,100],amounts:[161,200]},{indexes:[101,150],amounts:[201,300]},{indexes:[151,200],amounts:[301,400]},{indexes:[201,300],amounts:[401,800]},{indexes:[301,400],amounts:[801,1e3]},{indexes:[401,500],amounts:[1001,1200]},{indexes:[501,1/0],amounts:[1201,1/0]}]}},PM10:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,50]},max:{indexes:[401,500],amounts:[501,600]},value:[{indexes:[0,50],amounts:[0,50]},{indexes:[51,100],amounts:[51,120]},{indexes:[101,150],amounts:[121,250]},{indexes:[151,200],amounts:[251,350]},{indexes:[201,300],amounts:[351,420]},{indexes:[301,400],amounts:[421,500]},{indexes:[401,500],amounts:[501,600]},{indexes:[501,1/0],amounts:[601,1/0]}]}},PM2_5:{units:"MICROGRAMS_PER_CUBIC_METER",stpConversionFactor:-1,ranges:{min:{indexes:[0,50],amounts:[0,35]},max:{indexes:[401,500],amounts:[351,500]},value:[{indexes:[0,50],amounts:[0,30]},{indexes:[51,100],amounts:[31,60]},{indexes:[101,150],amounts:[61,115]},{indexes:[151,200],amounts:[116,150]},{indexes:[201,300],amounts:[151,250]},{indexes:[301,400],amounts:[251,350]},{indexes:[401,500],amounts:[351,500]},{indexes:[501,1/0],amounts:[501,1/0]}]}}}}},Pollutants:{co:"CO",no:"NO",no2:"NO2",so2:"SO2",o3:"OZONE",nox:"NOX",pm25:"PM2_5",pm10:"PM10",other:"NOT_AVAILABLE"},CompareCategoryIndexes:{BETTER:"BETTER",SAME:"SAME",UNKNOWN:"UNKNOWN",WORSE:"WORSE"},Units:{WeatherKit:{ugm3:"MICROGRAMS_PER_CUBIC_METER",mgm3:"MILLIGRAMS_PER_CUBIC_METER",ppb:"PARTS_PER_BILLION",ppm:"PARTS_PER_MILLION"},Friendly:{MICROGRAMS_PER_CUBIC_METER:"Œºg/m3",MILLIGRAMS_PER_CUBIC_METER:"mg/m3",PARTS_PER_BILLION:"ppb",PARTS_PER_MILLION:"ppm"}},STP_ConversionFactors:{US:{OZONE:1.96189649169881,SO2:2.618396263625692,NO2:1.880472698306222,CO:1.14491990608754,C6H6:3.192940861982224,NH3:.696148908267651,NO:1.226507201073285},EU:{OZONE:1.995358823128092,SO2:2.663055930411053,NO2:1.912546256182842,CO:1.164447791233157,C6H6:3.247400027289784,NH3:.708022503837626,NO:1.247426648473478}}};static ConvertUnit(t,e,i,a=-1,s=-1){j.info("‚òëÔ∏è ConvertUnit");let n=tD.Config.Units.Friendly;if(j.info(`Convert ${t} from ${n[e]} with ${a} to ${n[i]} with ${s}`),t<0)return j.error("ConvertUnit",`Amount ${t} < 0`),-1;let r=Number(t.toFixed(15)),{ugm3:o,mgm3:d,ppb:c,ppm:l}=tD.Config.Units.WeatherKit,u=[c,l],p=[...u,o,d];if(!p.includes(e)||!p.includes(i))return j.error("ConvertUnit","‰∏çÊîØÊåÅÁöÑÂçï‰Ωç",`from: ${e}`,`to: ${i}`),-1;let b=u.includes(e),h=u.includes(i),m=b&&h;if(m&&a!==s){if(a<=0||s<=0)return j.error("ConvertUnit","Êó†ÊïàÁöÑSTP conversion factor",`fromStpConversionFactor: ${a}`,`toStpConversionFactor: ${s}`),-1;let t=tD.ConvertUnit(r,e,o,a);return tD.ConvertUnit(t,o,i,-1,s)}if(!m&&b&&a<=0)return j.error("ConvertUnit",`fromStpConversionFactor ${a} <= 0`),-1;if(!m&&h&&s<=0)return j.error("ConvertUnit",`toStpConversionFactor ${s} <= 0`),-1;let{multiply:_,divide:f}=tL;switch(e){case l:switch(i){case l:return j.info("‚úÖ ConvertUnit"),r;case c:return j.info("‚úÖ ConvertUnit"),_(r,1e3);case d:return j.info("‚úÖ ConvertUnit"),_(r,a);case o:{let t=tD.ConvertUnit(r,e,c);return j.info("‚úÖ ConvertUnit"),_(t,a)}default:return -1}case c:switch(i){case c:return j.info("‚úÖ ConvertUnit"),r;case l:return j.info("‚úÖ ConvertUnit"),_(r,.001);case d:{let t=tD.ConvertUnit(r,e,l);return j.info("‚úÖ ConvertUnit"),_(t,a)}case o:return j.info("‚úÖ ConvertUnit"),_(r,a);default:return -1}case d:switch(i){case d:return j.info("‚úÖ ConvertUnit"),r;case o:return j.info("‚úÖ ConvertUnit"),_(r,1e3);case l:return j.info("‚úÖ ConvertUnit"),f(r,s);case c:{let t=tD.ConvertUnit(r,e,o);return j.info("‚úÖ ConvertUnit"),f(t,s)}default:return -1}case o:switch(i){case o:return j.info("‚úÖ ConvertUnit"),r;case d:return j.info("‚úÖ ConvertUnit"),_(r,.001);case l:{let t=tD.ConvertUnit(r,e,d);return j.info("‚úÖ ConvertUnit"),f(t,s)}case c:return j.info("‚úÖ ConvertUnit"),f(r,s);default:return -1}default:return -1}}}class tB{Name="ForecastNextHour";Version="v1.6.3";Author="iRingo";static #p={Pollutants:{co:"CO",no:"NO",no2:"NO2",so2:"SO2",o3:"OZONE",nox:"NOX",pm25:"PM2_5",pm10:"PM10",other:"NOT_AVAILABLE"},WeatherCondition:{Êô¥Êúó:"CLEAR",Èõ®Â§πÈõ™:"SLEET",Â∞èÈõ®:"DRIZZLE",‰∏ãÈõ®:"RAIN",‰∏≠Èõ®:"RAIN",Â§ßÈõ®:"HEAVY_RAIN",Â∞èÈõ™:"FLURRIES",‰∏ãÈõ™:"SNOW",‰∏≠Èõ™:"SNOW",Â§ßÈõ™:"HEAVY_SNOW",ÂÜ∞Èõπ:"HAIL"},PrecipitationType:{Êô¥Êúó:"CLEAR",Èõ®Â§πÈõ™:"SLEET",rain:"RAIN",Èõ®:"RAIN",snow:"SNOW",Èõ™:"SNOW",ÂÜ∞Èõπ:"HAIL"},Precipitation:{Level:{INVALID:-1,NO:0,LIGHT:1,MODERATE:2,HEAVY:3,EXTREME:4},Range:{radar:{NO:[0,.031],LIGHT:[.031,.25],MODERATE:[.25,.35],HEAVY:[.35,.48],EXTREME:[.48,Number.MAX_VALUE]},mmph:{NO:[0,.08],LIGHT:[.08,3.44],MODERATE:[3.44,11.33],HEAVY:[11.33,51.3],EXTREME:[51.3,Number.MAX_VALUE]},precipitation:{NO:[0,.01],LIGHT:[.01,.6],MODERATE:[.6,1.65],HEAVY:[1.65,8],EXTREME:[8,205]}}}};static WeatherCondition(t){j.info("‚òëÔ∏è WeatherCondition",`sentence: ${t}`);let e="CLEAR";return Object.keys(tB.#p.WeatherCondition).forEach(i=>{t.includes(i)&&(e=tB.#p.WeatherCondition[i])}),j.info(`‚úÖ WeatherCondition: ${e}`),e}static PrecipitationType(t){j.info("‚òëÔ∏è PrecipitationType",`sentence: ${t}`);let e="CLEAR";return Object.keys(tB.#p.PrecipitationType).forEach(i=>{t.includes(i)&&(e=tB.#p.PrecipitationType[i])}),j.info(`‚úÖ PrecipitationType: ${e}`),e}static Minute(t=[],e="",i="mmph"){j.info("‚òëÔ∏è Minute");let a=tB.PrecipitationType(e);return t=t.map((t,e)=>{if(t.precipitationIntensity=Math.trunc(1e6*t.precipitationIntensity)/1e6,t.perceivedPrecipitationIntensity=tB.#b(t.precipitationIntensity,i),t.perceivedPrecipitationIntensity>2){switch(a){case"RAIN":t.condition="HEAVY_RAIN";break;case"SNOW":t.condition="HEAVY_SNOW";break;default:t.condition=a}t.summaryCondition=a,t.clear=!1}else if(t.perceivedPrecipitationIntensity>1){switch(a){case"RAIN":t.condition="RAIN";break;case"SNOW":t.condition="SNOW";break;default:t.condition=a}t.summaryCondition=a,t.clear=!1}else if(t.perceivedPrecipitationIntensity>.1){switch(a){case"RAIN":t.condition="DRIZZLE";break;case"SNOW":t.condition="FLURRIES";break;default:t.condition=a}t.summaryCondition=a,t.clear=!1}else if(t.perceivedPrecipitationIntensity>0){switch(a){case"RAIN":t.condition="POSSIBLE_DRIZZLE";break;case"SNOW":t.condition="POSSIBLE_FLURRIES";break;default:t.condition=`POSSIBLE_${a}`}t.summaryCondition=a,t.clear=!1}else t.condition="CLEAR",t.summaryCondition="CLEAR",t.clear=!0;return t}),j.info("‚úÖ Minute"),t}static Summary(t=[]){j.info("‚òëÔ∏è Summary");let e=[],i={condition:"CLEAR",startTime:0,precipitationChance:0,precipitationIntensity:0,maxCondition:"",clear:!0},a=Math.min(71,t.length);for(let s=0;s<a;s++){let n=t[s],r=t[s-1];switch(s){case 0:i.startTime=n.startTime,i.condition=n.summaryCondition,i.precipitationChance=n.precipitationChance,i.precipitationIntensity=n.precipitationIntensity,i.maxCondition=n.condition,i.clear=n.clear;break;case a-1:i.endTime=0,i.clear=n.clear,j.debug(`Summaries[${s}]`,JSON.stringify({...n,...i},null,2)),e.push({...i});break;default:n.summaryCondition!==r.summaryCondition?(i.endTime=n.startTime,j.debug(`Summaries[${s}]`,JSON.stringify({...r,...i},null,2)),e.push({...i}),i.startTime=n.startTime,i.condition=n.summaryCondition,i.precipitationChance=n.precipitationChance,i.precipitationIntensity=n.precipitationIntensity,i.maxCondition=n.condition,i.clear=n.clear):(i.precipitationChance=Math.max(i.precipitationChance,n.precipitationChance),i.precipitationIntensity=Math.max(i.precipitationIntensity,n.precipitationIntensity),i.precipitationIntensity===n.precipitationIntensity&&(i.maxCondition=n.condition))}}return j.debug(`Summaries: ${JSON.stringify(e,null,2)}`),j.info("‚úÖ Summary"),e}static Condition(t=[]){j.info("‚òëÔ∏è Condition");let e=[];switch(t.map(t=>t.clear).join("|")){case"true":{let i=t[0];e.push({beginCondition:i.maxCondition,endCondition:i.maxCondition,forecastToken:"CLEAR",parameters:[],startTime:i.startTime,endTime:0});break}case"false":{let i=t[0];e.push({beginCondition:i.maxCondition,endCondition:i.maxCondition,forecastToken:"CONSTANT",parameters:[],startTime:i.startTime,endTime:0});break}case"true|false":{let i=t[0],a=t[1];e.push({beginCondition:a.maxCondition,endCondition:a.maxCondition,forecastToken:"START",parameters:[{date:a.startTime,type:"FIRST_AT"}],startTime:i.startTime,endTime:i.endTime}),e.push({beginCondition:a.maxCondition,endCondition:a.maxCondition,forecastToken:"CONSTANT",parameters:[],startTime:a.startTime,endTime:0});break}case"false|true":{let i=t[0],a=t[1];e.push({beginCondition:i.maxCondition,endCondition:i.maxCondition,forecastToken:"STOP",parameters:[{date:i.endTime,type:"FIRST_AT"}],startTime:i.startTime,endTime:i.endTime}),e.push({beginCondition:a.maxCondition,endCondition:a.maxCondition,forecastToken:"CLEAR",parameters:[],startTime:a.startTime,endTime:0});break}case"false|true|false":{let i=t[0],a=t[1],s=t[2];e.push({beginCondition:i.maxCondition,endCondition:s.maxCondition,forecastToken:"STOP_START",parameters:[{date:i.endTime,type:"FIRST_AT"},{date:s.startTime,type:"SECOND_AT"}],startTime:i.startTime,endTime:i.endTime}),e.push({beginCondition:s.maxCondition,endCondition:s.maxCondition,forecastToken:"START",parameters:[{date:s.startTime,type:"FIRST_AT"}],startTime:a.startTime,endTime:a.endTime}),e.push({beginCondition:s.maxCondition,endCondition:s.maxCondition,forecastToken:"CONSTANT",parameters:[],startTime:s.startTime,endTime:0});break}case"true|false|true":{let i=t[0],a=t[1],s=t[2];e.push({beginCondition:a.maxCondition,endCondition:a.maxCondition,forecastToken:"START_STOP",parameters:[{date:a.startTime,type:"FIRST_AT"},{date:a.endTime,type:"SECOND_AT"}],startTime:i.startTime,endTime:i.endTime}),e.push({beginCondition:a.maxCondition,endCondition:a.maxCondition,forecastToken:"STOP",parameters:[{date:a.endTime,type:"FIRST_AT"}],startTime:a.startTime,endTime:a.endTime}),e.push({beginCondition:s.maxCondition,endCondition:s.maxCondition,forecastToken:"CLEAR",parameters:[],startTime:s.startTime,endTime:0});break}case"false|true|false|true":{let i=t[0],a=t[1],s=t[2],n=t[3];e.push({beginCondition:i.maxCondition,endCondition:s.maxCondition,forecastToken:"STOP_START",parameters:[{date:i.endTime,type:"FIRST_AT"},{date:s.startTime,type:"SECOND_AT"}],startTime:i.startTime,endTime:i.endTime}),e.push({beginCondition:s.maxCondition,endCondition:s.maxCondition,forecastToken:"START_STOP",parameters:[{date:s.startTime,type:"FIRST_AT"},{date:s.endTime,type:"SECOND_AT"}],startTime:a.startTime,endTime:a.endTime}),e.push({beginCondition:s.maxCondition,endCondition:s.maxCondition,forecastToken:"STOP",parameters:[{date:s.endTime,type:"FIRST_AT"}],startTime:s.startTime,endTime:s.endTime}),e.push({beginCondition:n.maxCondition,endCondition:n.maxCondition,forecastToken:"CLEAR",parameters:[],startTime:n.startTime,endTime:0});break}case"true|false|true|false":{let i=t[0],a=t[1],s=t[2],n=t[3];e.push({beginCondition:a.maxCondition,endCondition:a.maxCondition,forecastToken:"START_STOP",parameters:[{date:a.startTime,type:"FIRST_AT"},{date:a.endTime,type:"SECOND_AT"}],startTime:i.startTime,endTime:i.endTime}),e.push({beginCondition:a.maxCondition,endCondition:n.maxCondition,forecastToken:"STOP_START",parameters:[{date:a.endTime,type:"FIRST_AT"},{date:n.startTime,type:"SECOND_AT"}],startTime:a.startTime,endTime:a.endTime}),e.push({beginCondition:n.maxCondition,endCondition:n.maxCondition,forecastToken:"START",parameters:[{date:n.startTime,type:"FIRST_AT"}],startTime:s.startTime,endTime:s.endTime}),e.push({beginCondition:n.maxCondition,endCondition:n.maxCondition,forecastToken:"CONSTANT",parameters:[],startTime:n.startTime,endTime:0})}}return j.debug(`Conditions: ${JSON.stringify(e,null,2)}`),j.info("‚úÖ Condition"),e}static #b(t,e="mmph"){let i=tB.#p.Precipitation.Range[e],a=0;return 0===t||t>i.NO[0]&&t<=i.NO[1]?a=0:t>i.LIGHT[0]&&t<=i.LIGHT[1]?a=Math.min(1,(t-i.LIGHT[0])/(i.LIGHT[1]-i.LIGHT[0])):t>i.MODERATE[0]&&t<=i.MODERATE[1]?a=1+Math.min(1,(t-i.MODERATE[0])/(i.MODERATE[1]-i.MODERATE[0])):t>i.HEAVY[0]&&(a=2+Math.min(1,(t-i.HEAVY[0])/(i.HEAVY[1]-i.HEAVY[0]))),a=Math.trunc(1e3*a)/1e3}}class t${constructor(t,e){this.Name="ColorfulClouds",this.Version="4.0.0-beta1",j.log(`üüß ${this.Name} v${this.Version}`),this.endpoint=`https://api.caiyunapp.com/v2.6/${e}/${t.longitude},${t.latitude}`,this.headers={Referer:"https://caiyunapp.com/"},this.version=t.version,this.language=t.language,this.latitude=t.latitude,this.longitude=t.longitude,this.country=t.country}#h={realtime:{}};#m={Pollutants:{co:"CO",no:"NO",no2:"NO2",so2:"SO2",o3:"OZONE",nox:"NOX",pm25:"PM2_5",pm10:"PM10",other:"NOT_AVAILABLE"}};async #_(){if(j.info("‚òëÔ∏è RealTime"),this.#h.realtime?.result?.realtime?.status==="ok")return j.info("‚úÖ RealTime","Using cache"),this.#h.realtime;let t={url:`${this.endpoint}/realtime`,headers:this.headers};try{let e=await Z(t).then(t=>JSON.parse(t?.body??"{}"));switch(e?.status){case"ok":switch(e?.result?.realtime?.status){case"ok":return this.#h.realtime=e,j.info("‚úÖ RealTime"),e;case"error":case void 0:throw Error(JSON.stringify({status:e?.result?.realtime?.status,reason:e?.result?.realtime}))}break;case"error":case"failed":case void 0:throw Error(JSON.stringify(e??{}))}}catch(t){j.error(`RealTime: ${t}`)}finally{j.info("‚úÖ RealTime")}return{}}async Minutely(){let t;j.info("‚òëÔ∏è Minutely");let e={url:`${this.endpoint}/minutely?unit=metric:v2`,headers:this.headers};try{let i=await Z(e).then(t=>JSON.parse(t?.body??"{}"));switch(i?.status){case"ok":switch(i?.result?.minutely?.status){case"ok":{let e=Date.now()/1e3|0,a={attributionUrl:"https://www.caiyunapp.com/h5",expireTime:e+3600,language:"zh-CN",latitude:i?.location?.[0],longitude:i?.location?.[1],providerLogo:tU("ÂΩ©‰∫ëÂ§©Ê∞î",this.version),providerName:"ÂΩ©‰∫ëÂ§©Ê∞î",readTime:e,reportedTime:i?.server_time,temporarilyUnavailable:!1,sourceType:"MODELED"};i.result.minutely.probability=i.result.minutely.probability.map(t=>Math.round(100*t));let s=new Date(i?.server_time*1e3).setSeconds(0,0);s=s.valueOf()/1e3-60,(t={metadata:a,condition:[],forecastEnd:0,forecastStart:s,minutes:i?.result?.minutely?.precipitation_2h?.map((t,e)=>{let a={perceivedPrecipitationIntensity:0,precipitationChance:0,precipitationIntensity:t,startTime:s+60*e};return e<30?a.precipitationChance=i?.result?.minutely?.probability?.[0]:e<60?a.precipitationChance=i?.result?.minutely?.probability?.[1]:e<90?a.precipitationChance=i?.result?.minutely?.probability?.[2]:a.precipitationChance=i?.result?.minutely?.probability?.[3],a}),summary:[]}).minutes.length=Math.min(85,t.minutes.length),t.forecastEnd=s+60*t.minutes.length,t.minutes=tB.Minute(t.minutes,i?.result?.minutely?.description,"mmph"),t.summary=tB.Summary(t.minutes),t.condition=tB.Condition(t.summary);break}case"error":case"failed":case void 0:throw Error(JSON.stringify({status:i?.result?.minutely?.status,reason:i?.result?.minutely}))}break;case"error":case"failed":case void 0:throw Error(JSON.stringify(i??{}))}}catch(t){j.error(`Minutely: ${t}`)}finally{j.info("‚úÖ Minutely")}return t}async #f(t=273,e){j.info("‚òëÔ∏è Hourly",`hourlysteps: ${t}`,`begin: ${e}`);let i={url:`${this.endpoint}/hourly?hourlysteps=${t}`,headers:this.headers};e&&(i.url+=`&begin=${e}`);try{let t=await Z(i).then(t=>JSON.parse(t?.body??"{}"));switch(t?.status){case"ok":switch(t?.result?.hourly?.status){case"ok":return j.info("‚úÖ Hourly"),t;case"error":case void 0:throw Error(JSON.stringify({status:t?.result?.hourly?.status,reason:t?.result?.hourly}))}break;case"error":case"failed":case void 0:throw Error(JSON.stringify(t??{}))}}catch(t){j.error(`Hourly: ${t}`)}finally{j.info("‚úÖ Hourly")}return{}}async Daily(t=10,e){let i;j.info("‚òëÔ∏è Daily");let a={url:`${this.endpoint}/daily?dailysteps=${t}`,headers:this.headers};e&&(a.url+=`&begin=${e}`);try{let e=await Z(a).then(t=>JSON.parse(t?.body??"{}"));switch(e?.status){case"ok":switch(e?.result?.daily?.status){case"ok":{let a=Date.now()/1e3|0;i={metadata:{attributionUrl:"https://www.caiyunapp.com/h5",expireTime:a+3600,language:"zh-CN",latitude:e?.location?.[0],longitude:e?.location?.[1],providerLogo:tU("ÂΩ©‰∫ëÂ§©Ê∞î",this.version),providerName:"ÂΩ©‰∫ëÂ§©Ê∞î",readTime:a,reportedTime:e?.server_time,temporarilyUnavailable:!1,sourceType:"STATION"},days:[]};for(let a=0;a<t;a++){let t=new Date(e?.result?.daily?.skycon?.[a]?.date).getTime()/1e3|0;i.days.push({forecastStart:t,forecastEnd:t+86400,conditionCode:tW.ConvertWeatherCode(e?.result?.daily?.skycon?.[a]?.value),humidityMax:Math.round(e?.result?.daily?.humidity?.[a]?.max*100),humidityMin:Math.round(e?.result?.daily?.humidity?.[a]?.min*100),precipitationAmount:e?.result?.daily?.precipitation?.[a]?.avg,precipitationChance:e?.result?.daily?.precipitation?.[a]?.probability,temperatureMax:e?.result?.daily?.temperature?.[a]?.max,temperatureMin:e?.result?.daily?.temperature?.[a]?.min,visibilityMax:e?.result?.daily?.visibility?.[a]?.max*1e3,visibilityMin:e?.result?.daily?.visibility?.[a]?.min*1e3,windSpeedAvg:e?.result?.daily?.wind?.[a]?.avg?.speed,windSpeedMax:e?.result?.daily?.wind?.[a]?.max?.speed,daytimeForecast:{forecastStart:t+28800,forecastEnd:t+28800+43200,cloudCover:e?.result?.daily?.cloudrate?.[a]?.avg,conditionCode:tW.ConvertWeatherCode(e?.result?.daily?.skycon_08h_20h?.[a]?.value),precipitationAmount:e?.result?.daily?.precipitation_08h_20h?.[a]?.avg,precipitationChance:e?.result?.daily?.precipitation_08h_20h?.[a]?.probability,temperatureMax:e?.result?.daily?.temperature_08h_20h?.[a]?.max,temperatureMin:e?.result?.daily?.temperature_08h_20h?.[a]?.min,windDirection:e?.result?.daily?.wind_08h_20h?.[a]?.avg?.direction,windSpeed:e?.result?.daily?.wind_08h_20h?.[a]?.avg?.speed,windSpeedMax:e?.result?.daily?.wind_08h_20h?.[a]?.max?.speed},overnightForecast:{forecastStart:t+72e3,forecastEnd:t+72e3+43200,cloudCover:e?.result?.daily?.cloudrate?.[a]?.avg,conditionCode:tW.ConvertWeatherCode(e?.result?.daily?.skycon_20h_32h?.[a]?.value),precipitationAmount:e?.result?.daily?.precipitation_20h_32h?.[a]?.avg,precipitationChance:e?.result?.daily?.precipitation_20h_32h?.[a]?.probability,temperatureMax:e?.result?.daily?.temperature_20h_32h?.[a]?.max,temperatureMin:e?.result?.daily?.temperature_20h_32h?.[a]?.min,windDirection:e?.result?.daily?.wind_20h_32h?.[a]?.avg?.direction,windSpeed:e?.result?.daily?.wind_20h_32h?.[a]?.avg?.speed,windSpeedMax:e?.result?.daily?.wind_20h_32h?.[a]?.max?.speed}})}break}case"error":case void 0:throw Error(JSON.stringify({status:e?.result?.daily?.status,reason:e?.result?.daily}))}break;case"error":case"failed":case void 0:throw Error(JSON.stringify(e??{}))}}catch(t){j.error(`Daily: ${t}`)}finally{j.info("‚úÖ Daily")}return i}#y(t,e=[this.latitude,this.longitude],i=!1){let a=Math.trunc(Date.now()/1e3),[s,n]=e;return{longitude:n,providerName:"ÂΩ©‰∫ëÂ§©Ê∞î",reportedTime:t??a,latitude:s,expireTime:a+3600,attributionUrl:"https://www.caiyunapp.com/h5",providerLogo:tU("ÂΩ©‰∫ëÂ§©Ê∞î",this.version),temporarilyUnavailable:i,readTime:a,sourceType:"MODELED"}}#g(t){j.info("‚òëÔ∏è CreatePollutants"),j.debug(`realtimeAirQuality: ${JSON.stringify(t)}`);let{mgm3:e,ugm3:i}=tD.Config.Units.WeatherKit,a=Object.entries(t).map(([t,a])=>({amount:"co"===t?tD.ConvertUnit(a,e,i):a,pollutantType:this.#m.Pollutants[t],units:i})).filter(({pollutantType:t})=>t);return j.info("‚úÖ CreatePollutants"),a}async CurrentAirQuality(t=!0,e=!0){j.info("‚òëÔ∏è CurrentAirQuality");let i=await this.#_(),a={metadata:this.#y(void 0,void 0,!0),pollutants:[],previousDayComparison:tD.Config.CompareCategoryIndexes.UNKNOWN};if(!i.result)return j.error("CurrentAirQuality","Êó†Ê≥ïËé∑ÂèñrealtimeÊï∞ÊçÆ"),a;if(""===i.result.realtime.air_quality.description.usa)return j.error("CurrentAirQuality","‰∏çÊîØÊåÅÁöÑ‰ΩçÁΩÆ"),a;let s={metadata:this.#y(i.result.realtime.air_quality.obs_time,i.location),pollutants:this.#g(i.result.realtime.air_quality),previousDayComparison:tD.Config.CompareCategoryIndexes.UNKNOWN};if(t){let t=tD.Config.Scales.EPA_NowCast,e=i.result.realtime.air_quality.aqi.usa,a=tD.CategoryIndex(e,t.categories),n={...s,categoryIndex:a,index:e,isSignificant:a>=t.categories.significantIndex,primaryPollutant:"NOT_AVAILABLE",scale:tD.ToWeatherKitScale(t.weatherKitScale)};return j.info("‚úÖ CurrentAirQuality"),n}{let t=tD.Config.Scales.HJ6332012,a=i.result.realtime.air_quality.aqi.chn,n=tD.CategoryIndex(a,t.categories),r=[{pollutantType:"PM2_5",index:i.result.realtime.air_quality.pm25_iaqi_chn},{pollutantType:"PM10",index:i.result.realtime.air_quality.pm10_iaqi_chn},{pollutantType:"OZONE",index:i.result.realtime.air_quality.o3_iaqi_chn},{pollutantType:"SO2",index:i.result.realtime.air_quality.so2_iaqi_chn},{pollutantType:"NO2",index:i.result.realtime.air_quality.no2_iaqi_chn},{pollutantType:"CO",index:i.result.realtime.air_quality.co_iaqi_chn}],o=tD.GetPrimaryPollutant(r,t.categories),d=!e&&o.index<=50;d&&j.info("CurrentAirQuality",`Max index of pollutants ${o.pollutantType} = ${o.index} is <= 50, primaryPollutant will be set to NOT_AVAILABLE.`);let c={...s,categoryIndex:n,index:a,isSignificant:n>=t.categories.significantIndex,primaryPollutant:d?"NOT_AVAILABLE":o.pollutantType,scale:tD.ToWeatherKitScale(t.weatherKitScale)};return j.info("‚úÖ CurrentAirQuality"),c}}async CurrentWeather(){j.info("‚òëÔ∏è CurrentWeather");let t=await this.#_();return t.result?(j.info("‚úÖ CurrentWeather"),{metadata:this.#y(t.result.server_time,t.location),cloudCover:Math.round(100*t.result.realtime.cloudrate),conditionCode:tW.ConvertWeatherCode(t.result.realtime.skycon),humidity:Math.round(100*t.result.realtime.humidity),perceivedPrecipitationIntensity:t.result.realtime.precipitation.local.intensity,pressure:t.result.realtime.pressure/100,temperature:t.result.realtime.temperature,temperatureApparent:t.result.realtime.apparent_temperature,visibility:1e3*t.result.realtime.visibility,windDirection:t.result.realtime.wind.direction,windSpeed:t.result.realtime.wind.speed}):(j.error("CurrentWeather","Êó†Ê≥ïËé∑ÂèñrealtimeÊï∞"),{metadata:this.#y(void 0,void 0,!0)})}async YesterdayAirQuality(t=!0){j.info("‚òëÔ∏è YesterdayAirQuality");let e=await this.#f(1,Math.trunc((Date.now()-864e5)/1e3)),i=t?tD.Config.Scales.EPA_NowCast:tD.Config.Scales.HJ6332012,a={previousDayComparison:tD.Config.CompareCategoryIndexes.UNKNOWN,pollutants:[],primaryPollutant:"NOT_AVAILABLE",scale:tD.ToWeatherKitScale(i.weatherKitScale)};if(!e.result)return j.error("YesterdayAirQuality","Êó†Ê≥ïËé∑ÂèñhourlyÊï∞ÊçÆ"),{...a,categoryIndex:-1,metadata:this.#y(void 0,void 0,!0)};let{usa:s,chn:n}=e.result.hourly.air_quality.aqi[0].value;0===s&&0===n&&j.warn("YesterdayAirQuality","usaÂíåchnÁöÑAQIÂÄºÈÉΩ‰∏∫0Ôºå‰∏çÊîØÊåÅÁöÑ‰ΩçÁΩÆÔºü");let r=t?s:n,o=tD.CategoryIndex(r,i.categories),d=o>=i.categories.significantIndex;return j.debug(`index: ${r}`),j.info("‚úÖ YesterdayAirQuality",`categoryIndex: ${o}`),{...a,index:r,categoryIndex:o,isSignificant:d,metadata:this.#y(e.result.server_time,e.location)}}async ForecastHourly(t,e){j.info("‚òëÔ∏è ForecastHourly");let i=await this.#f(t,e);return i.result?(j.info("‚úÖ ForecastHourly"),{metadata:this.#y(i.result.server_time,i.location),hours:Array.from({length:i.result.hourly.skycon.length},(t,e)=>({cloudCover:i.result.hourly.cloudrate[e].value,conditionCode:tW.ConvertWeatherCode(i.result.hourly.skycon[e].value),forecastStart:new Date(i.result.hourly.skycon[e].datetime).getTime()/1e3|0,humidity:Math.round(100*i.result.hourly.humidity[e].value),precipitationAmount:i.result.hourly.precipitation[e].value,precipitationChance:i.result.hourly.precipitation[e].probability,pressure:i.result.hourly.pressure[e].value/100,temperature:i.result.hourly.temperature[e].value,temperatureApparent:i.result.hourly.apparent_temperature[e].value,visibility:1e3*i.result.hourly.visibility[e].value,windDirection:i.result.hourly.wind[e].direction,windSpeed:i.result.hourly.wind[e].speed}))}):(j.error("ForecastHourly","Failed to get hourly data"),{metadata:this.#y(void 0,void 0,!0)})}}class tH{constructor(t,e,i="devapi.qweather.com"){this.Name="QWeather",this.Version="5.0.0-beta1",j.log(`üüß ${this.Name} v${this.Version}`),this.endpoint=`https://${i}`,this.headers={"X-QW-Api-Key":e},this.version=t.version,this.language=t.language,this.latitude=t.latitude,this.longitude=t.longitude,this.country=t.country}#h={airQualityCurrent:{}};#m={Pollutants:{co:"CO",no:"NO",no2:"NO2",so2:"SO2",o3:"OZONE",nox:"NOX",pm25:"PM2_5",pm2p5:"PM2_5",pm10:"PM10",other:"NOT_AVAILABLE",na:"NOT_AVAILABLE",undefined:"NOT_AVAILABLE",null:"NOT_AVAILABLE"},Units:{"Œºg/m3":"MICROGRAMS_PER_CUBIC_METER","mg/m3":"MILLIGRAMS_PER_CUBIC_METER",ppb:"PARTS_PER_BILLION",ppm:"PARTS_PER_MILLION"}};static async GetLocationsGrid(t,e){j.info("‚òëÔ∏è GetLocationsGrid");let i=t?.locationsGrid;if(i?.lastUpdated&&i.lastUpdated+2592e6>Date.now())return j.info("‚úÖ GetLocationsGrid","Cache found!"),i.data;{j.info("‚ö†Ô∏è GetLocationsGrid","Cache not found or stale, fetching...");let a=await Z({headers:i?.etag?{"If-None-Match":i?.etag}:void 0,url:"https://raw.githubusercontent.com/NSRingo/QWeather-Location-Grid/refs/heads/main/data/qweather-china-city-list-grid.json"});if(304===a.status)return j.info("‚úÖ GetLocationsGrid","Cache not modified"),e({...t,locationsGrid:{...i,lastUpdated:Date.now()}}),i.data;let s=JSON.parse(a.body);return e({...t,locationsGrid:{etag:a.headers.ETag,lastUpdated:Date.now(),data:s}}),j.info("‚úÖ GetLocationsGrid"),s}}static GetLocationInfo(t,e,i){j.info("‚òëÔ∏è GetLocationInfo");let{gridSize:a,grid:s}=t,n=(t,e,i,a)=>{let s=Math.sin((i-t)*Math.PI/180/2)**2+Math.cos(t*Math.PI/180)*Math.cos(i*Math.PI/180)*Math.sin((a-e)*Math.PI/180/2)**2;return 12742*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))},r=((t,e)=>{let i=((t,e,i=2)=>{let s=Math.floor(e/a),n=Math.floor(t/a),r=[];for(let t=-i;t<=i;t++)for(let e=-i;e<=i;e++)r.push(`${s+t},${n+e}`);return r})(t,e,2),r=null,o=1/0;for(let a of i){let i=s[a];if(i)for(let a of i){let i=n(t,e,a.latitude,a.longitude);i<o&&(o=i,r=a)}}return r})(e,i);return j.info("‚úÖ GetLocationInfo"),r}async GeoAPI(t="city/lookup"){let e;j.info("‚òëÔ∏è GeoAPI");let i={url:`${this.endpoint}/geo/v2/${t}?location=${this.longitude},${this.latitude}`,headers:this.headers};try{let t=await Z(i).then(t=>JSON.parse(t?.body??"{}"));if(t?.code==="200")e={attributionUrl:t?.location?.[0]?.fxLink,latitude:t?.location?.[0]?.lat,longitude:t?.location?.[0]?.lon,providerName:"ÂíåÈ£éÂ§©Ê∞î",locationID:t?.location?.[0]?.id};else throw Error(t?.code)}catch(t){j.error(`GeoAPI: ${t}`)}finally{j.debug(`metadata: ${JSON.stringify(e,null,2)}`),j.info("‚úÖ GeoAPI")}return e}async WeatherNow(){let t;j.info("‚òëÔ∏è WeatherNow");let e={url:`${this.endpoint}/v7/weather/now?location=${this.longitude},${this.latitude}`,headers:this.headers};try{let i=await Z(e).then(t=>JSON.parse(t?.body??"{}"));switch(i?.code){case"200":{let e=Date.now()/1e3|0;t={metadata:{attributionUrl:i?.fxLink,expireTime:e+3600,language:"zh-CN",latitude:this.latitude,longitude:this.longitude,providerLogo:tU("ÂíåÈ£éÂ§©Ê∞î",this.version),providerName:"ÂíåÈ£éÂ§©Ê∞î",readTime:e,reportedTime:new Date(i?.now?.pubTime).getTime()/1e3|0,temporarilyUnavailable:!1,sourceType:"STATION"},cloudCover:Number.parseInt(i?.now?.cloud,10),conditionCode:tW.ConvertWeatherCode(i?.now?.text),humidity:Number.parseInt(i?.now?.humidity,10),perceivedPrecipitationIntensity:Number.parseFloat(i?.now?.precip),pressure:Number.parseFloat(i?.now?.pressure),temperature:Number.parseFloat(i?.now?.temp),temperatureApparent:Number.parseFloat(i?.now?.feelsLike),temperatureDewPoint:Number.parseFloat(i?.now?.dew),visibility:1e3*Number.parseFloat(i?.now?.vis),windDirection:Number.parseInt(i?.now?.wind360,10),windSpeed:Number.parseFloat(i?.now?.windSpeed)};break}case"204":case"400":case"401":case"402":case"403":case"404":case"429":case"500":case void 0:throw Error(i?.code)}}catch(t){j.error(`WeatherNow: ${t}`)}finally{j.info("‚úÖ WeatherNow")}return t}async AirNow(){let t;j.info("‚òëÔ∏è AirNow");let e={url:`${this.endpoint}/v7/air/now?location=${this.longitude},${this.latitude}`,headers:this.headers};try{let i=await Z(e).then(t=>JSON.parse(t?.body??"{}"));switch(i?.code){case"200":{let e=Date.now()/1e3|0;t={metadata:{attributionUrl:i?.fxLink,expireTime:e+3600,language:"zh-CN",latitude:this.latitude,longitude:this.longitude,providerLogo:tU("ÂíåÈ£éÂ§©Ê∞î",this.version),providerName:"ÂíåÈ£éÂ§©Ê∞î",readTime:e,reportedTime:new Date(i?.now?.pubTime).getTime()/1e3|0,temporarilyUnavailable:!1,sourceType:"STATION"},categoryIndex:Number.parseInt(i?.now?.level,10),index:Number.parseInt(i?.now?.aqi,10),isSignificant:!1,pollutants:this.#C(i?.now),previousDayComparison:tD.Config.CompareCategoryIndexes.UNKNOWN,primaryPollutant:this.#m.Pollutants[i?.now?.primary]||"NOT_AVAILABLE",scale:"HJ6332012"},i?.refer?.sources?.[0]&&(t.metadata.providerName+=`
Êï∞ÊçÆÊ∫ê: ${i?.refer?.sources?.[0]}`);break}case"204":case"400":case"401":case"402":case"403":case"404":case"429":case"500":case void 0:throw Error(i?.code)}}catch(t){j.error(`AirNow: ${t}`)}finally{j.info("‚úÖ AirNow")}return t}async #N(){if(j.info("‚òëÔ∏è AirQualityCurrent"),this.#h.airQualityCurrent?.metadata?.tag&&!this.#h.airQualityCurrent?.error)return j.info("‚úÖ AirQualityCurrent","Using cache"),this.#h.airQualityCurrent;let t={url:`${this.endpoint}/airquality/v1/current/${this.latitude}/${this.longitude}`,headers:this.headers};try{let e=await Z(t).then(t=>JSON.parse(t?.body??"{}"));if(e?.error===void 0)return this.#h.airQualityCurrent=e,e;throw Error(JSON.stringify(e?.error,null,2))}catch(t){j.error(`AirQualityCurrent: ${t}`)}finally{j.info("‚úÖ AirQualityCurrent")}return{}}async Minutely(){let t;j.info("‚òëÔ∏è Minutely");let e={url:`${this.endpoint}/v7/minutely/5m?location=${this.longitude},${this.latitude}`,headers:this.headers};try{let i=await Z(e).then(t=>JSON.parse(t?.body??"{}"));switch(i?.code){case"200":{let e=Date.now()/1e3|0,a=new Date(i?.updateTime).setSeconds(0,0);a=a.valueOf()/1e3,(t={metadata:{attributionUrl:i?.fxLink,expireTime:e+3600,language:"zh-CN",latitude:this.latitude,longitude:this.longitude,providerLogo:tU("ÂíåÈ£éÂ§©Ê∞î",this.version),providerName:"ÂíåÈ£éÂ§©Ê∞î",readTime:e,reportedTime:e,temporarilyUnavailable:!1,sourceType:"MODELED"},condition:[],forecastEnd:0,forecastStart:a,minutes:i?.minutely?.map((t,e)=>{let i={perceivedPrecipitationIntensity:0,precipitationChance:0,precipitationIntensity:12*Number.parseFloat(t.precip),startTime:new Date(t.fxTime)/1e3},a=[{...i},{...i},{...i},{...i},{...i}];return a=a.map((t,e)=>(t.startTime=t.startTime+60*e,t))}).flat(Infinity),summary:[]}).minutes.length=Math.min(85,t.minutes.length),t.forecastEnd=a+60*t.minutes.length,t.minutes=tB.Minute(t.minutes,i?.summary,"mmph"),t.summary=tB.Summary(t.minutes),t.condition=tB.Condition(t.summary);break}case"204":case"400":case"401":case"402":case"403":case"404":case"429":case"500":case void 0:throw Error(i?.code)}}catch(t){j.error(`Minutely: ${t}`)}finally{j.info("‚úÖ Minutely")}return t}async Hourly(t=168){let e;j.info("‚òëÔ∏è Hourly",`host: ${this.host}`);let i={url:`${this.endpoint}/v7/weather/${t}h?location=${this.longitude},${this.latitude}`,headers:this.headers};try{let t=await Z(i).then(t=>JSON.parse(t?.body??"{}"));switch(t?.code){case"200":{let i=Date.now()/1e3|0;e={metadata:{attributionUrl:t?.fxLink,expireTime:i+3600,language:"zh-CN",latitude:this.latitude,longitude:this.longitude,providerLogo:tU("ÂíåÈ£éÂ§©Ê∞î",this.version),providerName:"ÂíåÈ£éÂ§©Ê∞î",readTime:i,reportedTime:new Date(t?.updateTime),temporarilyUnavailable:!1,sourceType:"STATION"},hours:t?.hourly?.map(t=>({cloudCover:Number.parseInt(t?.cloud,10),conditionCode:tW.ConvertWeatherCode(t?.text),forecastStart:new Date(t?.fxTime).getTime()/1e3|0,humidity:Number.parseInt(t?.humidity,10),precipitationAmount:Number.parseFloat(t?.precip),precipitationChance:Number.parseInt(t?.pop,10),precipitationIntensity:Number.parseInt(t?.precip,10),pressure:Number.parseFloat(t?.pressure),temperature:Number.parseFloat(t?.temp),temperatureDewPoint:Number.parseFloat(t?.dew),windDirection:Number.parseInt(t?.wind360,10),windSpeed:Number.parseFloat(t?.windSpeed)}))};break}case"204":case"400":case"401":case"402":case"403":case"404":case"429":case"500":case void 0:throw Error(t?.code)}}catch(t){j.error(`Hourly: ${t}`)}finally{j.info("‚úÖ Hourly")}return e}async Daily(t=10){let e;j.info("‚òëÔ∏è Daily",`host: ${this.host}`);let i={url:`${this.endpoint}/v7/weather/${t}d?location=${this.longitude},${this.latitude}`,headers:this.headers};try{let t=await Z(i).then(t=>JSON.parse(t?.body??"{}"));switch(t?.code){case"200":{let i=Date.now()/1e3|0,a={attributionUrl:t?.fxLink,expireTime:i+3600,language:"zh-CN",latitude:this.latitude,longitude:this.longitude,providerLogo:tU("ÂíåÈ£éÂ§©Ê∞î",this.version),providerName:"ÂíåÈ£éÂ§©Ê∞î",readTime:i,reportedTime:new Date(t?.updateTime),temporarilyUnavailable:!1,sourceType:"STATION"},s=a.reportedTime.getTimezoneOffset();e={metadata:a,days:t?.daily?.map(t=>{let e=(Date.parse(t?.fxDate)/1e3|0)+60*s;return{forecastStart:e,forecastEnd:e+86400,maxUvIndex:Number.parseInt(t?.uvIndex,10),moonPhase:tW.ConvertMoonPhase(t?.moonPhase),moonrise:this.#x(t?.fxDate,t?.moonrise),moonset:this.#x(t?.fxDate,t?.moonset),precipitationAmount:Number.parseFloat(t?.precip),sunrise:this.#x(t?.fxDate,t?.sunrise),sunset:this.#x(t?.fxDate,t?.sunset),temperatureMax:Number.parseFloat(t?.tempMax),temperatureMin:Number.parseFloat(t?.tempMin),windSpeedAvg:(7*Number.parseFloat(t?.windSpeedDay)+17*Number.parseFloat(t?.windSpeedNight))/24,daytimeForecast:{forecastStart:e+25200,forecastEnd:e+25200+43200,conditionCode:tW.ConvertWeatherCode(t?.textDay),precipitationAmount:Number.parseFloat(t?.precip),windDirection:Number.parseInt(t?.wind360Day,10),windSpeed:Number.parseFloat(t?.windSpeedDay)},overnightForecast:{forecastStart:e+68400,forecastEnd:e+68400+43200,conditionCode:tW.ConvertWeatherCode(t?.textNight),precipitationAmount:Number.parseFloat(t?.precip),windDirection:Number.parseInt(t?.wind360Night,10),windSpeed:Number.parseFloat(t?.windSpeedNight)}}})};break}case"204":case"400":case"401":case"402":case"403":case"404":case"429":case"500":case void 0:throw Error(t?.code)}}catch(t){j.error(`Daily: ${t}`)}finally{j.info("‚úÖ Daily")}return e}async #A(t=new Number,e=q("yyyyMMdd",Date.now()-864e5)){j.info("‚òëÔ∏è HistoricalAir",`locationID: ${t}`,`date: ${e}`);let i={url:`${this.endpoint}/v7/historical/air/?location=${t}&date=${e}`,headers:this.headers};try{let t=await Z(i).then(t=>JSON.parse(t?.body??"{}"));switch(t?.code){case"200":return t;case"204":case"400":case"401":case"402":case"403":case"404":case"429":case"500":case void 0:throw Error(t?.code)}}catch(t){j.error(`HistoricalAir: ${t}`)}finally{j.info("‚úÖ HistoricalAir")}return{}}#y(t="https://www.qweather.com/",e="MODELED",i=!1){let a=Date.now()/1e3;return{longitude:this.longitude,providerName:"ÂíåÈ£éÂ§©Ê∞î",providerLogo:tU("ÂíåÈ£éÂ§©Ê∞î",this.version),reportedTime:a,latitude:this.latitude,expireTime:a+3600,attributionUrl:t,temporarilyUnavailable:i,readTime:a,sourceType:e}}#g(t){j.info("‚òëÔ∏è CreatePollutants"),j.debug(`pollutantsObj: ${JSON.stringify(t)}`);let e=t.filter(t=>"ppmC"!==t.concentration.unit).map(({code:t,concentration:e})=>{let{value:i,unit:a}=e,s=this.#m.Pollutants[t],n=tD.Config.Units.Friendly,{ugm3:r,mgm3:o,ppb:d,ppm:c}=tD.Config.Units.WeatherKit;switch(a){case n.MILLIGRAMS_PER_CUBIC_METER:return{pollutantType:s,amount:tD.ConvertUnit(i,o,r),units:r};case n.PARTS_PER_MILLION:return{pollutantType:s,amount:tD.ConvertUnit(i,c,d),units:d};default:return{pollutantType:s,amount:i,units:this.#m.Units[a]}}});return j.info("‚úÖ CreatePollutants"),e}#C(t){j.info("‚òëÔ∏è CreatePollutantsV7"),j.debug(`pollutantsObj: ${JSON.stringify(t)}`);let e=Object.entries(t).filter(([t])=>void 0!==this.#m.Pollutants[t]).map(([t,e])=>{let i=Number.parseFloat(e),{mgm3:a,ugm3:s}=tD.Config.Units.WeatherKit;return{amount:"co"===t?tD.ConvertUnit(i,a,s):i,pollutantType:this.#m.Pollutants[t],units:s}});return j.info("‚úÖ CreatePollutantsV7"),e}async CurrentAirQuality(t=!0){let e=t=>{j.info("‚òëÔ∏è indexCodeToScale",`code: ${t}`);let{HJ6332012:e,EPA_NowCast:i,EU_EAQI:a}=tD.Config.Scales;switch(t){case"cn-mee":case"cn-mee-1h":return j.info("‚úÖ indexCodeToScale","HJ6332012"),e;case"us-epa":case"us-epa-nc":return j.info("‚úÖ indexCodeToScale","EPA_NowCast"),i;case"eu-eea":return j.info("‚úÖ indexCodeToScale","EU_EAQI"),a;default:return j.error("indexCodeToScale","‰∏çÊîØÊåÅÁöÑcode"),{}}},i=(t,i)=>{if(j.info("‚òëÔ∏è getPrimaryPollutant",`scaleCode: ${t}`),0===i.length)return j.error("getPrimaryPollutant","pollutants is empty!"),"NOT_AVAILABLE";let a=i.map(e=>{let i=this.#m.Pollutants[e.code];for(let a of e.subIndexes)if(a.code===t)return{pollutantType:i,index:a.aqi};return j.warn("getPrimaryPollutant",`No index for ${i} was found for required scale`),{pollutantType:i,index:-1}}),s=e(t),n=tD.GetPrimaryPollutant(a,s.categories);return j.info("‚úÖ getPrimaryPollutant"),n.pollutantType};j.info("‚òëÔ∏è CurrentAirQuality");let a=await this.#N();if(!Array.isArray(a.pollutants))return j.error("AirQuality","Failed to get current air quality data."),{metadata:this.#y(`https://www.qweather.com/air/a/${this.latitude},${this.longitude}?from=AppleWeatherService`,void 0,!0),pollutants:[],previousDayComparison:tD.Config.CompareCategoryIndexes.UNKNOWN};let s={metadata:this.#y(`https://www.qweather.com/air/a/${this.latitude},${this.longitude}?from=AppleWeatherService`),pollutants:this.#g(a.pollutants),previousDayComparison:tD.Config.CompareCategoryIndexes.UNKNOWN},n=(t=>{j.info("‚òëÔ∏è findSupportedIndex");let e=["cn-mee","cn-mee-1h","eu-eea","us-epa","us-epa-nc"];for(let i of t)if(e.includes(i.code))return j.info("‚úÖ indexCodeToScale",`index.code: ${i.code}`),i;return{}})(a.indexes),r=e(n?.code);if(!n?.code||!r?.categories)return j.error("AirQuality","No supported index found",`airQualityCurrent.indexes[].code = ${JSON.stringify(a.indexes?.map(({code:t})=>t))}`),{...s,index:-1,isSignificant:!1,categoryIndex:-1,primaryPollutant:"NOT_AVAILABLE",scale:tD.ToWeatherKitScale(tD.Config.Scales.HJ6332012.weatherKitScale)};let o=Number.parseInt(n.level,10),d=this.#m.Pollutants[n.primaryPollutant?.code]||"NOT_AVAILABLE";j.debug(`apiPrimaryPollutant: ${d}`),t||"NOT_AVAILABLE"!==d||j.info("CurrentAirQuality","Max index of pollutants is <= 50, primaryPollutant will be NOT_AVAILABLE.");let c={metadata:this.#y(`https://www.qweather.com/air/a/${this.latitude},${this.longitude}?from=AppleWeatherService`),categoryIndex:o,index:n.aqi,isSignificant:o>=r.categories.significantIndex,...s,primaryPollutant:t&&"NOT_AVAILABLE"===d?i(n.code,a.pollutants):d,scale:tD.ToWeatherKitScale(r.weatherKitScale)};return j.info("‚úÖ CurrentAirQuality"),c}async YesterdayAirQuality(t){j.info("‚òëÔ∏è YesterdayAirQuality",`locationInfo ${JSON.stringify(t)}`);let e={metadata:this.#y(void 0,void 0,!0),categoryIndex:-1,pollutants:[]};if("TW"===t.iso||9!==t.id.length)return j.error("YesterdayAirQuality","Unsupported location"),e;let i=await this.#A(t.id);if(!i.airHourly)return j.error("YesterdayAirQuality",`Failed to get HistoricalAir(${t.id})`),e;let a=new Date().getHours(),s=Number.parseInt(i.airHourly[a].level,10),n=Number.parseInt(i.airHourly[a].aqi,10),r=this.#C(i.airHourly[a]);return j.debug(`hour: ${a}`,`index: ${n}`),j.info("‚úÖ YesterdayAirQuality",`pollutants: ${JSON.stringify(r)}`,`categoryIndex: ${s}`),{metadata:this.#y(i.fxLink),categoryIndex:s,index:n,pollutants:r,primaryPollutant:this.#m.Pollutants[i.airHourly[a].primary]||"NOT_AVAILABLE",scale:tD.ToWeatherKitScale(tD.Config.Scales.HJ6332012.weatherKitScale)}}#x(t,e){return new Date(`${t}T${e}:00+08:00`).getTime()/1e3|0}}class tK{constructor(t,e){this.Name="WAQI",this.Version="1.4.3",j.log(`üüß ${this.Name} v${this.Version}`),this.headers={Accept:"application/json"},this.token=e,this.version=t.version,this.language=t.language,this.latitude=t.latitude,this.longitude=t.longitude,this.country=t.country}#p={Pollutants:{co:"CO",no:"NO",no2:"NO2",so2:"SO2",o3:"OZONE",nox:"NOX",pm25:"PM2_5",pm10:"PM10",other:"NOT_AVAILABLE"}};async Nearest(t="mapq"){let e;j.info("‚òëÔ∏è Nearest",`mapqVersion: ${t}`);let i={url:`https://api.waqi.info/${t}/nearest?n=1&geo=1/${this.latitude}/${this.longitude}`,headers:this.headers};try{let a=await Z(i).then(t=>JSON.parse(t?.body??"{}"));switch(t){case"mapq":switch(a?.status){default:case void 0:{let t=Date.now()/1e3|0;(e={metadata:{attributionUrl:i.url,expireTime:t+3600,language:`${this.language}-${this.country}`,latitude:a?.d?.[0]?.geo?.[0],longitude:a?.d?.[0]?.geo?.[1],providerLogo:tU("WAQI",this.version),providerName:`World Air Quality Index Project
ÁõëÊµãÁ´ôÔºö${a?.d?.[0]?.nna}`,readTime:t,reportedTime:a?.d?.[0]?.t,temporarilyUnavailable:!1,sourceType:"STATION",stationId:Number.parseInt(a?.d?.[0]?.x,10),stationKey:a?.d?.[0]?.k},categoryIndex:tD.CategoryIndex(a?.d?.[0]?.v,"WAQI_InstantCast"),index:Number.parseInt(a?.d?.[0]?.v,10),primaryPollutant:this.#p.Pollutants[a?.d?.[0]?.pol]||"NOT_AVAILABLE",scale:"EPA_NowCast"}).isSignificant=e.categoryIndex>=3;break}case"error":throw JSON.stringify({status:a?.status,reason:a?.message})}break;case"mapq2":switch(a?.status){case"ok":{let t=Date.now()/1e3|0;(e={metadata:{attributionUrl:i.url,language:`${this.language}-${this.country}`,latitude:a?.data?.stations?.[0]?.geo?.[0],longitude:a?.data?.stations?.[0]?.geo?.[1],expireTime:t+3600,providerLogo:tU("WAQI",this.version),providerName:`World Air Quality Index Project
ÁõëÊµãÁ´ôÔºö${a?.data?.stations?.[0]?.name}`,readTime:t,reportedTime:new Date(a?.data?.stations?.[0]?.utime).getTime()/1e3|0,temporarilyUnavailable:!1,sourceType:"STATION",stationId:Number.parseInt(a?.data?.stations?.[0]?.idx,10)},categoryIndex:tD.CategoryIndex(a?.data?.stations?.[0]?.aqi,"WAQI_InstantCast"),index:Number.parseInt(a?.data?.stations?.[0]?.aqi,10),primaryPollutant:"NOT_AVAILABLE",scale:"EPA_NowCast"}).isSignificant=e.categoryIndex>=3;break}case"error":case void 0:throw JSON.stringify({status:a?.status,reason:a?.reason})}}}catch(t){j.error(`Nearest: ${t}`)}finally{j.info("‚úÖ Nearest")}return e}async Token(t=0){let e;j.info("‚òëÔ∏è Token",`stationId: ${t}`);let i={url:`https://api.waqi.info/api/token/${t}`,headers:this.headers};try{let t=await Z(i).then(t=>JSON.parse(t?.body??"{}"));if(t?.status==="error")throw JSON.stringify({status:t?.status,reason:t?.data});switch(t?.rxs?.status){case"ok":switch(t?.rxs?.obs?.[0]?.status){case"ok":e=t?.rxs?.obs?.[0]?.msg?.token;break;case"error":throw JSON.stringify({status:t?.rxs?.obs?.[0]?.status,reason:t?.rxs?.obs?.[0]?.msg})}break;case"error":case void 0:throw JSON.stringify({status:t?.rxs?.status,reason:t?.rxs})}}catch(t){j.error(`Token: ${t}`)}finally{j.info("‚úÖ Token")}return e}async AQI(t=0,e=this.token){let i;j.info("‚òëÔ∏è AQI",`stationId: ${t}`,`token: ${e}`);let a={url:`https://api.waqi.info/api/feed/@${t}/aqi.json`,headers:this.headers,body:`token=${e}&id=${t}`};try{let e=await Z(a).then(t=>JSON.parse(t?.body??"{}"));if(e?.status==="error")throw JSON.stringify({status:e?.status,reason:e?.data});switch(e?.rxs?.status){case"ok":switch(e?.rxs?.obs?.[0]?.status){case"ok":{let a=Date.now()/1e3|0;(i={metadata:{attributionUrl:e?.rxs?.obs?.[0]?.msg?.city?.url,expireTime:a+3600,language:`${this.language}-${this.country}`,latitude:e?.rxs?.obs?.[0]?.msg?.city?.geo?.[0],longitude:e?.rxs?.obs?.[0]?.msg?.city?.geo?.[1],providerLogo:tU("WAQI",this.version),providerName:`World Air Quality Index Project
ÁõëÊµãÁ´ôÔºö${e?.rxs?.obs?.[0]?.msg?.city?.name}`,readTime:a,reportedTime:e?.rxs?.obs?.[0]?.msg?.time?.v,temporarilyUnavailable:!1,sourceType:"STATION",stationId:t},categoryIndex:tD.CategoryIndex(e?.rxs?.obs?.[0]?.msg?.aqi,"WAQI_InstantCast"),index:Number.parseInt(e?.rxs?.obs?.[0]?.msg?.aqi,10),primaryPollutant:this.#p.Pollutants[e?.rxs?.obs?.[0]?.msg?.dominentpol]||"NOT_AVAILABLE",scale:"EPA_NowCast"}).isSignificant=i.categoryIndex>=3;break}case"error":case void 0:throw JSON.stringify({status:e?.rxs?.[0]?.status,reason:e?.rxs?.obs?.[0]?.msg})}break;case"error":case void 0:throw JSON.stringify({status:e?.rxs?.status,reason:e?.rxs})}}catch(t){j.error(`AQI: ${t}`)}finally{j.info("‚úÖ AQI")}return i}async AQI2(t=0,e=this.token){let i;j.info("‚òëÔ∏è AQI2",`stationId: ${t}`);let a={url:`https://api2.waqi.info/feed/geo:${this.latitude};${this.longitude}/?token=${e}`,headers:this.headers};t&&(a.url=`https://api2.waqi.info/feed/@${t}/?token=${e}`);try{let e=await Z(a).then(t=>JSON.parse(t?.body??"{}"));switch(e?.status){case"ok":{let a=Date.now()/1e3|0;(i={metadata:{attributionUrl:e?.data?.city?.url,expireTime:a+3600,language:`${this.language}-${this.country}`,latitude:e?.data?.city?.geo?.[0],longitude:e?.data?.city?.geo?.[1],providerLogo:tU("WAQI",this.version),providerName:`World Air Quality Index Project
ÁõëÊµãÁ´ôÔºö${e?.data?.city?.name}`,readTime:a,reportedTime:e?.data?.time?.v,temporarilyUnavailable:!1,sourceType:"STATION",stationId:t||Number.parseInt(e?.data?.idx,10)},categoryIndex:tD.CategoryIndex(e?.data?.aqi,"WAQI_InstantCast"),index:Number.parseInt(e?.data?.aqi,10),primaryPollutant:this.#p.Pollutants[e?.data?.dominentpol]||"NOT_AVAILABLE",scale:"EPA_NowCast"}).isSignificant=i.categoryIndex>=3;break}case"error":case void 0:throw JSON.stringify({status:e?.status,reason:e?.data})}}catch(t){j.error(`AQI2: ${t}`)}finally{j.info("‚úÖ AQI2")}return i}}let tV=new URL($request.url);j.info(`url: ${tV.toJSON()}`);let tk=tV.pathname.split("/").filter(Boolean);j.info(`PATHs: ${tk}`);let tQ=($response.headers?.["Content-Type"]??$response.headers?.["content-type"])?.split(";")?.[0];function tG(t){return t?Array.isArray(t)?t:[t]:[]}function tj(t,e){let i=t.metadata.providerName;switch(i){case"ÂíåÈ£éÂ§©Ê∞î":return`${i}ÔºàÂõΩÊ†áÔºå12Âπ¥2ÊúàÁâàÔºâ`;case"ÂΩ©‰∫ëÂ§©Ê∞î":{let e=t.scale===tD.ToWeatherKitScale(tD.Config.Scales.EPA_NowCast.weatherKitScale);return`${i}Ôºà${e?"ÁæéÊ†áÔºå18Âπ¥9ÊúàÁâà":"ÂõΩÊ†áÔºå12Âπ¥2ÊúàÁâà"}Ôºâ`}case"iRingo":switch(e?.AirQuality?.Calculate?.Algorithm){case"EU_EAQI":return`${i} (ETC HE Report 2024/17)`;case"WAQI_InstantCast_US":return`${i} (WAQI InstantCast with EPA-454/B-24-002)`;case"WAQI_InstantCast_CN":return`${i} (InstantCast with HJ 633‚Äî2012)`;case"WAQI_InstantCast_CN_25_DRAFT":return`${i} (InstantCast with HJ 633 2025 DRAFT)`;default:return`${i} (FB001846)`}default:return i}}async function tY(t,e){if(j.info("‚òëÔ∏è InjectPollutants"),t?.AirQuality?.Current?.Pollutants?.Provider==="QWeather"){let t=await e.qWeather.CurrentAirQuality();return j.info("‚úÖ InjectPollutants"),t}{let t=await e.colorfulClouds.CurrentAirQuality();return j.info("‚úÖ InjectPollutants"),t}}function tJ(t){j.info("‚òëÔ∏è getStpConversionFactors");let{US:e}=tD.Config.STP_ConversionFactors;return t?.metadata?.providerName,j.info("‚úÖ getStpConversionFactors",`STP conversion factors for ${t?.metadata?.providerName}: US`),e}function tq(t,e,i,a){j.info("‚òëÔ∏è GetAirQualityFromPollutants");let{pollutants:s}=a,n=tJ(a);switch(t){case"None":return a;case"EU_EAQI":{let t=tD.PollutantsToEAQI(s,n);return j.info("‚úÖ GetAirQualityFromPollutants"),t}case"WAQI_InstantCast_US":{let t=tD.PollutantsToInstantCastUS(s,n,i);return j.info("‚úÖ GetAirQualityFromPollutants"),t}case"WAQI_InstantCast_CN":{let t=tD.PollutantsToInstantCastCN12(s,n,i,e);return j.info("‚úÖ GetAirQualityFromPollutants"),t}case"WAQI_InstantCast_CN_25_DRAFT":{let t=tD.PollutantsToInstantCastCN25(s,n,i,e);return j.info("‚úÖ GetAirQualityFromPollutants"),t}default:{let t=tD.PollutantsToUBA(s,n);return j.info("‚úÖ GetAirQualityFromPollutants"),t}}}async function tZ(t,e,i){switch(j.info("‚òëÔ∏è InjectIndex"),e?.AirQuality?.Current?.Index?.Provider){case"QWeather":{let t=await i.qWeather.CurrentAirQuality(e.AirQuality.Current.Index.ForceCNPrimaryPollutants);return j.info("‚úÖ InjectIndex"),t}case"ColorfulCloudsUS":case"ColorfulCloudsCN":{let t=await i.colorfulClouds.CurrentAirQuality("ColorfulCloudsUS"===e.AirQuality.Current.Index.Provider,e.AirQuality.Current.Index.ForceCNPrimaryPollutants);return j.info("‚úÖ InjectIndex"),t}case"Calculate":default:{let i=tq(e.AirQuality?.Calculate?.Algorithm,e.AirQuality.Current.Index?.ForceCNPrimaryPollutants,e.AirQuality?.Calculate?.AllowOverRange,t);return j.info("‚úÖ InjectIndex"),i}case"WAQI":if(e?.API?.WAQI?.Token)return await i.waqi.AQI2();{let t=await i.waqi.Nearest(),e=await i.waqi.Token(t?.metadata?.stationId),a=await i.waqi.AQI(t?.metadata?.stationId,e);return{metadata:{...t?.metadata,...a?.metadata},...t,...a}}}}async function tX(t,e,i,a,s){j.info("‚òëÔ∏è InjectComparison");let{UNKNOWN:n}=tD.Config.CompareCategoryIndexes,r=(t,e,i)=>{switch(j.info("‚òëÔ∏è isHJ6332012",`currentIndexProvider: ${t}`),t){case"Calculate":{j.debug(`Settings?.AirQuality?.Calculate?.Algorithm: ${i?.AirQuality?.Calculate?.Algorithm}`);let t=i?.AirQuality?.Calculate?.Algorithm==="WAQI_InstantCast_CN";return j.info("‚úÖ isHJ6332012",t),t}case"QWeather":case"ColorfulCloudsCN":return j.info("‚úÖ isHJ6332012",!0),!0;case"WeatherKit":{let t=tD.GetNameFromScale(e)===tD.Config.Scales.HJ6332012.weatherKitScale.name;return j.info("‚úÖ isHJ6332012",t),t}default:return j.info("‚úÖ isHJ6332012",!1),!1}},o=async(t,e)=>{j.info("‚òëÔ∏è colorfulCloudsComparison",`currentCategoryIndex: ${e}`);let i=await s.colorfulClouds.YesterdayAirQuality(t),a=(t=!1)=>({...i.metadata,providerName:`ÊåáÊï∞Ôºö${tj(i)}`,temporarilyUnavailable:t});if(!i.metadata.temporarilyUnavailable)if(e){let t={...i,metadata:a(!1),previousDayComparison:tD.CompareCategoryIndexes(e,i.categoryIndex)};return j.info("‚úÖ colorfulCloudsComparison"),t}else{let e=await s.colorfulClouds.CurrentAirQuality(t);if(!e.metadata.temporarilyUnavailable){j.debug(`colorfulCloudsCurrent?.index: ${e?.index}`);let t={...i,metadata:a(!1),previousDayComparison:tD.CompareCategoryIndexes(e.categoryIndex,i.categoryIndex)};return j.info("‚úÖ colorfulCloudsComparison"),t}}return j.error("colorfulCloudsComparison",`Êó†Ê≥ï‰ªéÂΩ©‰∫ëÂ§©Ê∞îËé∑Âèñ${i.metadata.temporarilyUnavailable?"Êò®Êó•":"‰ªäÊó•"}ÁöÑÁ©∫Ê∞îË¥®ÈáèÊï∞ÊçÆ`),{...i,metadata:a(!0),previousDayComparison:n}},d=async(t,e)=>{j.info("‚òëÔ∏è qweatherComparison",`currentCategoryIndex: ${t}`);let r=await tH.GetLocationsGrid(a?.qweather,t=>{a.qweather=t,X.setItem("@iRingo.WeatherKit.Caches",{...a,qweather:t})}),{latitude:o,longitude:d}=s.qWeather,c=tH.GetLocationInfo(r,o,d),l=await s.qWeather.YesterdayAirQuality(c),u=(t,e=!1)=>({...l.metadata,providerName:`Ê±°ÊüìÁâ©ÔºöÂíåÈ£éÂ§©Ê∞îÔºåÊåáÊï∞Ôºö${t}`,temporarilyUnavailable:e});if(!l.metadata.temporarilyUnavailable){let a=e(l),n=e?{...a,metadata:{...a.metadata,providerName:tj(a,i)}}:{...l,metadata:{...l.metadata,providerName:tj(l)}};if(t){let e={...l,metadata:u(n.metadata.providerName,!1),previousDayComparison:tD.CompareCategoryIndexes(t,n.categoryIndex)};return j.info("‚úÖ qweatherComparison"),e}{let t=await s.qWeather.CurrentAirQuality(c);if(!t.metadata.temporarilyUnavailable){j.debug(`qweatherCurrent?.index: ${t?.index}`);let e={...l,metadata:u(n.metadata.providerName,!1),previousDayComparison:tD.CompareCategoryIndexes(t.categoryIndex,n.categoryIndex)};return j.info("‚úÖ qweatherComparison"),e}}}return j.error("qweatherComparison",`Êó†Ê≥ï‰ªéÂíåÈ£éÂ§©Ê∞îËé∑Âèñ${l.metadata.temporarilyUnavailable?"Êò®Êó•":"‰ªäÊó•"}Á©∫Ê∞îË¥®ÈáèÊï∞ÊçÆ`),{...l,metadata:u(l.metadata.providerName,!0),previousDayComparison:n}};switch(i?.AirQuality?.Comparison?.Yesterday?.IndexProvider){case"Calculate":{let e=((t,e,i)=>{switch(j.info("‚òëÔ∏è chooseAlogrithm",`currentIndexProvider: ${t}`),t){case"Calculate":{let t=i?.AirQuality?.Calculate?.Algorithm;return j.info("‚úÖ chooseAlogrithm",`algorithm: ${t}`),t}case"QWeather":case"ColorfulCloudsCN":return j.info("‚úÖ chooseAlogrithm","algorithm: WAQI_InstantCast_CN"),"WAQI_InstantCast_CN";case"WeatherKit":{let t=tD.GetNameFromScale(e?.scale),i=tD.Config.Scales;if(t===i.HJ6332012.weatherKitScale.name)return j.info("‚úÖ chooseAlogrithm","algorithm: WAQI_InstantCast_CN"),"WAQI_InstantCast_CN";if(t===i.EPA_NowCast.weatherKitScale.name)return j.info("‚úÖ chooseAlogrithm","algorithm: WAQI_InstantCast_US"),"WAQI_InstantCast_US";if([i.EU_EAQI.weatherKitScale.name,i.UBA.weatherKitScale.name].includes(t))return j.info("‚úÖ chooseAlogrithm",`algorithm: ${t}`),t;return j.error("chooseAlogrithm","Ê≤°ÊúâÊâæÂà∞ÂêàÈÄÇÁöÑÂÜÖÁΩÆÁÆóÊ≥ï"),""}default:return j.error("chooseAlogrithm","Êú™Áü•ÁöÑcurrentIndexProvider"),""}})(i?.AirQuality?.Comparison?.Yesterday?.IndexProvider,t,i),a=i?.AirQuality?.Comparison?.Yesterday?.PollutantsProvider;if(j.debug(`Settings?.AirQuality?.Comparison?.Yesterday?.PollutantsProvider: ${a}`),""!==e){let a=await d(t?.categoryIndex,t=>tq(e,i.AirQuality?.Current?.Index?.ForceCNPrimaryPollutants,i.AirQuality?.Calculate?.AllowOverRange,t));return j.info("‚úÖ InjectComparison"),a}return j.error("InjectComparison","‰∏çÊîØÊåÅ‰ªäÊó•Á©∫Ê∞îË¥®ÈáèÁöÑÊ†áÂáÜ"),{metadata:{providerName:"iRingo",temporarilyUnavailable:!0},previousDayComparison:n}}case"QWeather":{let a=await d(r(e,t?.scale,i)?t?.categoryIndex:void 0);return j.info("‚úÖ InjectComparison"),a}case"ColorfulCloudsCN":{let a=o(!1,r(e,t?.scale,i)?t?.categoryIndex:void 0);return j.info("‚úÖ InjectComparison"),a}default:{let i=o(!0,(t=>{switch(j.info("‚òëÔ∏è isHJ6332012",`currentIndexProvider: ${t}`),t){case"WAQI":case"ColorfulCloudsUS":return j.info("‚úÖ isHJ6332012",!0),!0;default:return j.info("‚úÖ isHJ6332012",!1),!1}})(e)?t?.categoryIndex:void 0);return j.info("‚úÖ InjectComparison"),i}}}async function tz(t,e,i){let a;switch(j.info("‚òëÔ∏è InjectCurrentWeather"),e?.Weather?.Provider){case"WeatherKit":default:break;case"QWeather":a=await i.qWeather.WeatherNow();break;case"ColorfulClouds":a=await i.colorfulClouds.CurrentWeather()}return a?.metadata&&(a.metadata={...t?.metadata,...a.metadata},t={...t,...a}),j.info("‚úÖ InjectCurrentWeather"),t}async function t0(t,e,i){let a;switch(j.info("‚òëÔ∏è InjectForecastDaily"),e?.Weather?.Provider){case"WeatherKit":default:break;case"QWeather":a=await i.qWeather.Daily();break;case"ColorfulClouds":{let e=t.days?.length||11,s=t.days?.[0]?.forecastStart||void 0;a=await i.colorfulClouds.Daily(e,s)}}return a?.metadata&&(t.metadata={...t?.metadata,...a.metadata},tW.mergeForecast(t?.days,a?.days)),j.info("‚úÖ InjectForecastDaily"),t}async function t1(t,e,i){let a;switch(j.info("‚òëÔ∏è InjectForecastHourly"),e?.Weather?.Provider){case"WeatherKit":default:break;case"QWeather":a=await i.qWeather.Hourly();break;case"ColorfulClouds":{let e=t.hours?.length||273,s=t.hours?.[0]?.forecastStart||void 0;a=await i.colorfulClouds.ForecastHourly(e,s)}}return a?.metadata&&(t.metadata={...t?.metadata,...a.metadata},t.hours=tW.mergeForecast(t?.hours,a?.hours)),j.info("‚úÖ InjectForecastHourly"),t}async function t2(t,e,i){let a;switch(j.info("‚òëÔ∏è InjectForecastNextHour"),e?.NextHour?.Provider){case"WeatherKit":break;case"QWeather":a=await i.qWeather.Minutely();break;default:a=await i.colorfulClouds.Minutely()}return a?.metadata&&(a.metadata={...t?.metadata,...a.metadata},t={...t,...a}),j.info("‚úÖ InjectForecastNextHour"),t}j.info(`FORMAT: ${tQ}`),(async()=>{let{Settings:t,Caches:e,Configs:i}=function(t,e,i){j.info("‚òëÔ∏è Set Environment Variables");let{Settings:a,Caches:s,Configs:n}=function(t,e,i){i?.Default?.Settings?.LogLevel&&(j.logLevel=i.Default.Settings.LogLevel),j.debug("‚òëÔ∏è getStorage"),e=[e].flat(1/0);let a={Settings:i?.Default?.Settings||{},Configs:i?.Default?.Configs||{},Caches:{}};j.debug("Default",`Root.SettingsÁ±ªÂûã: ${typeof a.Settings}`,`Root.Settings: ${JSON.stringify(a.Settings)}`);let s=X.getItem(t,{});switch(s&&(j.debug("‚òëÔ∏è PersistentStore",`PersistentStoreÁ±ªÂûã: ${typeof s}`,`PersistentStoreÂÜÖÂÆπ: ${JSON.stringify(s||{})}`),e.forEach(t=>{"string"==typeof s?.[t]?.Settings&&(s[t].Settings=JSON.parse(s[t].Settings||"{}")),"string"==typeof s?.[t]?.Caches&&(s[t].Caches=JSON.parse(s[t].Caches||"{}"))}),s.LogLevel&&(j.logLevel=s.LogLevel),j.debug("‚úÖ PersistentStore",`Root.SettingsÁ±ªÂûã: ${typeof a.Settings}`,`Root.Settings: ${JSON.stringify(a.Settings)}`)),e.forEach(t=>{Y.merge(a.Configs,i?.[t]?.Configs),Y.merge(a.Caches,s?.[t]?.Caches)}),$argument.Storage){case"Argument":case"$argument":e.forEach(t=>{Y.merge(a.Settings,i?.[t]?.Settings,s?.[t]?.Settings)}),Y.merge(a.Settings,$argument);break;default:case"BoxJs":case"boxjs":case"PersistentStore":case"$persistentStore":e.forEach(t=>{Y.merge(a.Settings,i?.[t]?.Settings,s?.[t]?.Settings)});break;case"database":e.forEach(t=>{Y.merge(a.Settings,i?.[t]?.Settings)});break;case void 0:e.forEach(t=>{Y.merge(a.Settings,i?.[t]?.Settings)}),Y.merge(a.Settings,$argument),e.forEach(t=>{Y.merge(a.Settings,s?.[t]?.Settings)})}return a.Settings.LogLevel&&(j.logLevel=a.Settings.LogLevel),j.debug("‚úÖ Merge",`Root.SettingsÁ±ªÂûã: ${typeof a.Settings}`,`Root.Settings: ${JSON.stringify(a.Settings)}`),function t(e,i){for(let a in e){let s=e[a];e[a]="object"==typeof s&&null!==s?t(s,i):i(a,s)}return e}(a.Settings,(t,e)=>(j.debug("‚òëÔ∏è traverseObject",`${t}: ${typeof e}`,`${t}: ${JSON.stringify(e)}`),"true"===e||"false"===e?e=JSON.parse(e):"string"==typeof e&&(e=e.includes(",")?e.split(",").map(t=>tt(t)):tt(e)),e)),j.debug("‚úÖ traverseObject",`Root.SettingsÁ±ªÂûã: ${typeof a.Settings}`,`Root.Settings: ${JSON.stringify(a.Settings)}`),j.debug("‚úÖ getStorage"),a}(t,e,i);if(j.info(`typeof Settings: ${typeof a}`,`Settings: ${JSON.stringify(a,null,2)}`),n.Locale&&(n.Locale=new Map(n.Locale)),n.i18n)for(let t in n.i18n)n.i18n[t]=new Map(n.i18n[t]);return j.info("‚úÖ Set Environment Variables"),{Settings:a,Caches:s,Configs:n}}("iRingo","WeatherKit",z);j.logLevel=t.LogLevel;let a={};switch(tQ){case void 0:case"application/x-www-form-urlencoded":case"text/plain":default:case"application/x-mpegURL":case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"audio/mpegurl":case"text/xml":case"text/html":case"text/plist":case"application/xml":case"application/plist":case"application/x-plist":case"text/vtt":case"application/vtt":break;case"text/json":case"application/json":a=JSON.parse($response.body??"{}"),"weatherkit.apple.com"===tV.hostname&&tV.pathname.startsWith("/api/v1/availability/")&&(a=i?.Availability?.v2),$response.body=JSON.stringify(a);break;case"application/vnd.apple.flatbuffer":case"application/protobuf":case"application/x-protobuf":case"application/vnd.google.protobuf":case"application/grpc":case"application/grpc+proto":case"application/octet-stream":{let i="Quantumult X"===G?new Uint8Array($response.bodyBytes??[]):$response.body??new Uint8Array;if("application/vnd.apple.flatbuffer"===tQ){let s=new tn(i),n=new tr;if("weatherkit.apple.com"===tV.hostname&&tV.pathname.startsWith("/api/v2/weather/")){a=tR.decode(s,"all");let i=function(t=new URL($request.url)){j.info("‚òëÔ∏è parseWeatherKitURL");let e=t?.pathname.match(/^\/api\/(?<version>v1|v2|v3)\/(availability|weather)\/(?<language>\w+)(?:-\w+)?(-(?<country>[A-Z]{2}))?\/(?<latitude>-?\d+\.?\d*)\/(?<longitude>-?\d+\.?\d*)$/i)?.groups,i={version:e?.version,language:e?.language,latitude:e?.latitude,longitude:e?.longitude,country:e?.country||t?.searchParams?.get("country")};return j.info("‚úÖ parseWeatherKitURL",`üüßversion: ${i.version} üüßlanguage: ${i.language} üüßcountry: ${i.country}`,`üüßlatitude: ${i.latitude} üüßlongitude: ${i.longitude}`),i}(tV),r={colorfulClouds:new t$(i,t?.API?.ColorfulClouds?.Token||"Y2FpeXVuX25vdGlmeQ=="),qWeather:new tH(i,t?.API?.QWeather?.Token,t?.API?.QWeather?.Host),waqi:new tK(i,t?.API?.WAQI?.Token)},o=tV.searchParams.get("country"),d=t?.Weather?.Provider==="WeatherKit",c=new RegExp(t?.Weather?.Replace||"(?!)");!d&&c.test(o)&&(tV.searchParams.get("dataSets").includes("currentWeather")&&(a.currentWeather=await tz(a.currentWeather,t,r),a?.currentWeather?.metadata?.providerName&&!a?.currentWeather?.metadata?.providerLogo&&(a.currentWeather.metadata.providerLogo=tU(a?.currentWeather?.metadata?.providerName,"v2"))),tV.searchParams.get("dataSets").includes("forecastDaily")&&(a.forecastDaily=await t0(a.forecastDaily,t,r),a?.forecastDaily?.metadata?.providerName&&!a?.forecastDaily?.metadata?.providerLogo&&(a.forecastDaily.metadata.providerLogo=tU(a?.forecastDaily?.metadata?.providerName,"v2"))),tV.searchParams.get("dataSets").includes("forecastHourly")&&(a.forecastHourly=await t1(a.forecastHourly,t,r),a?.forecastHourly?.metadata?.providerName&&!a?.forecastHourly?.metadata?.providerLogo&&(a.forecastHourly.metadata.providerLogo=tU(a?.forecastHourly?.metadata?.providerName,"v2"))));let l=t?.NextHour?.Provider==="WeatherKit",u=new RegExp(t?.NextHour?.Fill||"(?!)");if(!l&&u.test(o)&&tV.searchParams.get("dataSets").includes("forecastNextHour")&&(a?.forecastNextHour||(a.forecastNextHour=await t2(a.forecastNextHour,t,r)),a?.forecastNextHour?.metadata?.providerName&&!a?.forecastNextHour?.metadata?.providerLogo&&(a.forecastNextHour.metadata.providerLogo=tU(a?.forecastNextHour?.metadata?.providerName,"v2"))),tV.searchParams.get("dataSets").includes("airQuality")){let i=!Array.isArray(a?.airQuality?.pollutants)||0===a.airQuality.pollutants.length;i||(a.airQuality=tD.FixQWeatherCO(a.airQuality));let s=new RegExp(t?.AirQuality?.Current?.Fill||"(?!)").test(o)&&i,n=s?await tY(t,r):a.airQuality,d=tG(t?.AirQuality?.Current?.Index?.Replace),c=s||d.includes(tD.GetNameFromScale(a.airQuality?.scale)),l=c?await tZ(n,t,r):n,u=new RegExp(t?.AirQuality?.Comparison?.Fill||"(?!)").test(o),p=a?.airQuality?.previousDayComparison??tD.Config.CompareCategoryIndexes.UNKNOWN,b=c&&t?.AirQuality?.Comparison?.ReplaceWhenCurrentChange?tD.Config.CompareCategoryIndexes.UNKNOWN:p,h=u&&b===tD.Config.CompareCategoryIndexes.UNKNOWN,m=c?t?.AirQuality?.Current?.Index?.Provider:"WeatherKit",_=h?await tX(l,m,t,e,r):{...l,previousDayComparison:p},f=a.airQuality?.metadata,y=n?.metadata,g=l?.metadata,C=_?.metadata,N=[...f?.providerName&&!f.temporarilyUnavailable?[f.providerName]:[],...s&&y?.providerName&&!y.temporarilyUnavailable?[`Ê±°ÊüìÁâ©Ôºö${y.providerName}`]:[],...c&&g?.providerName&&!g.temporarilyUnavailable?[`ÊåáÊï∞Ôºö${tj(l,t)}`]:[],...h&&C?.providerName&&!C.temporarilyUnavailable?[`ÂØπÊØîÊò®Êó•Ôºö${C.providerName}`]:[]],x=f?.providerName||y?.providerName||g?.providerName||C?.providerName;a.airQuality={...a.airQuality,...l?.metadata&&!l.metadata.temporarilyUnavailable?l:{},metadata:{...a.airQuality?.metadata?a.airQuality.metadata:n?.metadata,providerName:N.join("„ÄÅ"),...x?{providerLogo:tU(x,"v2")}:{}},pollutants:function(t,e,i,a,s){let n=s?.AirQuality?.Current?.Pollutants?.Units?.Mode||"Scale";j.info("‚òëÔ∏è ConvertPollutants",`mode: ${n}`);let r=tG(s?.AirQuality?.Current?.Pollutants?.Units?.Replace),o=i&&a?.metadata&&!a.metadata.temporarilyUnavailable,d=tD.GetNameFromScale(o?a?.scale:t?.scale),c=e?.metadata&&!e.metadata.temporarilyUnavailable?e.pollutants:t?.pollutants;if(j.info("‚úÖ ConvertPollutants"),!r.includes(d))return c;if(o&&s?.AirQuality?.Current?.Index?.Provider==="Calculate"&&"Scale"===n)return j.info("ConvertPollutants","Use pollutants from iRingo"),a.pollutants;{let e=(t=>{let e=tD.Config.Scales;switch(t){case e.HJ6332012.weatherKitScale.name:return e.WAQI_InstantCast_CN;case e.EPA_NowCast.weatherKitScale.name:return e.WAQI_InstantCast_US;case e.EU_EAQI.weatherKitScale.name:return e.EU_EAQI;default:return e[t]}})(d);return e?tD.ConvertUnits(c,tJ(t),(t=>{let{ugm3:e,ppb:i}=tD.Config.Units.WeatherKit,{US:a,EU:s}=tD.Config.STP_ConversionFactors,r={OZONE:{units:e,stpConversionFactor:-1},NO2:{units:e,stpConversionFactor:-1},SO2:{units:e,stpConversionFactor:-1},CO:{units:e,stpConversionFactor:-1},C6H6:{units:e,stpConversionFactor:-1},NH3:{units:e,stpConversionFactor:-1},NO:{units:e,stpConversionFactor:-1}},o={OZONE:{units:i,stpConversionFactor:a.OZONE},NO2:{units:i,stpConversionFactor:a.NO2},SO2:{units:i,stpConversionFactor:a.SO2},CO:{units:i,stpConversionFactor:a.CO},C6H6:{units:i,stpConversionFactor:a.C6H6},NH3:{units:i,stpConversionFactor:a.NH3},NO:{units:i,stpConversionFactor:a.NO}},d={OZONE:{units:i,stpConversionFactor:s.OZONE},NO2:{units:i,stpConversionFactor:s.NO2},SO2:{units:i,stpConversionFactor:s.SO2},CO:{units:i,stpConversionFactor:s.CO},C6H6:{units:i,stpConversionFactor:s.C6H6},NH3:{units:i,stpConversionFactor:s.NH3},NO:{units:i,stpConversionFactor:s.NO}};switch(n){case"ugm3":return{...r,...t};case"EU_ppb":return{...d,...t};case"US_ppb":return{...o,...t};case"Force_ugm3":return r;case"Force_EU_ppb":return d;case"Force_US_ppb":return o;default:return t}})(e.pollutants)):(j.error("ConvertPollutants",`Unsupported scale name: ${d}`),c)}}(a.airQuality,n,c,l,t)??[],previousDayComparison:_?.previousDayComparison??tD.Config.CompareCategoryIndexes.UNKNOWN}}let p=tR.encode(n,"all",a);n.finish(p)}i=n.asUint8Array()}$response.body=i}}})().catch(t=>j.error(t)).finally(()=>(function(t={}){switch(G){case"Surge":t.policy&&Y.set(t,"headers.X-Surge-Policy",t.policy),j.log("\uD83D\uDEA9 ÊâßË°åÁªìÊùü!",`üïõ ${new Date().getTime()/1e3-$script.startTime} Áßí`),$done(t);break;case"Loon":t.policy&&(t.node=t.policy),j.log("\uD83D\uDEA9 ÊâßË°åÁªìÊùü!",`üïõ ${(new Date-$script.startTime)/1e3} Áßí`),$done(t);break;case"Stash":t.policy&&Y.set(t,"headers.X-Stash-Selected-Proxy",encodeURI(t.policy)),j.log("\uD83D\uDEA9 ÊâßË°åÁªìÊùü!",`üïõ ${(new Date-$script.startTime)/1e3} Áßí`),$done(t);break;case"Egern":case"Shadowrocket":j.log("\uD83D\uDEA9 ÊâßË°åÁªìÊùü!"),$done(t);break;case"Quantumult X":switch(t.policy&&Y.set(t,"opts.policy",t.policy),typeof(t=Y.pick(t,["status","url","headers","body","bodyBytes"])).status){case"number":t.status=`HTTP/1.1 ${t.status} ${J[t.status]}`;break;case"string":case"undefined":break;default:throw TypeError(`${Function.name}: ÂèÇÊï∞Á±ªÂûãÈîôËØØ, status ÂøÖÈ°ª‰∏∫Êï∞Â≠óÊàñÂ≠óÁ¨¶‰∏≤`)}t.body instanceof ArrayBuffer?(t.bodyBytes=t.body,t.body=void 0):ArrayBuffer.isView(t.body)?(t.bodyBytes=t.body.buffer.slice(t.body.byteOffset,t.body.byteLength+t.body.byteOffset),t.body=void 0):t.body&&(t.bodyBytes=void 0),j.log("\uD83D\uDEA9 ÊâßË°åÁªìÊùü!"),$done(t);break;default:j.log("\uD83D\uDEA9 ÊâßË°åÁªìÊùü!"),process.exit(1)}})($response))})();