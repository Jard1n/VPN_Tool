console.log("\uD83C\uDF7FÔ∏è DualSubs: \uD83C\uDFB5 Spotify"),console.log("response.bundle.js"),console.log("Version: 1.9.12"),console.log("Date: 2025/10/25 12:40:56"),(()=>{"use strict";var e,t,n,r,s,a,i,o,l,c,u,f,d,h,p,g,m,y;let T,b,S,E=(()=>{let e=Object.keys(globalThis);switch(!0){case e.includes("$task"):return"Quantumult X";case e.includes("$loon"):return"Loon";case e.includes("$rocket"):return"Shadowrocket";case"undefined"!=typeof module:return"Node.js";case e.includes("Egern"):return"Egern";case e.includes("$environment"):if($environment["surge-version"])return"Surge";if($environment["stash-version"])return"Stash";return;default:return}})();class I{static #e=new Map([]);static #t=[];static #n=new Map([]);static clear=()=>{};static count=(e="default")=>{switch(I.#e.has(e)){case!0:I.#e.set(e,I.#e.get(e)+1);break;case!1:I.#e.set(e,0)}I.log(`${e}: ${I.#e.get(e)}`)};static countReset=(e="default")=>{switch(I.#e.has(e)){case!0:I.#e.set(e,0),I.log(`${e}: ${I.#e.get(e)}`);break;case!1:I.warn(`Counter "${e}" doesn‚Äôt exist`)}};static debug=(...e)=>{I.#r<4||(e=e.map(e=>`üÖ±Ô∏è ${e}`),I.log(...e))};static error(...e){if(!(I.#r<1)){switch(E){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":case"Quantumult X":default:e=e.map(e=>`‚ùå ${e}`);break;case"Node.js":e=e.map(e=>`‚ùå ${e.stack}`)}I.log(...e)}}static exception=(...e)=>I.error(...e);static group=e=>I.#t.unshift(e);static groupEnd=()=>I.#t.shift();static info(...e){I.#r<3||(e=e.map(e=>`‚ÑπÔ∏è ${e}`),I.log(...e))}static #r=3;static get logLevel(){switch(I.#r){case 0:return"OFF";case 1:return"ERROR";case 2:return"WARN";case 3:default:return"INFO";case 4:return"DEBUG";case 5:return"ALL"}}static set logLevel(e){switch(typeof e){case"string":e=e.toLowerCase();break;case"number":break;default:e="warn"}switch(e){case 0:case"off":I.#r=0;break;case 1:case"error":I.#r=1;break;case 2:case"warn":case"warning":default:I.#r=2;break;case 3:case"info":I.#r=3;break;case 4:case"debug":I.#r=4;break;case 5:case"all":I.#r=5}}static log=(...e)=>{0!==I.#r&&(e=e.map(e=>{switch(typeof e){case"object":e=JSON.stringify(e);break;case"bigint":case"number":case"boolean":case"string":e=e.toString()}return e}),I.#t.forEach(t=>{(e=e.map(e=>`  ${e}`)).unshift(`‚ñº ${t}:`)}),console.log((e=["",...e]).join("\n")))};static time=(e="default")=>I.#n.set(e,Date.now());static timeEnd=(e="default")=>I.#n.delete(e);static timeLog=(e="default")=>{let t=I.#n.get(e);t?I.log(`${e}: ${Date.now()-t}ms`):I.warn(`Timer "${e}" doesn‚Äôt exist`)};static warn(...e){I.#r<2||(e=e.map(e=>`‚ö†Ô∏è ${e}`),I.log(...e))}}class k{static escape(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,e=>t[e])}static get(e={},t="",n){Array.isArray(t)||(t=k.toPath(t));let r=t.reduce((e,t)=>Object(e)[t],e);return void 0===r?n:r}static omit(e={},t=[]){return Array.isArray(t)||(t=[t.toString()]),t.forEach(t=>k.unset(e,t)),e}static pick(e={},t=[]){return Array.isArray(t)||(t=[t.toString()]),Object.fromEntries(Object.entries(e).filter(([e,n])=>t.includes(e)))}static set(e,t,n){return Array.isArray(t)||(t=k.toPath(t)),t.slice(0,-1).reduce((e,n,r)=>Object(e[n])===e[n]?e[n]:e[n]=/^\d+$/.test(t[r+1])?[]:{},e)[t[t.length-1]]=n,e}static toPath(e){return e.replace(/\[(\d+)\]/g,".$1").split(".").filter(Boolean)}static unescape(e){let t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};return e.replace(/&amp;|&lt;|&gt;|&quot;|&#39;/g,e=>t[e])}static unset(e={},t=""){return Array.isArray(t)||(t=k.toPath(t)),t.reduce((e,n,r)=>r===t.length-1?(delete e[n],!0):Object(e)[n],e)}}let w={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",304:"Not Modified",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Content Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};class N{static data=null;static dataFile="box.dat";static #s=/^@(?<key>[^.]+)(?:\.(?<path>.*))?$/;static getItem(e,t=null){let n=t;if(!0===e.startsWith("@")){let{key:t,path:r}=e.match(N.#s)?.groups;e=t;let s=N.getItem(e,{});"object"!=typeof s&&(s={}),n=k.get(s,r);try{n=JSON.parse(n)}catch(e){}}else{switch(E){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":n=$persistentStore.read(e);break;case"Quantumult X":n=$prefs.valueForKey(e);break;case"Node.js":N.data=N.#a(N.dataFile),n=N.data?.[e];break;default:n=N.data?.[e]||null}try{n=JSON.parse(n)}catch(e){}}return n??t}static setItem(e=new String,t=new String){let n=!1;if(t="object"==typeof t?JSON.stringify(t):String(t),!0===e.startsWith("@")){let{key:r,path:s}=e.match(N.#s)?.groups;e=r;let a=N.getItem(e,{});"object"!=typeof a&&(a={}),k.set(a,s,t),n=N.setItem(e,a)}else switch(E){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":n=$persistentStore.write(t,e);break;case"Quantumult X":n=$prefs.setValueForKey(t,e);break;case"Node.js":N.data=N.#a(N.dataFile),N.data[e]=t,N.#i(N.dataFile),n=!0;break;default:n=N.data?.[e]||null}return n}static removeItem(e){let t=!1;if(!0===e.startsWith("@")){let{key:n,path:r}=e.match(N.#s)?.groups;e=n;let s=N.getItem(e);"object"!=typeof s&&(s={}),keyValue=k.unset(s,r),t=N.setItem(e,s)}else switch(E){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":case"Node.js":default:t=!1;break;case"Quantumult X":t=$prefs.removeValueForKey(e)}return t}static clear(){let e=!1;switch(E){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":case"Node.js":default:e=!1;break;case"Quantumult X":e=$prefs.removeAllValues()}return e}static #a=e=>{if("Node.js"!==E)return{};{this.fs=this.fs?this.fs:require("node:fs"),this.path=this.path?this.path:require("node:path");let t=this.path.resolve(e),n=this.path.resolve(process.cwd(),e),r=this.fs.existsSync(t),s=!r&&this.fs.existsSync(n);if(!r&&!s)return{};try{return JSON.parse(this.fs.readFileSync(r?t:n))}catch(e){return{}}}};static #i=(e=this.dataFile)=>{if("Node.js"===E){this.fs=this.fs?this.fs:require("node:fs"),this.path=this.path?this.path:require("node:path");let t=this.path.resolve(e),n=this.path.resolve(process.cwd(),e),r=this.fs.existsSync(t),s=!r&&this.fs.existsSync(n),a=JSON.stringify(this.data);r?this.fs.writeFileSync(t,a):s?this.fs.writeFileSync(n,a):this.fs.writeFileSync(t,a)}}}function O(e){return/^\d+$/.test(e)&&(e=Number.parseInt(e,10)),e}let A={Spotify:{Settings:{CountryCode:"US",Types:["Translate","External"],Languages:["AUTO","ZH"]}},Default:{Settings:{Type:"Translate",Types:["Official","Translate"],Languages:["EN","ZH"],CacheSize:50,LogLevel:"WARN"},Configs:{breakLine:{"text/xml":"&#x000A;","application/xml":"&#x000A;","text/vtt":"\n","application/vtt":"\n","text/json":"\n","application/json":"\n"}}}};function _(e=[]){e.map(e=>{switch(e?.propertyId?.scope){case"ios-feature-reinventfree":e?.propertyId?.name==="is_india_quicksilver_campaign_enabled"&&(e.structuredValue={oneofKind:"boolValue",boolValue:{value:!1}});break;case"ios-liveaudio-livestreampage":e?.propertyId?.name==="context_menu_enabled"&&(e.structuredValue={oneofKind:"boolValue",boolValue:{value:!0}})}return e}).filter(Boolean)}function R(e={}){return e["audiobook-onboarding-completed"]={value:{oneofKind:"boolValue",boolValue:!0}},e["has-audiobooks-subscription"]={value:{oneofKind:"boolValue",boolValue:!0}},e["player-license"]={value:{oneofKind:"stringValue",stringValue:"premium"}},e.mobile={value:{oneofKind:"boolValue",boolValue:!0}},e["financial-product"]={value:{oneofKind:"stringValue",stringValue:"pr:premium,tc:0"}},e["premium-mini"]={value:{oneofKind:"boolValue",boolValue:!0}},e["streaming-rules"]={value:{oneofKind:"stringValue",stringValue:""}},e["license-acceptance-grace-days"]={value:{oneofKind:"longValue",longValue:30}},e.name={value:{oneofKind:"stringValue",stringValue:"Spotify Premium"}},e["mobile-login"]={value:{oneofKind:"boolValue",boolValue:!0}},e["hifi-optin-intent"]={value:{oneofKind:"boolValue",boolValue:!0}},e["pick-and-shuffle"]={value:{oneofKind:"boolValue",boolValue:!1}},e["on-demand"]={value:{oneofKind:"boolValue",boolValue:!0}},e.ads={value:{oneofKind:"boolValue",boolValue:!1}},e.catalogue={value:{oneofKind:"stringValue",stringValue:"premium"}},e["high-bitrate"]={value:{oneofKind:"boolValue",boolValue:!0}},e.libspotify={value:{oneofKind:"boolValue",boolValue:!0}},e["nft-disabled"]={value:{oneofKind:"stringValue",stringValue:"1"}},e.shuffle={value:{oneofKind:"boolValue",boolValue:!1}},e["audio-quality"]={value:{oneofKind:"stringValue",stringValue:"1"}},e.offline={value:{oneofKind:"boolValue",boolValue:!0}},e["hifi-eligible"]={value:{oneofKind:"boolValue",boolValue:!0}},e["pause-after"]={value:{oneofKind:"longValue",longValue:0}},e["addon-hifi"]={value:{oneofKind:"boolValue",boolValue:!0}},e.can_use_superbird={value:{oneofKind:"boolValue",boolValue:!0}},e.type={value:{oneofKind:"stringValue",stringValue:"premium"}},e["india-experience"]={value:{oneofKind:"stringValue",stringValue:"1"}},e["loudness-levels"]={value:{oneofKind:"stringValue",stringValue:"1:-9.0,0.0,3.0:-2.0"}},e["payments-initial-campaign"]={value:{oneofKind:"stringValue",stringValue:"web"}},e["shuffle-eligible"]={value:{oneofKind:"boolValue",boolValue:!0}},e.unrestricted={value:{oneofKind:"boolValue",boolValue:!0}},e["com.spotify.madprops.use.ucs.product.state"]={value:{oneofKind:"boolValue",boolValue:!1}},e}function D(e,t,n){let r,s;for(let a of e.fields){let e=a.localName;if(a.oneof){let i=n[a.oneof];if((null==i?void 0:i.oneofKind)==void 0)continue;if(r=i[e],(s=t[a.oneof]).oneofKind=i.oneofKind,void 0==r){delete s[e];continue}}else if(r=n[e],s=t,void 0==r)continue;switch(a.repeat&&(s[e].length=r.length),a.kind){case"scalar":case"enum":if(a.repeat)for(let t=0;t<r.length;t++)s[e][t]=r[t];else s[e]=r;break;case"message":let i=a.T();if(a.repeat)for(let t=0;t<r.length;t++)s[e][t]=i.create(r[t]);else void 0===s[e]?s[e]=i.create(r):i.mergePartial(s[e],r);break;case"map":switch(a.V.kind){case"scalar":case"enum":Object.assign(s[e],r);break;case"message":let o=a.V.T();for(let t of Object.keys(r))s[e][t]=o.create(r[t])}}}}(c=e||(e={})).symbol=Symbol.for("protobuf-ts/unknown"),c.onRead=(e,t,n,r,s)=>{(b(t)?t[c.symbol]:t[c.symbol]=[]).push({no:n,wireType:r,data:s})},c.onWrite=(e,t,n)=>{for(let{no:e,wireType:r,data:s}of c.list(t))n.tag(e,r).raw(s)},c.list=(e,t)=>{if(b(e)){let n=e[c.symbol];return t?n.filter(e=>e.no==t):n}return[]},c.last=(e,t)=>c.list(e,t).slice(-1)[0],b=e=>e&&Array.isArray(e[c.symbol]),(u=t||(t={}))[u.Varint=0]="Varint",u[u.Bit64=1]="Bit64",u[u.LengthDelimited=2]="LengthDelimited",u[u.StartGroup=3]="StartGroup",u[u.EndGroup=4]="EndGroup",u[u.Bit32=5]="Bit32";let v=Symbol.for("protobuf-ts/message-type");function C(e){let t=!1,n=[];for(let r=0;r<e.length;r++){let s=e.charAt(r);"_"==s?t=!0:/\d/.test(s)?(n.push(s),t=!0):t?(n.push(s.toUpperCase()),t=!1):0==r?n.push(s.toLowerCase()):n.push(s)}return n.join("")}function U(e){var t,n,r,a;return e.localName=null!=(t=e.localName)?t:C(e.name),e.jsonName=null!=(n=e.jsonName)?n:C(e.name),e.repeat=null!=(r=e.repeat)?r:s.NO,e.opt=null!=(a=e.opt)?a:!e.repeat&&!e.oneof&&"message"==e.kind,e}(f=n||(n={}))[f.DOUBLE=1]="DOUBLE",f[f.FLOAT=2]="FLOAT",f[f.INT64=3]="INT64",f[f.UINT64=4]="UINT64",f[f.INT32=5]="INT32",f[f.FIXED64=6]="FIXED64",f[f.FIXED32=7]="FIXED32",f[f.BOOL=8]="BOOL",f[f.STRING=9]="STRING",f[f.BYTES=12]="BYTES",f[f.UINT32=13]="UINT32",f[f.SFIXED32=15]="SFIXED32",f[f.SFIXED64=16]="SFIXED64",f[f.SINT32=17]="SINT32",f[f.SINT64=18]="SINT64",(d=r||(r={}))[d.BIGINT=0]="BIGINT",d[d.STRING=1]="STRING",d[d.NUMBER=2]="NUMBER",(h=s||(s={}))[h.NO=0]="NO",h[h.PACKED=1]="PACKED",h[h.UNPACKED=2]="UNPACKED";class L{constructor(e){var t;this.fields=null!=(t=e.fields)?t:[]}prepare(){if(this.data)return;let e=[],t=[],n=[];for(let r of this.fields)if(r.oneof)n.includes(r.oneof)||(n.push(r.oneof),e.push(r.oneof),t.push(r.oneof));else switch(t.push(r.localName),r.kind){case"scalar":case"enum":(!r.opt||r.repeat)&&e.push(r.localName);break;case"message":r.repeat&&e.push(r.localName);break;case"map":e.push(r.localName)}this.data={req:e,known:t,oneofs:Object.values(n)}}is(e,t,n=!1){if(t<0)return!0;if(null==e||"object"!=typeof e)return!1;this.prepare();let r=Object.keys(e),s=this.data;if(r.length<s.req.length||s.req.some(e=>!r.includes(e))||!n&&r.some(e=>!s.known.includes(e)))return!1;if(t<1)return!0;for(let r of s.oneofs){let s=e[r];if(!function(e){if("object"!=typeof e||null===e||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":if(void 0===e[e.oneofKind])return!1;return 2==Object.keys(e).length;case"undefined":return 1==Object.keys(e).length;default:return!1}}(s))return!1;if(void 0===s.oneofKind)continue;let a=this.fields.find(e=>e.localName===s.oneofKind);if(!a||!this.field(s[s.oneofKind],a,n,t))return!1}for(let r of this.fields)if(void 0===r.oneof&&!this.field(e[r.localName],r,n,t))return!1;return!0}field(e,t,r,s){let a=t.repeat;switch(t.kind){case"scalar":if(void 0===e)return t.opt;if(a)return this.scalars(e,t.T,s,t.L);return this.scalar(e,t.T,t.L);case"enum":if(void 0===e)return t.opt;if(a)return this.scalars(e,n.INT32,s);return this.scalar(e,n.INT32);case"message":if(void 0===e)break;if(a)return this.messages(e,t.T(),r,s);return this.message(e,t.T(),r,s);case"map":if("object"!=typeof e||null===e)return!1;if(s<2)break;if(!this.mapKeys(e,t.K,s))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,s,t.V.L);case"enum":return this.scalars(Object.values(e),n.INT32,s);case"message":return this.messages(Object.values(e),t.V.T(),r,s)}}return!0}message(e,t,n,r){return n?t.isAssignable(e,r):t.is(e,r)}messages(e,t,n,r){if(!Array.isArray(e))return!1;if(r<2)return!0;if(n){for(let n=0;n<e.length&&n<r;n++)if(!t.isAssignable(e[n],r-1))return!1}else for(let n=0;n<e.length&&n<r;n++)if(!t.is(e[n],r-1))return!1;return!0}scalar(e,t,s){let a=typeof e;switch(t){case n.UINT64:case n.FIXED64:case n.INT64:case n.SFIXED64:case n.SINT64:switch(s){case r.BIGINT:return"bigint"==a;case r.NUMBER:return"number"==a&&!isNaN(e);default:return"string"==a}case n.BOOL:return"boolean"==a;case n.STRING:return"string"==a;case n.BYTES:return e instanceof Uint8Array;case n.DOUBLE:case n.FLOAT:return"number"==a&&!isNaN(e);default:return"number"==a&&Number.isInteger(e)}}scalars(e,t,n,r){if(!Array.isArray(e))return!1;if(n<2)return!0;if(Array.isArray(e)){for(let s=0;s<e.length&&s<n;s++)if(!this.scalar(e[s],t,r))return!1}return!0}mapKeys(e,t,s){let a=Object.keys(e);switch(t){case n.INT32:case n.FIXED32:case n.SFIXED32:case n.SINT32:case n.UINT32:return this.scalars(a.slice(0,s).map(e=>parseInt(e)),t,s);case n.BOOL:return this.scalars(a.slice(0,s).map(e=>"true"==e||"false"!=e&&e),t,s);default:return this.scalars(a,t,s,r.STRING)}}}function V(e){let t=typeof e;if("object"==t){if(Array.isArray(e))return"array";if(null===e)return"null"}return t}function B(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}let P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),x=[];for(let e=0;e<P.length;e++)x[P[e].charCodeAt(0)]=e;function F(){let e=0,t=0;for(let n=0;n<28;n+=7){let r=this.buf[this.pos++];if(e|=(127&r)<<n,(128&r)==0)return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,(128&n)==0)return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let r=this.buf[this.pos++];if(t|=(127&r)<<n,(128&r)==0)return this.assertBounds(),[e,t]}throw Error("invalid varint")}function $(e,t,n){for(let r=0;r<28;r+=7){let s=e>>>r,a=s>>>7!=0||0!=t,i=(a?128|s:s)&255;if(n.push(i),!a)return}let r=e>>>28&15|(7&t)<<4,s=t>>3!=0;if(n.push((s?128|r:r)&255),s){for(let e=3;e<31;e+=7){let r=t>>>e,s=r>>>7!=0,a=(s?128|r:r)&255;if(n.push(a),!s)return}n.push(t>>>31&1)}}function K(e){let t="-"==e[0];t&&(e=e.slice(1));let n=0,r=0;function s(t,s){let a=Number(e.slice(t,s));r*=1e6,(n=1e6*n+a)>=0x100000000&&(r+=n/0x100000000|0,n%=0x100000000)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),[t,n,r]}function j(e,t){if(t>>>0<=2097151)return""+(0x100000000*t+(e>>>0));let n=(e>>>24|t<<8)>>>0&0xffffff,r=t>>16&65535,s=(0xffffff&e)+6777216*n+6710656*r,a=n+8147497*r,i=2*r;function o(e,t){let n=e?String(e):"";return t?"0000000".slice(n.length)+n:n}return s>=1e7&&(a+=Math.floor(s/1e7),s%=1e7),a>=1e7&&(i+=Math.floor(a/1e7),a%=1e7),o(i,0)+o(a,i)+o(s,1)}function W(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function M(){let e=this.buf[this.pos++],t=127&e;if((128&e)==0||(t|=(127&(e=this.buf[this.pos++]))<<7,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<14,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<21,(128&e)==0))return this.assertBounds(),t;t|=(15&(e=this.buf[this.pos++]))<<28;for(let t=5;(128&e)!=0&&t<10;t++)e=this.buf[this.pos++];if((128&e)!=0)throw Error("invalid varint");return this.assertBounds(),t>>>0}function G(e){if(!e)throw Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}x[45]=P.indexOf("+"),x[95]=P.indexOf("/"),S=new DataView(new ArrayBuffer(8)),T=void 0!==globalThis.BigInt&&"function"==typeof S.getBigInt64&&"function"==typeof S.getBigUint64&&"function"==typeof S.setBigInt64&&"function"==typeof S.setBigUint64?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:S}:void 0;let H=/^-?[0-9]+$/;class X{constructor(e,t){this.lo=0|e,this.hi=0|t}isZero(){return 0==this.lo&&0==this.hi}toNumber(){let e=0x100000000*this.hi+(this.lo>>>0);if(!Number.isSafeInteger(e))throw Error("cannot convert to safe number");return e}}class Y extends X{static from(e){if(T)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw Error("string is no integer");e=T.C(e);case"number":if(0===e)return this.ZERO;e=T.C(e);case"bigint":if(!e)return this.ZERO;if(e<T.UMIN)throw Error("signed value for ulong");if(e>T.UMAX)throw Error("ulong too large");return T.V.setBigUint64(0,e,!0),new Y(T.V.getInt32(0,!0),T.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!H.test(e))throw Error("string is no integer");let[t,n,r]=K(e);if(t)throw Error("signed value for ulong");return new Y(n,r);case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw Error("number is no integer");if(e<0)throw Error("signed value for ulong");return new Y(e,e/0x100000000)}throw Error("unknown value "+typeof e)}toString(){return T?this.toBigInt().toString():j(this.lo,this.hi)}toBigInt(){return G(T),T.V.setInt32(0,this.lo,!0),T.V.setInt32(4,this.hi,!0),T.V.getBigUint64(0,!0)}}Y.ZERO=new Y(0,0);class J extends X{static from(e){if(T)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw Error("string is no integer");e=T.C(e);case"number":if(0===e)return this.ZERO;e=T.C(e);case"bigint":if(!e)return this.ZERO;if(e<T.MIN)throw Error("signed long too small");if(e>T.MAX)throw Error("signed long too large");return T.V.setBigInt64(0,e,!0),new J(T.V.getInt32(0,!0),T.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!H.test(e))throw Error("string is no integer");let[t,n,r]=K(e);if(t){if(r>0x80000000||0x80000000==r&&0!=n)throw Error("signed long too small")}else if(r>=0x80000000)throw Error("signed long too large");let s=new J(n,r);return t?s.negate():s;case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw Error("number is no integer");return e>0?new J(e,e/0x100000000):new J(-e,-e/0x100000000).negate()}throw Error("unknown value "+typeof e)}isNegative(){return(0x80000000&this.hi)!=0}negate(){let e=~this.hi,t=this.lo;return t?t=~t+1:e+=1,new J(t,e)}toString(){if(T)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+j(e.lo,e.hi)}return j(this.lo,this.hi)}toBigInt(){return G(T),T.V.setInt32(0,this.lo,!0),T.V.setInt32(4,this.hi,!0),T.V.getBigInt64(0,!0)}}function q(e,t){if(!e)throw Error(t)}function Z(e){if("number"!=typeof e)throw Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>0x7fffffff||e<-0x80000000)throw Error("invalid int 32: "+e)}function z(e){if("number"!=typeof e)throw Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>0xffffffff||e<0)throw Error("invalid uint 32: "+e)}function Q(e){if("number"!=typeof e)throw Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw Error("invalid float 32: "+e)}function ee(e,t){switch(t){case r.BIGINT:return e.toBigInt();case r.NUMBER:return e.toNumber();default:return e.toString()}}J.ZERO=new J(0,0);class et{constructor(e){this.info=e}prepare(){var e;if(void 0===this.fMap)for(let t of(this.fMap={},null!=(e=this.info.fields)?e:[]))this.fMap[t.name]=t,this.fMap[t.jsonName]=t,this.fMap[t.localName]=t}assert(e,t,n){if(!e){let e=V(n);throw("number"==e||"boolean"==e)&&(e=n.toString()),Error(`Cannot parse JSON ${e} for ${this.info.typeName}#${t}`)}}read(e,t,s){this.prepare();let a=[];for(let[i,o]of Object.entries(e)){let e,l=this.fMap[i];if(!l){if(!s.ignoreUnknownFields)throw Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${i}`);continue}let c=l.localName;if(l.oneof){if(null===o&&("enum"!==l.kind||"google.protobuf.NullValue"!==l.T()[0]))continue;if(a.includes(l.oneof))throw Error(`Multiple members of the oneof group "${l.oneof}" of ${this.info.typeName} are present in JSON.`);a.push(l.oneof),e=t[l.oneof]={oneofKind:c}}else e=t;if("map"==l.kind){if(null===o)continue;this.assert(B(o),l.name,o);let t=e[c];for(let[e,a]of Object.entries(o)){let i;switch(this.assert(null!==a,l.name+" map value",null),l.V.kind){case"message":i=l.V.T().internalJsonRead(a,s);break;case"enum":if(!1===(i=this.enum(l.V.T(),a,l.name,s.ignoreUnknownFields)))continue;break;case"scalar":i=this.scalar(a,l.V.T,l.V.L,l.name)}this.assert(void 0!==i,l.name+" map value",a);let o=e;l.K==n.BOOL&&(o="true"==o||"false"!=o&&o),t[o=this.scalar(o,l.K,r.STRING,l.name).toString()]=i}}else if(l.repeat){if(null===o)continue;this.assert(Array.isArray(o),l.name,o);let t=e[c];for(let e of o){let n;switch(this.assert(null!==e,l.name,null),l.kind){case"message":n=l.T().internalJsonRead(e,s);break;case"enum":if(!1===(n=this.enum(l.T(),e,l.name,s.ignoreUnknownFields)))continue;break;case"scalar":n=this.scalar(e,l.T,l.L,l.name)}this.assert(void 0!==n,l.name,o),t.push(n)}}else switch(l.kind){case"message":if(null===o&&"google.protobuf.Value"!=l.T().typeName){this.assert(void 0===l.oneof,l.name+" (oneof member)",null);continue}e[c]=l.T().internalJsonRead(o,s,e[c]);break;case"enum":if(null===o)continue;let u=this.enum(l.T(),o,l.name,s.ignoreUnknownFields);if(!1===u)continue;e[c]=u;break;case"scalar":if(null===o)continue;e[c]=this.scalar(o,l.T,l.L,l.name)}}}enum(e,t,n,r){if("google.protobuf.NullValue"==e[0]&&q(null===t||"NULL_VALUE"===t,`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} only accepts null.`),null===t)return 0;switch(typeof t){case"number":return q(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${n}, enum can only be integral number, got ${t}.`),t;case"string":let s=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(s=t.substring(e[2].length));let a=e[1][s];if(void 0===a&&r)return!1;return q("number"==typeof a,`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} has no value for "${t}".`),a}q(!1,`Unable to parse field ${this.info.typeName}#${n}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,r,s){let a;try{switch(t){case n.DOUBLE:case n.FLOAT:if(null===e)return 0;if("NaN"===e)return NaN;if("Infinity"===e)return 1/0;if("-Infinity"===e)return-1/0;if(""===e){a="empty string";break}if("string"==typeof e&&e.trim().length!==e.length){a="extra whitespace";break}if("string"!=typeof e&&"number"!=typeof e)break;let s=Number(e);if(Number.isNaN(s)){a="not a number";break}if(!Number.isFinite(s)){a="too large or small";break}return t==n.FLOAT&&Q(s),s;case n.INT32:case n.FIXED32:case n.SFIXED32:case n.SINT32:case n.UINT32:let i;if(null===e)return 0;if("number"==typeof e?i=e:""===e?a="empty string":"string"==typeof e&&(e.trim().length!==e.length?a="extra whitespace":i=Number(e)),void 0===i)break;return t==n.UINT32?z(i):Z(i),i;case n.INT64:case n.SFIXED64:case n.SINT64:if(null===e)return ee(J.ZERO,r);if("number"!=typeof e&&"string"!=typeof e)break;return ee(J.from(e),r);case n.FIXED64:case n.UINT64:if(null===e)return ee(Y.ZERO,r);if("number"!=typeof e&&"string"!=typeof e)break;return ee(Y.from(e),r);case n.BOOL:if(null===e)return!1;if("boolean"!=typeof e)break;return e;case n.STRING:if(null===e)return"";if("string"!=typeof e){a="extra whitespace";break}try{encodeURIComponent(e)}catch(e){break}return e;case n.BYTES:if(null===e||""===e)return new Uint8Array(0);if("string"!=typeof e)break;return function(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let n=new Uint8Array(t),r=0,s=0,a,i=0;for(let t=0;t<e.length;t++){if(void 0===(a=x[e.charCodeAt(t)]))switch(e[t]){case"=":s=0;case"\n":case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(s){case 0:i=a,s=1;break;case 1:n[r++]=i<<2|(48&a)>>4,i=a,s=2;break;case 2:n[r++]=(15&i)<<4|(60&a)>>2,i=a,s=3;break;case 3:n[r++]=(3&i)<<6|a,s=0}}if(1==s)throw Error("invalid base64 string.");return n.subarray(0,r)}(e)}}catch(e){a=e.message}this.assert(!1,s+(a?" - "+a:""),e)}}class en{constructor(e){var t;this.fields=null!=(t=e.fields)?t:[]}write(e,t){let n={};for(let r of this.fields){if(!r.oneof){let s=this.field(r,e[r.localName],t);void 0!==s&&(n[t.useProtoFieldName?r.name:r.jsonName]=s);continue}let s=e[r.oneof];if(s.oneofKind!==r.localName)continue;let a="scalar"==r.kind||"enum"==r.kind?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t,i=this.field(r,s[r.localName],a);q(void 0!==i),n[t.useProtoFieldName?r.name:r.jsonName]=i}return n}field(e,t,n){let r;if("map"==e.kind){q("object"==typeof t&&null!==t);let s={};switch(e.V.kind){case"scalar":for(let[n,r]of Object.entries(t)){let t=this.scalar(e.V.T,r,e.name,!1,!0);q(void 0!==t),s[n.toString()]=t}break;case"message":let a=e.V.T();for(let[r,i]of Object.entries(t)){let t=this.message(a,i,e.name,n);q(void 0!==t),s[r.toString()]=t}break;case"enum":let i=e.V.T();for(let[r,a]of Object.entries(t)){q(void 0===a||"number"==typeof a);let t=this.enum(i,a,e.name,!1,!0,n.enumAsInteger);q(void 0!==t),s[r.toString()]=t}}(n.emitDefaultValues||Object.keys(s).length>0)&&(r=s)}else if(e.repeat){q(Array.isArray(t));let s=[];switch(e.kind){case"scalar":for(let n=0;n<t.length;n++){let r=this.scalar(e.T,t[n],e.name,e.opt,!0);q(void 0!==r),s.push(r)}break;case"enum":let a=e.T();for(let r=0;r<t.length;r++){q(void 0===t[r]||"number"==typeof t[r]);let i=this.enum(a,t[r],e.name,e.opt,!0,n.enumAsInteger);q(void 0!==i),s.push(i)}break;case"message":let i=e.T();for(let r=0;r<t.length;r++){let a=this.message(i,t[r],e.name,n);q(void 0!==a),s.push(a)}}(n.emitDefaultValues||s.length>0||n.emitDefaultValues)&&(r=s)}else switch(e.kind){case"scalar":r=this.scalar(e.T,t,e.name,e.opt,n.emitDefaultValues);break;case"enum":r=this.enum(e.T(),t,e.name,e.opt,n.emitDefaultValues,n.enumAsInteger);break;case"message":r=this.message(e.T(),t,e.name,n)}return r}enum(e,t,n,r,s,a){return"google.protobuf.NullValue"==e[0]?s||r?null:void 0:void 0===t?void q(r):0!==t||s||r?(q("number"==typeof t),q(Number.isInteger(t)),a||!e[1].hasOwnProperty(t))?t:e[2]?e[2]+e[1][t]:e[1][t]:void 0}message(e,t,n,r){return void 0===t?r.emitDefaultValues?null:void 0:e.internalJsonWrite(t,r)}scalar(e,t,r,s,a){if(void 0===t)return void q(s);let i=a||s;switch(e){case n.INT32:case n.SFIXED32:case n.SINT32:if(0===t)return i?0:void 0;return Z(t),t;case n.FIXED32:case n.UINT32:if(0===t)return i?0:void 0;return z(t),t;case n.FLOAT:Q(t);case n.DOUBLE:if(0===t)return i?0:void 0;if(q("number"==typeof t),Number.isNaN(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";return t;case n.STRING:if(""===t)return i?"":void 0;return q("string"==typeof t),t;case n.BOOL:if(!1===t)return!i&&void 0;return q("boolean"==typeof t),t;case n.UINT64:case n.FIXED64:q("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let o=Y.from(t);if(o.isZero()&&!i)return;return o.toString();case n.INT64:case n.SFIXED64:case n.SINT64:q("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let l=J.from(t);if(l.isZero()&&!i)return;return l.toString();case n.BYTES:if(q(t instanceof Uint8Array),!t.byteLength)return i?"":void 0;return function(e){let t="",n=0,r,s=0;for(let a=0;a<e.length;a++)switch(r=e[a],n){case 0:t+=P[r>>2],s=(3&r)<<4,n=1;break;case 1:t+=P[s|r>>4],s=(15&r)<<2,n=2;break;case 2:t+=P[s|r>>6],t+=P[63&r],n=0}return n&&(t+=P[s],t+="=",1==n&&(t+="=")),t}(t)}}}function er(e,t=r.STRING){switch(e){case n.BOOL:return!1;case n.UINT64:case n.FIXED64:return ee(Y.ZERO,t);case n.INT64:case n.SFIXED64:case n.SINT64:return ee(J.ZERO,t);case n.DOUBLE:case n.FLOAT:return 0;case n.BYTES:return new Uint8Array(0);case n.STRING:return"";default:return 0}}class es{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){let t=null!=(e=this.info.fields)?e:[];this.fieldNoToField=new Map(t.map(e=>[e.no,e]))}}read(r,s,a,i){this.prepare();let o=void 0===i?r.len:r.pos+i;for(;r.pos<o;){let[i,o]=r.tag(),l=this.fieldNoToField.get(i);if(!l){let t=a.readUnknownField;if("throw"==t)throw Error(`Unknown field ${i} (wire type ${o}) for ${this.info.typeName}`);let n=r.skip(o);!1!==t&&(!0===t?e.onRead:t)(this.info.typeName,s,i,o,n);continue}let c=s,u=l.repeat,f=l.localName;switch(l.oneof&&(c=c[l.oneof]).oneofKind!==f&&(c=s[l.oneof]={oneofKind:f}),l.kind){case"scalar":case"enum":let d="enum"==l.kind?n.INT32:l.T,h="scalar"==l.kind?l.L:void 0;if(u){let e=c[f];if(o==t.LengthDelimited&&d!=n.STRING&&d!=n.BYTES){let t=r.uint32()+r.pos;for(;r.pos<t;)e.push(this.scalar(r,d,h))}else e.push(this.scalar(r,d,h))}else c[f]=this.scalar(r,d,h);break;case"message":if(u){let e=c[f],t=l.T().internalBinaryRead(r,r.uint32(),a);e.push(t)}else c[f]=l.T().internalBinaryRead(r,r.uint32(),a,c[f]);break;case"map":let[p,g]=this.mapEntry(l,r,a);c[f][p]=g}}}mapEntry(e,t,s){let a,i,o=t.uint32(),l=t.pos+o;for(;t.pos<l;){let[o,l]=t.tag();switch(o){case 1:a=e.K==n.BOOL?t.bool().toString():this.scalar(t,e.K,r.STRING);break;case 2:switch(e.V.kind){case"scalar":i=this.scalar(t,e.V.T,e.V.L);break;case"enum":i=t.int32();break;case"message":i=e.V.T().internalBinaryRead(t,t.uint32(),s)}break;default:throw Error(`Unknown field ${o} (wire type ${l}) in map entry for ${this.info.typeName}#${e.name}`)}}if(void 0===a){let t=er(e.K);a=e.K==n.BOOL?t.toString():t}if(void 0===i)switch(e.V.kind){case"scalar":i=er(e.V.T,e.V.L);break;case"enum":i=0;break;case"message":i=e.V.T().create()}return[a,i]}scalar(e,t,r){switch(t){case n.INT32:return e.int32();case n.STRING:return e.string();case n.BOOL:return e.bool();case n.DOUBLE:return e.double();case n.FLOAT:return e.float();case n.INT64:return ee(e.int64(),r);case n.UINT64:return ee(e.uint64(),r);case n.FIXED64:return ee(e.fixed64(),r);case n.FIXED32:return e.fixed32();case n.BYTES:return e.bytes();case n.UINT32:return e.uint32();case n.SFIXED32:return e.sfixed32();case n.SFIXED64:return ee(e.sfixed64(),r);case n.SINT32:return e.sint32();case n.SINT64:return ee(e.sint64(),r)}}}class ea{constructor(e){this.info=e}prepare(){if(!this.fields){let e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort((e,t)=>e.no-t.no)}}write(t,r,a){for(let e of(this.prepare(),this.fields)){let i,o,l=e.repeat,c=e.localName;if(e.oneof){let n=t[e.oneof];if(n.oneofKind!==c)continue;i=n[c],o=!0}else i=t[c],o=!1;switch(e.kind){case"scalar":case"enum":let u="enum"==e.kind?n.INT32:e.T;if(l)if(q(Array.isArray(i)),l==s.PACKED)this.packed(r,u,e.no,i);else for(let t of i)this.scalar(r,u,e.no,t,!0);else void 0===i?q(e.opt):this.scalar(r,u,e.no,i,o||e.opt);break;case"message":if(l)for(let t of(q(Array.isArray(i)),i))this.message(r,a,e.T(),e.no,t);else this.message(r,a,e.T(),e.no,i);break;case"map":for(let[t,n]of(q("object"==typeof i&&null!==i),Object.entries(i)))this.mapEntry(r,a,e,t,n)}}let i=a.writeUnknownFields;!1!==i&&(!0===i?e.onWrite:i)(this.info.typeName,t,r)}mapEntry(e,r,s,a,i){e.tag(s.no,t.LengthDelimited),e.fork();let o=a;switch(s.K){case n.INT32:case n.FIXED32:case n.UINT32:case n.SFIXED32:case n.SINT32:o=Number.parseInt(a);break;case n.BOOL:q("true"==a||"false"==a),o="true"==a}switch(this.scalar(e,s.K,1,o,!0),s.V.kind){case"scalar":this.scalar(e,s.V.T,2,i,!0);break;case"enum":this.scalar(e,n.INT32,2,i,!0);break;case"message":this.message(e,r,s.V.T(),2,i)}e.join()}message(e,n,r,s,a){void 0!==a&&(r.internalBinaryWrite(a,e.tag(s,t.LengthDelimited).fork(),n),e.join())}scalar(e,t,n,r,s){let[a,i,o]=this.scalarInfo(t,r);(!o||s)&&(e.tag(n,a),e[i](r))}packed(e,r,s,a){if(!a.length)return;q(r!==n.BYTES&&r!==n.STRING),e.tag(s,t.LengthDelimited),e.fork();let[,i]=this.scalarInfo(r);for(let t=0;t<a.length;t++)e[i](a[t]);e.join()}scalarInfo(e,r){let s,a=t.Varint,i=void 0===r,o=0===r;switch(e){case n.INT32:s="int32";break;case n.STRING:o=i||!r.length,a=t.LengthDelimited,s="string";break;case n.BOOL:o=!1===r,s="bool";break;case n.UINT32:s="uint32";break;case n.DOUBLE:a=t.Bit64,s="double";break;case n.FLOAT:a=t.Bit32,s="float";break;case n.INT64:o=i||J.from(r).isZero(),s="int64";break;case n.UINT64:o=i||Y.from(r).isZero(),s="uint64";break;case n.FIXED64:o=i||Y.from(r).isZero(),a=t.Bit64,s="fixed64";break;case n.BYTES:o=i||!r.byteLength,a=t.LengthDelimited,s="bytes";break;case n.FIXED32:a=t.Bit32,s="fixed32";break;case n.SFIXED32:a=t.Bit32,s="sfixed32";break;case n.SFIXED64:o=i||J.from(r).isZero(),a=t.Bit64,s="sfixed64";break;case n.SINT32:s="sint32";break;case n.SINT64:o=i||J.from(r).isZero(),s="sint64"}return[a,s,i||o]}}let ei={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},eo={ignoreUnknownFields:!1};function el(e){return e?Object.assign(Object.assign({},ei),e):ei}let ec=Object.values;function eu(e,t,r){if(t===r)return!0;if(e!==n.BYTES||t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!=r[e])return!1;return!0}function ef(e,t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!eu(e,t[r],n[r]))return!1;return!0}function ed(e,t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e.equals(t[r],n[r]))return!1;return!0}let eh={writeUnknownFields:!0,writerFactory:()=>new ep};class ep{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(z(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return Z(e),W(e,this.buf),this}bool(e){return this.buf.push(+!!e),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){Q(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){z(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){Z(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return Z(e),W(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=J.from(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=Y.from(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}int64(e){let t=J.from(e);return $(t.lo,t.hi,this.buf),this}sint64(e){let t=J.from(e),n=t.hi>>31;return $(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}uint64(e){let t=Y.from(e);return $(t.lo,t.hi,this.buf),this}}let eg={readUnknownField:!0,readerFactory:e=>new em(e)};class em{constructor(e,t){this.varint64=F,this.uint32=M,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e){let n=this.pos;switch(e){case t.Varint:for(;128&this.buf[this.pos++];);break;case t.Bit64:this.pos+=4;case t.Bit32:this.pos+=4;break;case t.LengthDelimited:let r=this.uint32();this.pos+=r;break;case t.StartGroup:let s;for(;(s=this.tag()[1])!==t.EndGroup;)this.skip(s);break;default:throw Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return new J(...this.varint64())}uint64(){return new Y(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return new J(e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new Y(this.sfixed32(),this.sfixed32())}sfixed64(){return new J(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}let ey=Object.getOwnPropertyDescriptors(Object.getPrototypeOf({})),eT=ey[v]={};class eb{constructor(e,t,n){this.defaultCheckDepth=16,this.typeName=e,this.fields=t.map(U),this.options=null!=n?n:{},eT.value=this,this.messagePrototype=Object.create(null,ey),this.refTypeCheck=new L(this),this.refJsonReader=new et(this),this.refJsonWriter=new en(this),this.refBinReader=new es(this),this.refBinWriter=new ea(this)}create(e){let t=function(e){let t=e.messagePrototype?Object.create(e.messagePrototype):Object.defineProperty({},v,{value:e});for(let n of e.fields){let e=n.localName;if(!n.opt)if(n.oneof)t[n.oneof]={oneofKind:void 0};else if(n.repeat)t[e]=[];else switch(n.kind){case"scalar":t[e]=er(n.T,n.L);break;case"enum":t[e]=0;break;case"map":t[e]={}}}return t}(this);return void 0!==e&&D(this,t,e),t}clone(e){let t=this.create();return D(this,t,e),t}equals(e,t){return function(e,t,r){if(t===r)return!0;if(!t||!r)return!1;for(let s of e.fields){let e=s.localName,a=s.oneof?t[s.oneof][e]:t[e],i=s.oneof?r[s.oneof][e]:r[e];switch(s.kind){case"enum":case"scalar":let o="enum"==s.kind?n.INT32:s.T;if(!(s.repeat?ef(o,a,i):eu(o,a,i)))return!1;break;case"map":if(!("message"==s.V.kind?ed(s.V.T(),ec(a),ec(i)):ef("enum"==s.V.kind?n.INT32:s.V.T,ec(a),ec(i))))return!1;break;case"message":let l=s.T();if(!(s.repeat?ed(l,a,i):l.equals(a,i)))return!1}}return!0}(this,e,t)}is(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!1)}isAssignable(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!0)}mergePartial(e,t){D(this,e,t)}fromBinary(e,t){let n=t?Object.assign(Object.assign({},eg),t):eg;return this.internalBinaryRead(n.readerFactory(e),e.byteLength,n)}fromJson(e,t){return this.internalJsonRead(e,t?Object.assign(Object.assign({},eo),t):eo)}fromJsonString(e,t){let n=JSON.parse(e);return this.fromJson(n,t)}toJson(e,t){return this.internalJsonWrite(e,el(t))}toJsonString(e,t){var n;return JSON.stringify(this.toJson(e,t),null,null!=(n=null==t?void 0:t.prettySpaces)?n:0)}toBinary(e,t){let n=t?Object.assign(Object.assign({},eh),t):eh;return this.internalBinaryWrite(e,n.writerFactory(),n).finish()}internalJsonRead(e,t,n){if(null!==e&&"object"==typeof e&&!Array.isArray(e)){let r=null!=n?n:this.create();return this.refJsonReader.read(e,r,t),r}throw Error(`Unable to parse message ${this.typeName} from JSON ${V(e)}.`)}internalJsonWrite(e,t){return this.refJsonWriter.write(e,t)}internalBinaryWrite(e,t,n){return this.refBinWriter.write(e,t,n),t}internalBinaryRead(e,t,n,r){let s=null!=r?r:this.create();return this.refBinReader.read(e,s,n,t),s}}let eS=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.AccountAttribute",[{no:2,name:"bool_value",kind:"scalar",oneof:"value",T:8},{no:3,name:"long_value",kind:"scalar",oneof:"value",T:3,L:2},{no:4,name:"string_value",kind:"scalar",oneof:"value",T:9}])}};new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.PropertyDefinition",[{no:1,name:"id",kind:"message",T:()=>eE},{no:4,name:"metadata",kind:"message",T:()=>eI},{no:5,name:"bool_spec",kind:"message",oneof:"specification",T:()=>ek},{no:6,name:"int_spec",kind:"message",oneof:"specification",T:()=>ew},{no:7,name:"enum_spec",kind:"message",oneof:"specification",T:()=>eN}])}};let eE=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.PropertyDefinition.Identifier",[{no:1,name:"scope",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9}])}},eI=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.PropertyDefinition.Metadata",[{no:1,name:"component_id",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}])}},ek=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.PropertyDefinition.BoolSpec",[{no:1,name:"default",kind:"scalar",T:8}])}},ew=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.PropertyDefinition.IntSpec",[{no:1,name:"default",kind:"scalar",T:5},{no:2,name:"lower",kind:"scalar",T:5},{no:3,name:"upper",kind:"scalar",T:5}])}},eN=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.PropertyDefinition.EnumSpec",[{no:1,name:"default",kind:"scalar",T:9},{no:2,name:"values",kind:"scalar",repeat:2,T:9}])}};(p=a||(a={}))[p.BLOCKING=0]="BLOCKING",p[p.BACKGROUND_SYNC=1]="BACKGROUND_SYNC",p[p.ASYNC=2]="ASYNC",p[p.PUSH_INITIATED=3]="PUSH_INITIATED",p[p.RECONNECT=4]="RECONNECT",(g=i||(i={}))[g.INVALID=0]="INVALID",g[g.USER_ID=1]="USER_ID",g[g.INSTALLATION_ID=2]="INSTALLATION_ID",g[g.VERSION=3]="VERSION";let eO=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.ResolveRequest",[{no:1,name:"property_set_id",kind:"scalar",T:9},{no:2,name:"fetch_type",kind:"message",T:()=>eL},{no:11,name:"context",kind:"message",T:()=>eV},{no:12,name:"backend_context",kind:"message",oneof:"resolutionContext",T:()=>eP}])}},eA=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.ResolveResponse",[{no:1,name:"configuration",kind:"message",T:()=>e_}])}},e_=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.Configuration",[{no:1,name:"configuration_assignment_id",kind:"scalar",T:9},{no:2,name:"fetch_time_millis",kind:"scalar",T:3,L:2},{no:3,name:"assigned_values",kind:"message",repeat:1,T:()=>eR}])}},eR=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.Configuration.AssignedValue",[{no:1,name:"property_id",kind:"message",T:()=>eE},{no:2,name:"metadata",kind:"message",T:()=>eD},{no:3,name:"bool_value",kind:"message",oneof:"structuredValue",T:()=>ev},{no:4,name:"int_value",kind:"message",oneof:"structuredValue",T:()=>eC},{no:5,name:"enum_value",kind:"message",oneof:"structuredValue",T:()=>eU}])}},eD=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.Configuration.AssignedValue.Metadata",[{no:1,name:"policy_id",kind:"scalar",T:3,L:2},{no:2,name:"external_realm",kind:"scalar",T:9},{no:3,name:"external_realm_id",kind:"scalar",T:3,L:2}])}},ev=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.Configuration.AssignedValue.BoolValue",[{no:1,name:"value",kind:"scalar",T:8}])}},eC=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.Configuration.AssignedValue.IntValue",[{no:1,name:"value",kind:"scalar",T:5}])}},eU=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.Configuration.AssignedValue.EnumValue",[{no:1,name:"value",kind:"scalar",T:9}])}},eL=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.Fetch",[{no:1,name:"type",kind:"enum",T:()=>["spotify.remote_config.ucs.proto.Fetch.Type",a]}])}},eV=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.Context",[{no:1,name:"context",kind:"message",repeat:1,T:()=>eB}])}},eB=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.Context.ContextEntry",[{no:10,name:"value",kind:"scalar",T:9},{no:1,name:"known_context",kind:"enum",oneof:"context",T:()=>["spotify.remote_config.ucs.proto.DynamicContext.KnownContext",i,"KNOWN_CONTEXT_"]}])}},eP=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.BackendContext",[{no:1,name:"system",kind:"scalar",T:9},{no:2,name:"service_name",kind:"scalar",T:9},{no:3,name:"static_context",kind:"message",T:()=>ex},{no:4,name:"dynamic_context",kind:"message",T:()=>e$},{no:10,name:"surface_metadata",kind:"message",T:()=>eF}])}},ex=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.BackendContext.StaticContext",[{no:1,name:"system",kind:"scalar",T:9},{no:2,name:"service_name",kind:"scalar",T:9}])}},eF=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.BackendContext.SurfaceMetadata",[{no:1,name:"backend_sdk_version",kind:"scalar",T:9}])}},e$=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.DynamicContext",[{no:1,name:"context_definition",kind:"message",repeat:1,T:()=>eK}])}},eK=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.DynamicContext.ContextDefinition",[{no:1,name:"known_context",kind:"enum",oneof:"context",T:()=>["spotify.remote_config.ucs.proto.DynamicContext.KnownContext",i,"KNOWN_CONTEXT_"]}])}};new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.UcsRequest",[{no:1,name:"caller_info",kind:"message",T:()=>ej},{no:2,name:"resolve_request",kind:"message",T:()=>eO},{no:3,name:"account_attributes_request",kind:"message",T:()=>eW}])}};let ej=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.UcsRequest.CallerInfo",[{no:1,name:"request_origin_id",kind:"scalar",T:9},{no:2,name:"request_orgin_version",kind:"scalar",T:9},{no:3,name:"reason",kind:"scalar",T:9}])}},eW=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.UcsRequest.AccountAttributesRequest",[])}},eM=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.UcsResponseWrapper",[{no:1,name:"success",kind:"message",oneof:"result",T:()=>eG},{no:2,name:"error",kind:"message",oneof:"result",T:()=>eX}])}},eG=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.UcsResponseWrapper.UcsResponse",[{no:5,name:"fetch_time_millis",kind:"scalar",T:3,L:2},{no:1,name:"resolve_success",kind:"message",oneof:"resolveResult",T:()=>eA},{no:2,name:"resolve_error",kind:"message",oneof:"resolveResult",T:()=>eX},{no:3,name:"account_attributes_success",kind:"message",oneof:"accountAttributesResult",T:()=>eH},{no:4,name:"account_attributes_error",kind:"message",oneof:"accountAttributesResult",T:()=>eX}])}},eH=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.UcsResponseWrapper.AccountAttributesResponse",[{no:1,name:"account_attributes",kind:"map",K:9,V:{kind:"message",T:()=>eS}}])}},eX=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.UcsResponseWrapper.Error",[{no:1,name:"error_code",kind:"scalar",T:5},{no:2,name:"error_message",kind:"scalar",T:9},{no:3,name:"log_id",kind:"scalar",opt:!0,T:9}])}},eY=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.BootstrapResponse",[{no:2,name:"ucsResponseV0",kind:"message",T:()=>eJ}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&D(this,t,e),t}internalBinaryRead(t,n,r,s){let a=s??this.create(),i=t.pos+n;for(;t.pos<i;){let[n,s]=t.tag();if(2===n)a.ucsResponseV0=eJ.internalBinaryRead(t,t.uint32(),r,a.ucsResponseV0);else{let i=r.readUnknownField;if("throw"===i)throw new globalThis.Error(`Unknown field ${n} (wire type ${s}) for ${this.typeName}`);let o=t.skip(s);!1!==i&&(!0===i?e.onRead:i)(this.typeName,a,n,s,o)}}return a}internalBinaryWrite(n,r,s){n.ucsResponseV0&&eJ.internalBinaryWrite(n.ucsResponseV0,r.tag(2,t.LengthDelimited).fork(),s).join();let a=s.writeUnknownFields;return!1!==a&&(!0==a?e.onWrite:a)(this.typeName,n,r),r}},eJ=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.UcsResponseWrapperV0",[{no:1,name:"success",kind:"message",oneof:"result",T:()=>eq},{no:2,name:"error",kind:"message",oneof:"result",T:()=>eZ}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.result={oneofKind:void 0},void 0!==e&&D(this,t,e),t}internalBinaryRead(t,n,r,s){let a=s??this.create(),i=t.pos+n;for(;t.pos<i;){let[n,s]=t.tag();switch(n){case 1:a.result={oneofKind:"success",success:eq.internalBinaryRead(t,t.uint32(),r,a.result.success)};break;case 2:a.result={oneofKind:"error",error:eZ.internalBinaryRead(t,t.uint32(),r,a.result.error)};break;default:let i=r.readUnknownField;if("throw"===i)throw new globalThis.Error(`Unknown field ${n} (wire type ${s}) for ${this.typeName}`);let o=t.skip(s);!1!==i&&(!0===i?e.onRead:i)(this.typeName,a,n,s,o)}}return a}internalBinaryWrite(n,r,s){"success"===n.result.oneofKind&&eq.internalBinaryWrite(n.result.success,r.tag(1,t.LengthDelimited).fork(),s).join(),"error"===n.result.oneofKind&&eZ.internalBinaryWrite(n.result.error,r.tag(2,t.LengthDelimited).fork(),s).join();let a=s.writeUnknownFields;return!1!==a&&(!0==a?e.onWrite:a)(this.typeName,n,r),r}},eq=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.UcsResponseWrapperSuccess",[{no:1,name:"customization",kind:"message",T:()=>eM}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&D(this,t,e),t}internalBinaryRead(t,n,r,s){let a=s??this.create(),i=t.pos+n;for(;t.pos<i;){let[n,s]=t.tag();if(1===n)a.customization=eM.internalBinaryRead(t,t.uint32(),r,a.customization);else{let i=r.readUnknownField;if("throw"===i)throw new globalThis.Error(`Unknown field ${n} (wire type ${s}) for ${this.typeName}`);let o=t.skip(s);!1!==i&&(!0===i?e.onRead:i)(this.typeName,a,n,s,o)}}return a}internalBinaryWrite(n,r,s){n.customization&&eM.internalBinaryWrite(n.customization,r.tag(1,t.LengthDelimited).fork(),s).join();let a=s.writeUnknownFields;return!1!==a&&(!0==a?e.onWrite:a)(this.typeName,n,r),r}},eZ=new class extends eb{constructor(){super("spotify.remote_config.ucs.proto.Error",[{no:1,name:"errorCode",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"logId",kind:"scalar",opt:!0,T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.errorCode=0,t.message="",void 0!==e&&D(this,t,e),t}internalBinaryRead(t,n,r,s){let a=s??this.create(),i=t.pos+n;for(;t.pos<i;){let[n,s]=t.tag();switch(n){case 1:a.errorCode=t.int32();break;case 2:a.message=t.string();break;case 3:a.logId=t.string();break;default:let i=r.readUnknownField;if("throw"===i)throw new globalThis.Error(`Unknown field ${n} (wire type ${s}) for ${this.typeName}`);let o=t.skip(s);!1!==i&&(!0===i?e.onRead:i)(this.typeName,a,n,s,o)}}return a}internalBinaryWrite(n,r,s){0!==n.errorCode&&r.tag(1,t.Varint).int32(n.errorCode),""!==n.message&&r.tag(2,t.LengthDelimited).string(n.message),void 0!==n.logId&&r.tag(3,t.LengthDelimited).string(n.logId);let a=s.writeUnknownFields;return!1!==a&&(!0==a?e.onWrite:a)(this.typeName,n,r),r}},ez=new class extends eb{constructor(){super("google.protobuf.Any",[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}])}pack(e,t){return{typeUrl:this.typeNameToUrl(t.typeName),value:t.toBinary(e)}}unpack(e,t,n){if(!this.contains(e,t))throw Error("Cannot unpack google.protobuf.Any with typeUrl '"+e.typeUrl+"' as "+t.typeName+".");return t.fromBinary(e.value,n)}contains(e,t){return!!e.typeUrl.length&&("string"==typeof t?t:t.typeName)===this.typeUrlToName(e.typeUrl)}internalJsonWrite(e,t){if(""===e.typeUrl)return{};let n=this.typeUrlToName(e.typeUrl),r=el(t),s=r.typeRegistry?.find(e=>e.typeName===n);if(!s)throw new globalThis.Error("Unable to convert google.protobuf.Any with typeUrl '"+e.typeUrl+"' to JSON. The specified type "+n+" is not available in the type registry.");let a=s.fromBinary(e.value,{readUnknownField:!1}),i=s.internalJsonWrite(a,r);return(n.startsWith("google.protobuf.")||!B(i))&&(i={value:i}),i["@type"]=e.typeUrl,i}internalJsonRead(e,t,n){let r;if(!B(e))throw new globalThis.Error("Unable to parse google.protobuf.Any from JSON "+V(e)+".");if("string"!=typeof e["@type"]||""==e["@type"])return this.create();let s=this.typeUrlToName(e["@type"]),a=t?.typeRegistry?.find(e=>e.typeName==s);if(!a)throw new globalThis.Error("Unable to parse google.protobuf.Any from JSON. The specified type "+s+" is not available in the type registry.");if(s.startsWith("google.protobuf.")&&e.hasOwnProperty("value"))r=a.fromJson(e.value,t);else{let n=Object.assign({},e);delete n["@type"],r=a.fromJson(n,t)}return void 0===n&&(n=this.create()),n.typeUrl=e["@type"],n.value=a.toBinary(r),n}typeNameToUrl(e){if(!e.length)throw Error("invalid type name: "+e);return"type.googleapis.com/"+e}typeUrlToName(e){if(!e.length)throw Error("invalid type url: "+e);let t=e.lastIndexOf("/"),n=t>0?e.substring(t+1):e;if(!n.length)throw Error("invalid type url: "+e);return n}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.typeUrl="",t.value=new Uint8Array(0),void 0!==e&&D(this,t,e),t}internalBinaryRead(t,n,r,s){let a=s??this.create(),i=t.pos+n;for(;t.pos<i;){let[n,s]=t.tag();switch(n){case 1:a.typeUrl=t.string();break;case 2:a.value=t.bytes();break;default:let i=r.readUnknownField;if("throw"===i)throw new globalThis.Error(`Unknown field ${n} (wire type ${s}) for ${this.typeName}`);let o=t.skip(s);!1!==i&&(!0===i?e.onRead:i)(this.typeName,a,n,s,o)}}return a}internalBinaryWrite(n,r,s){""!==n.typeUrl&&r.tag(1,t.LengthDelimited).string(n.typeUrl),n.value.length&&r.tag(2,t.LengthDelimited).bytes(n.value);let a=s.writeUnknownFields;return!1!==a&&(!0==a?e.onWrite:a)(this.typeName,n,r),r}};(m=o||(o={}))[m.UNKNOWN=0]="UNKNOWN",m[m.GENERIC=1]="GENERIC",m[m.ASSOC=2]="ASSOC",(y=l||(l={}))[y.UNKNOWN_EXTENSION=0]="UNKNOWN_EXTENSION",y[y.CANVAZ=1]="CANVAZ",y[y.STORYLINES=2]="STORYLINES",y[y.PODCAST_TOPICS=3]="PODCAST_TOPICS",y[y.PODCAST_SEGMENTS=4]="PODCAST_SEGMENTS",y[y.AUDIO_FILES=5]="AUDIO_FILES",y[y.TRACK_DESCRIPTOR=6]="TRACK_DESCRIPTOR",y[y.PODCAST_COUNTER=7]="PODCAST_COUNTER",y[y.ARTIST_V4=8]="ARTIST_V4",y[y.ALBUM_V4=9]="ALBUM_V4",y[y.TRACK_V4=10]="TRACK_V4",y[y.SHOW_V4=11]="SHOW_V4",y[y.EPISODE_V4=12]="EPISODE_V4",y[y.PODCAST_HTML_DESCRIPTION=13]="PODCAST_HTML_DESCRIPTION",y[y.PODCAST_QUOTES=14]="PODCAST_QUOTES",y[y.USER_PROFILE=15]="USER_PROFILE",y[y.CANVAS_V1=16]="CANVAS_V1",y[y.SHOW_V4_BASE=17]="SHOW_V4_BASE",y[y.SHOW_V4_EPISODES_ASSOC=18]="SHOW_V4_EPISODES_ASSOC",y[y.TRACK_DESCRIPTOR_SIGNATURES=19]="TRACK_DESCRIPTOR_SIGNATURES",y[y.PODCAST_AD_SEGMENTS=20]="PODCAST_AD_SEGMENTS",y[y.EPISODE_TRANSCRIPTS=21]="EPISODE_TRANSCRIPTS",y[y.PODCAST_SUBSCRIPTIONS=22]="PODCAST_SUBSCRIPTIONS",y[y.EXTRACTED_COLOR=23]="EXTRACTED_COLOR",y[y.PODCAST_VIRALITY=24]="PODCAST_VIRALITY",y[y.IMAGE_SPARKLES_HACK=25]="IMAGE_SPARKLES_HACK",y[y.PODCAST_POPULARITY_HACK=26]="PODCAST_POPULARITY_HACK",y[y.AUTOMIX_MODE=27]="AUTOMIX_MODE",y[y.CUEPOINTS=28]="CUEPOINTS",y[y.PODCAST_POLL=29]="PODCAST_POLL",y[y.EPISODE_ACCESS=30]="EPISODE_ACCESS",y[y.SHOW_ACCESS=31]="SHOW_ACCESS",y[y.PODCAST_QNA=32]="PODCAST_QNA",y[y.CLIPS=33]="CLIPS",y[y.SHOW_V5=34]="SHOW_V5",y[y.EPISODE_V5=35]="EPISODE_V5",y[y.PODCAST_CTA_CARDS=36]="PODCAST_CTA_CARDS",y[y.PODCAST_RATING=37]="PODCAST_RATING",y[y.DISPLAY_SEGMENTS=38]="DISPLAY_SEGMENTS",y[y.GREENROOM=39]="GREENROOM",y[y.USER_CREATED=40]="USER_CREATED",y[y.SHOW_DESCRIPTION=41]="SHOW_DESCRIPTION",y[y.SHOW_HTML_DESCRIPTION=42]="SHOW_HTML_DESCRIPTION",y[y.SHOW_PLAYABILITY=43]="SHOW_PLAYABILITY",y[y.EPISODE_DESCRIPTION=44]="EPISODE_DESCRIPTION",y[y.EPISODE_HTML_DESCRIPTION=45]="EPISODE_HTML_DESCRIPTION",y[y.EPISODE_PLAYABILITY=46]="EPISODE_PLAYABILITY",y[y.SHOW_EPISODES_ASSOC=47]="SHOW_EPISODES_ASSOC",y[y.CLIENT_CONFIG=48]="CLIENT_CONFIG",y[y.PLAYLISTABILITY=49]="PLAYLISTABILITY",y[y.AUDIOBOOK_V5=50]="AUDIOBOOK_V5",y[y.CHAPTER_V5=51]="CHAPTER_V5",y[y.AUDIOBOOK_SPECIFICS=52]="AUDIOBOOK_SPECIFICS",y[y.EPISODE_RANKING=53]="EPISODE_RANKING",y[y.HTML_DESCRIPTION=54]="HTML_DESCRIPTION",y[y.CREATOR_CHANNEL=55]="CREATOR_CHANNEL",y[y.AUDIOBOOK_PROVIDERS=56]="AUDIOBOOK_PROVIDERS",y[y.PLAY_TRAIT=57]="PLAY_TRAIT",y[y.CONTENT_WARNING=58]="CONTENT_WARNING",y[y.IMAGE_CUE=59]="IMAGE_CUE",y[y.STREAM_COUNT=60]="STREAM_COUNT",y[y.AUDIO_ATTRIBUTES=61]="AUDIO_ATTRIBUTES",y[y.NAVIGABLE_TRAIT=62]="NAVIGABLE_TRAIT",y[y.NEXT_BEST_EPISODE=63]="NEXT_BEST_EPISODE",y[y.AUDIOBOOK_PRICE=64]="AUDIOBOOK_PRICE",y[y.EXPRESSIVE_PLAYLISTS=65]="EXPRESSIVE_PLAYLISTS",y[y.DYNAMIC_SHOW_EPISODE=66]="DYNAMIC_SHOW_EPISODE",y[y.LIVE=67]="LIVE",y[y.SKIP_PLAYED=68]="SKIP_PLAYED",y[y.AD_BREAK_FREE_PODCASTS=69]="AD_BREAK_FREE_PODCASTS",y[y.ASSOCIATIONS=70]="ASSOCIATIONS",y[y.PLAYLIST_EVALUATION=71]="PLAYLIST_EVALUATION",y[y.CACHE_INVALIDATIONS=72]="CACHE_INVALIDATIONS",y[y.LIVESTREAM_ENTITY=73]="LIVESTREAM_ENTITY",y[y.SINGLE_TAP_REACTIONS=74]="SINGLE_TAP_REACTIONS",y[y.USER_COMMENTS=75]="USER_COMMENTS",y[y.CLIENT_RESTRICTIONS=76]="CLIENT_RESTRICTIONS",y[y.PODCAST_GUEST=77]="PODCAST_GUEST",y[y.PLAYABILITY=78]="PLAYABILITY",y[y.COVER_IMAGE=79]="COVER_IMAGE",y[y.SHARE_TRAIT=80]="SHARE_TRAIT",y[y.INSTANCE_SHARING=81]="INSTANCE_SHARING",y[y.ARTIST_TOUR=82]="ARTIST_TOUR",y[y.AUDIOBOOK_GENRE=83]="AUDIOBOOK_GENRE",y[y.CONCEPT=84]="CONCEPT",y[y.ORIGINAL_VIDEO=85]="ORIGINAL_VIDEO",y[y.SMART_SHUFFLE=86]="SMART_SHUFFLE",y[y.LIVE_EVENTS=87]="LIVE_EVENTS",y[y.AUDIOBOOK_RELATIONS=88]="AUDIOBOOK_RELATIONS",y[y.HOME_POC_BASECARD=89]="HOME_POC_BASECARD",y[y.AUDIOBOOK_SUPPLEMENTS=90]="AUDIOBOOK_SUPPLEMENTS",y[y.PAID_PODCAST_BANNER=91]="PAID_PODCAST_BANNER",y[y.FEWER_ADS=92]="FEWER_ADS",y[y.WATCH_FEED_SHOW_EXPLORER=93]="WATCH_FEED_SHOW_EXPLORER",y[y.TRACK_EXTRA_DESCRIPTORS=94]="TRACK_EXTRA_DESCRIPTORS",y[y.TRACK_EXTRA_AUDIO_ATTRIBUTES=95]="TRACK_EXTRA_AUDIO_ATTRIBUTES",y[y.TRACK_EXTENDED_CREDITS=96]="TRACK_EXTENDED_CREDITS",y[y.SIMPLE_TRAIT=97]="SIMPLE_TRAIT",y[y.AUDIO_ASSOCIATIONS=98]="AUDIO_ASSOCIATIONS",y[y.VIDEO_ASSOCIATIONS=99]="VIDEO_ASSOCIATIONS",y[y.PLAYLIST_TUNER=100]="PLAYLIST_TUNER",y[y.ARTIST_VIDEOS_ENTRYPOINT=101]="ARTIST_VIDEOS_ENTRYPOINT",y[y.PRERELEASE=102]="PRERELEASE",y[y.CONTENT_ALTERNATIVES=103]="CONTENT_ALTERNATIVES",y[y.SNAPSHOT_SHARING=105]="SNAPSHOT_SHARING",new class extends eb{constructor(){super("com.spotify.extendedmetadata.proto.BatchedEntityRequest",[{no:1,name:"header",kind:"message",T:()=>eQ},{no:2,name:"request",kind:"message",repeat:1,T:()=>e0}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.request=[],void 0!==e&&D(this,t,e),t}internalBinaryRead(t,n,r,s){let a=s??this.create(),i=t.pos+n;for(;t.pos<i;){let[n,s]=t.tag();switch(n){case 1:a.header=eQ.internalBinaryRead(t,t.uint32(),r,a.header);break;case 2:a.request.push(e0.internalBinaryRead(t,t.uint32(),r));break;default:let i=r.readUnknownField;if("throw"===i)throw new globalThis.Error(`Unknown field ${n} (wire type ${s}) for ${this.typeName}`);let o=t.skip(s);!1!==i&&(!0===i?e.onRead:i)(this.typeName,a,n,s,o)}}return a}internalBinaryWrite(n,r,s){n.header&&eQ.internalBinaryWrite(n.header,r.tag(1,t.LengthDelimited).fork(),s).join();for(let e=0;e<n.request.length;e++)e0.internalBinaryWrite(n.request[e],r.tag(2,t.LengthDelimited).fork(),s).join();let a=s.writeUnknownFields;return!1!==a&&(!0==a?e.onWrite:a)(this.typeName,n,r),r}};let eQ=new class extends eb{constructor(){super("com.spotify.extendedmetadata.proto.BatchedEntityRequestHeader",[{no:1,name:"country",kind:"scalar",T:9},{no:2,name:"catalogue",kind:"scalar",T:9},{no:3,name:"task_id",kind:"scalar",T:12}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.country="",t.catalogue="",t.taskId=new Uint8Array(0),void 0!==e&&D(this,t,e),t}internalBinaryRead(t,n,r,s){let a=s??this.create(),i=t.pos+n;for(;t.pos<i;){let[n,s]=t.tag();switch(n){case 1:a.country=t.string();break;case 2:a.catalogue=t.string();break;case 3:a.taskId=t.bytes();break;default:let i=r.readUnknownField;if("throw"===i)throw new globalThis.Error(`Unknown field ${n} (wire type ${s}) for ${this.typeName}`);let o=t.skip(s);!1!==i&&(!0===i?e.onRead:i)(this.typeName,a,n,s,o)}}return a}internalBinaryWrite(n,r,s){""!==n.country&&r.tag(1,t.LengthDelimited).string(n.country),""!==n.catalogue&&r.tag(2,t.LengthDelimited).string(n.catalogue),n.taskId.length&&r.tag(3,t.LengthDelimited).bytes(n.taskId);let a=s.writeUnknownFields;return!1!==a&&(!0==a?e.onWrite:a)(this.typeName,n,r),r}},e0=new class extends eb{constructor(){super("com.spotify.extendedmetadata.proto.EntityRequest",[{no:1,name:"uri",kind:"scalar",T:9},{no:2,name:"query",kind:"message",repeat:1,T:()=>e1}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.uri="",t.query=[],void 0!==e&&D(this,t,e),t}internalBinaryRead(t,n,r,s){let a=s??this.create(),i=t.pos+n;for(;t.pos<i;){let[n,s]=t.tag();switch(n){case 1:a.uri=t.string();break;case 2:a.query.push(e1.internalBinaryRead(t,t.uint32(),r));break;default:let i=r.readUnknownField;if("throw"===i)throw new globalThis.Error(`Unknown field ${n} (wire type ${s}) for ${this.typeName}`);let o=t.skip(s);!1!==i&&(!0===i?e.onRead:i)(this.typeName,a,n,s,o)}}return a}internalBinaryWrite(n,r,s){""!==n.uri&&r.tag(1,t.LengthDelimited).string(n.uri);for(let e=0;e<n.query.length;e++)e1.internalBinaryWrite(n.query[e],r.tag(2,t.LengthDelimited).fork(),s).join();let a=s.writeUnknownFields;return!1!==a&&(!0==a?e.onWrite:a)(this.typeName,n,r),r}},e1=new class extends eb{constructor(){super("com.spotify.extendedmetadata.proto.ExtensionQuery",[{no:1,name:"kind",kind:"enum",T:()=>["com.spotify.extendedmetadata.proto.ExtensionKind",l]},{no:2,name:"etag",kind:"scalar",opt:!0,T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.kind=0,void 0!==e&&D(this,t,e),t}internalBinaryRead(t,n,r,s){let a=s??this.create(),i=t.pos+n;for(;t.pos<i;){let[n,s]=t.tag();switch(n){case 1:a.kind=t.int32();break;case 2:a.etag=t.string();break;default:let i=r.readUnknownField;if("throw"===i)throw new globalThis.Error(`Unknown field ${n} (wire type ${s}) for ${this.typeName}`);let o=t.skip(s);!1!==i&&(!0===i?e.onRead:i)(this.typeName,a,n,s,o)}}return a}internalBinaryWrite(n,r,s){0!==n.kind&&r.tag(1,t.Varint).int32(n.kind),void 0!==n.etag&&r.tag(2,t.LengthDelimited).string(n.etag);let a=s.writeUnknownFields;return!1!==a&&(!0==a?e.onWrite:a)(this.typeName,n,r),r}},e2=new class extends eb{constructor(){super("com.spotify.extendedmetadata.proto.BatchedExtensionResponse",[{no:1,name:"header",kind:"message",T:()=>e3},{no:2,name:"extended_metadata",kind:"message",repeat:1,T:()=>e4}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.extendedMetadata=[],void 0!==e&&D(this,t,e),t}internalBinaryRead(t,n,r,s){let a=s??this.create(),i=t.pos+n;for(;t.pos<i;){let[n,s]=t.tag();switch(n){case 1:a.header=e3.internalBinaryRead(t,t.uint32(),r,a.header);break;case 2:a.extendedMetadata.push(e4.internalBinaryRead(t,t.uint32(),r));break;default:let i=r.readUnknownField;if("throw"===i)throw new globalThis.Error(`Unknown field ${n} (wire type ${s}) for ${this.typeName}`);let o=t.skip(s);!1!==i&&(!0===i?e.onRead:i)(this.typeName,a,n,s,o)}}return a}internalBinaryWrite(n,r,s){n.header&&e3.internalBinaryWrite(n.header,r.tag(1,t.LengthDelimited).fork(),s).join();for(let e=0;e<n.extendedMetadata.length;e++)e4.internalBinaryWrite(n.extendedMetadata[e],r.tag(2,t.LengthDelimited).fork(),s).join();let a=s.writeUnknownFields;return!1!==a&&(!0==a?e.onWrite:a)(this.typeName,n,r),r}},e3=new class extends eb{constructor(){super("com.spotify.extendedmetadata.proto.BatchedExtensionResponseHeader",[])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&D(this,t,e),t}internalBinaryRead(e,t,n,r){return r??this.create()}internalBinaryWrite(t,n,r){let s=r.writeUnknownFields;return!1!==s&&(!0==s?e.onWrite:s)(this.typeName,t,n),n}},e4=new class extends eb{constructor(){super("com.spotify.extendedmetadata.proto.EntityExtensionDataArray",[{no:1,name:"header",kind:"message",T:()=>e6},{no:2,name:"kind",kind:"enum",T:()=>["com.spotify.extendedmetadata.proto.ExtensionKind",l]},{no:3,name:"extension_data",kind:"message",repeat:1,T:()=>e8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.kind=0,t.extensionData=[],void 0!==e&&D(this,t,e),t}internalBinaryRead(t,n,r,s){let a=s??this.create(),i=t.pos+n;for(;t.pos<i;){let[n,s]=t.tag();switch(n){case 1:a.header=e6.internalBinaryRead(t,t.uint32(),r,a.header);break;case 2:a.kind=t.int32();break;case 3:a.extensionData.push(e8.internalBinaryRead(t,t.uint32(),r));break;default:let i=r.readUnknownField;if("throw"===i)throw new globalThis.Error(`Unknown field ${n} (wire type ${s}) for ${this.typeName}`);let o=t.skip(s);!1!==i&&(!0===i?e.onRead:i)(this.typeName,a,n,s,o)}}return a}internalBinaryWrite(n,r,s){n.header&&e6.internalBinaryWrite(n.header,r.tag(1,t.LengthDelimited).fork(),s).join(),0!==n.kind&&r.tag(2,t.Varint).int32(n.kind);for(let e=0;e<n.extensionData.length;e++)e8.internalBinaryWrite(n.extensionData[e],r.tag(3,t.LengthDelimited).fork(),s).join();let a=s.writeUnknownFields;return!1!==a&&(!0==a?e.onWrite:a)(this.typeName,n,r),r}},e6=new class extends eb{constructor(){super("com.spotify.extendedmetadata.proto.EntityExtensionDataArrayHeader",[{no:1,name:"provider_error_status",kind:"scalar",T:5},{no:2,name:"cache_ttl_in_seconds",kind:"scalar",T:3,L:2},{no:3,name:"offline_ttl_in_seconds",kind:"scalar",T:3,L:2},{no:4,name:"extension_type",kind:"enum",T:()=>["com.spotify.extendedmetadata.proto.ExtensionType",o]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.providerErrorStatus=0,t.cacheTtlInSeconds=0,t.offlineTtlInSeconds=0,t.extensionType=0,void 0!==e&&D(this,t,e),t}internalBinaryRead(t,n,r,s){let a=s??this.create(),i=t.pos+n;for(;t.pos<i;){let[n,s]=t.tag();switch(n){case 1:a.providerErrorStatus=t.int32();break;case 2:a.cacheTtlInSeconds=t.int64().toNumber();break;case 3:a.offlineTtlInSeconds=t.int64().toNumber();break;case 4:a.extensionType=t.int32();break;default:let i=r.readUnknownField;if("throw"===i)throw new globalThis.Error(`Unknown field ${n} (wire type ${s}) for ${this.typeName}`);let o=t.skip(s);!1!==i&&(!0===i?e.onRead:i)(this.typeName,a,n,s,o)}}return a}internalBinaryWrite(n,r,s){0!==n.providerErrorStatus&&r.tag(1,t.Varint).int32(n.providerErrorStatus),0!==n.cacheTtlInSeconds&&r.tag(2,t.Varint).int64(n.cacheTtlInSeconds),0!==n.offlineTtlInSeconds&&r.tag(3,t.Varint).int64(n.offlineTtlInSeconds),0!==n.extensionType&&r.tag(4,t.Varint).int32(n.extensionType);let a=s.writeUnknownFields;return!1!==a&&(!0==a?e.onWrite:a)(this.typeName,n,r),r}},e8=new class extends eb{constructor(){super("com.spotify.extendedmetadata.proto.EntityExtensionData",[{no:1,name:"header",kind:"message",T:()=>e5},{no:2,name:"entity_uri",kind:"scalar",T:9},{no:3,name:"extension_data",kind:"message",T:()=>ez}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.entityUri="",void 0!==e&&D(this,t,e),t}internalBinaryRead(t,n,r,s){let a=s??this.create(),i=t.pos+n;for(;t.pos<i;){let[n,s]=t.tag();switch(n){case 1:a.header=e5.internalBinaryRead(t,t.uint32(),r,a.header);break;case 2:a.entityUri=t.string();break;case 3:a.extensionData=ez.internalBinaryRead(t,t.uint32(),r,a.extensionData);break;default:let i=r.readUnknownField;if("throw"===i)throw new globalThis.Error(`Unknown field ${n} (wire type ${s}) for ${this.typeName}`);let o=t.skip(s);!1!==i&&(!0===i?e.onRead:i)(this.typeName,a,n,s,o)}}return a}internalBinaryWrite(n,r,s){n.header&&e5.internalBinaryWrite(n.header,r.tag(1,t.LengthDelimited).fork(),s).join(),""!==n.entityUri&&r.tag(2,t.LengthDelimited).string(n.entityUri),n.extensionData&&ez.internalBinaryWrite(n.extensionData,r.tag(3,t.LengthDelimited).fork(),s).join();let a=s.writeUnknownFields;return!1!==a&&(!0==a?e.onWrite:a)(this.typeName,n,r),r}},e5=new class extends eb{constructor(){super("com.spotify.extendedmetadata.proto.EntityExtensionDataHeader",[{no:1,name:"status_code",kind:"scalar",T:5},{no:2,name:"etag",kind:"scalar",T:9},{no:3,name:"locale",kind:"scalar",T:9},{no:4,name:"cache_ttl_in_seconds",kind:"scalar",T:3,L:2},{no:5,name:"offline_ttl_in_seconds",kind:"scalar",T:3,L:2}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.statusCode=0,t.etag="",t.locale="",t.cacheTtlInSeconds=0,t.offlineTtlInSeconds=0,void 0!==e&&D(this,t,e),t}internalBinaryRead(t,n,r,s){let a=s??this.create(),i=t.pos+n;for(;t.pos<i;){let[n,s]=t.tag();switch(n){case 1:a.statusCode=t.int32();break;case 2:a.etag=t.string();break;case 3:a.locale=t.string();break;case 4:a.cacheTtlInSeconds=t.int64().toNumber();break;case 5:a.offlineTtlInSeconds=t.int64().toNumber();break;default:let i=r.readUnknownField;if("throw"===i)throw new globalThis.Error(`Unknown field ${n} (wire type ${s}) for ${this.typeName}`);let o=t.skip(s);!1!==i&&(!0===i?e.onRead:i)(this.typeName,a,n,s,o)}}return a}internalBinaryWrite(n,r,s){0!==n.statusCode&&r.tag(1,t.Varint).int32(n.statusCode),""!==n.etag&&r.tag(2,t.LengthDelimited).string(n.etag),""!==n.locale&&r.tag(3,t.LengthDelimited).string(n.locale),0!==n.cacheTtlInSeconds&&r.tag(4,t.Varint).int64(n.cacheTtlInSeconds),0!==n.offlineTtlInSeconds&&r.tag(5,t.Varint).int64(n.offlineTtlInSeconds);let a=s.writeUnknownFields;return!1!==a&&(!0==a?e.onWrite:a)(this.typeName,n,r),r}},e7=new class extends eb{constructor(){super("com.spotify.extendedmetadata.proto.PlainListAssoc",[{no:1,name:"entity_uri",kind:"scalar",repeat:2,T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.entityUri=[],void 0!==e&&D(this,t,e),t}internalBinaryRead(t,n,r,s){let a=s??this.create(),i=t.pos+n;for(;t.pos<i;){let[n,s]=t.tag();if(1===n)a.entityUri.push(t.string());else{let i=r.readUnknownField;if("throw"===i)throw new globalThis.Error(`Unknown field ${n} (wire type ${s}) for ${this.typeName}`);let o=t.skip(s);!1!==i&&(!0===i?e.onRead:i)(this.typeName,a,n,s,o)}}return a}internalBinaryWrite(n,r,s){for(let e=0;e<n.entityUri.length;e++)r.tag(1,t.LengthDelimited).string(n.entityUri[e]);let a=s.writeUnknownFields;return!1!==a&&(!0==a?e.onWrite:a)(this.typeName,n,r),r}},e9=new class extends eb{constructor(){super("com.spotify.extendedmetadata.proto.AssocHeader",[])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&D(this,t,e),t}internalBinaryRead(e,t,n,r){return r??this.create()}internalBinaryWrite(t,n,r){let s=r.writeUnknownFields;return!1!==s&&(!0==s?e.onWrite:s)(this.typeName,t,n),n}};new class extends eb{constructor(){super("com.spotify.extendedmetadata.proto.Assoc",[{no:1,name:"header",kind:"message",T:()=>e9},{no:2,name:"plain_list",kind:"message",T:()=>e7}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&D(this,t,e),t}internalBinaryRead(t,n,r,s){let a=s??this.create(),i=t.pos+n;for(;t.pos<i;){let[n,s]=t.tag();switch(n){case 1:a.header=e9.internalBinaryRead(t,t.uint32(),r,a.header);break;case 2:a.plainList=e7.internalBinaryRead(t,t.uint32(),r,a.plainList);break;default:let i=r.readUnknownField;if("throw"===i)throw new globalThis.Error(`Unknown field ${n} (wire type ${s}) for ${this.typeName}`);let o=t.skip(s);!1!==i&&(!0===i?e.onRead:i)(this.typeName,a,n,s,o)}}return a}internalBinaryWrite(n,r,s){n.header&&e9.internalBinaryWrite(n.header,r.tag(1,t.LengthDelimited).fork(),s).join(),n.plainList&&e7.internalBinaryWrite(n.plainList,r.tag(2,t.LengthDelimited).fork(),s).join();let a=s.writeUnknownFields;return!1!==a&&(!0==a?e.onWrite:a)(this.typeName,n,r),r}};let te=new URL($request.url);I.info(`url: ${te.toJSON()}`);let tt=te.pathname;I.info(`PATH: ${tt}`);let tn=($response.headers?.["Content-Type"]??$response.headers?.["content-type"])?.split(";")?.[0];I.info(`FORMAT: ${tn}`),(async()=>{let{Settings:e,Caches:t,Configs:n}=function(e,t,n){I.log("‚òëÔ∏è Set Environment Variables");let{Settings:r,Caches:s,Configs:a}=function(e,t,n){t=[t].flat(1/0);let r={Settings:n?.Default?.Settings||{},Configs:n?.Default?.Configs||{},Caches:{}};switch(t.forEach(e=>{r.Settings={...r.Settings,...n?.[e]?.Settings},r.Configs={...r.Configs,...n?.[e]?.Configs}}),typeof $argument){case"string":$argument=Object.fromEntries($argument.split("&").map(e=>e.split("=",2).map(e=>e.replace(/\"/g,""))));case"object":{let e={};Object.keys($argument).forEach(t=>k.set(e,t,$argument[t])),r.Settings={...r.Settings,...e}}}let s=N.getItem(e);return s&&t.forEach(e=>{switch(typeof s?.[e]?.Settings){case"string":s[e].Settings=JSON.parse(s[e].Settings||"{}");case"object":r.Settings={...r.Settings,...s[e].Settings}}switch(typeof s?.[e]?.Caches){case"string":s[e].Caches=JSON.parse(s[e].Caches||"{}");case"object":r.Caches={...r.Caches,...s[e].Caches}}}),function e(t,n){for(let r in t){let s=t[r];t[r]="object"==typeof s&&null!==s?e(s,n):n(r,s)}return t}(r.Settings,(e,t)=>("true"===t||"false"===t?t=JSON.parse(t):"string"==typeof t&&(t=t.includes(",")?t.split(",").map(e=>O(e)):O(t)),t)),r}(e,t,n);return Array.isArray(r?.Types)||(r.Types=r.Types?[r.Types]:[]),I.info(`typeof Settings: ${typeof r}`,`Settings: ${JSON.stringify(r,null,2)}`),("object"!=typeof s?.Playlists||Array.isArray(s?.Playlists))&&(s.Playlists={}),s.Playlists.Master=new Map(JSON.parse(s?.Playlists?.Master||"[]")),s.Playlists.Subtitle=new Map(JSON.parse(s?.Playlists?.Subtitle||"[]")),"object"!=typeof s?.Subtitles&&(s.Subtitles=new Map(JSON.parse(s?.Subtitles||"[]"))),("object"!=typeof s?.Metadatas||Array.isArray(s?.Metadatas))&&(s.Metadatas={}),"object"!=typeof s?.Metadatas?.Tracks&&(s.Metadatas.Tracks=new Map(JSON.parse(s?.Metadatas?.Tracks||"[]"))),I.log("‚úÖ Set Environment Variables"),{Settings:r,Caches:s,Configs:a}}("DualSubs","Spotify",A);I.logLevel=e.LogLevel;let r=te.searchParams.get("subtype")??e.Type,s=[te.searchParams.get("lang")?.toUpperCase?.()??e.Languages[0],(te.searchParams.get("tlang")??t?.tlang)?.toUpperCase?.()??e.Languages[1]];I.info(`Type: ${r}`,`Languages: ${s}`);let a={};switch(tn){case void 0:case"application/x-www-form-urlencoded":case"text/plain":default:case"application/x-mpegURL":case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"audio/mpegurl":case"text/xml":case"text/html":case"text/plist":case"application/xml":case"application/plist":case"application/x-plist":case"text/vtt":case"application/vtt":break;case"text/json":case"application/json":switch(a=JSON.parse($response.body??"{}"),I.debug(`body: ${JSON.stringify(a)}`),tt){case"/melody/v1/product_state":a.country=e.Country,a["selected-language"]=e.Languages[1].toLowerCase();break;case"/v1/tracks":a?.tracks?.forEach?.(e=>{I.debug(`track: ${JSON.stringify(e)}`);let n=e?.id,r={track:e?.name,album:e?.album?.name,artist:e?.artists?.[0]?.name};t.Metadatas.Tracks.set(n,r)}),t.Metadatas.Tracks=function(e,t=100){return I.log("‚òëÔ∏è Set Cache",`cacheSize: ${t}`),e=(e=Array.from(e||[])).slice(-t),I.log("‚úÖ Set Cache"),e}(t.Metadatas.Tracks,e.CacheSize),N.setItem("@DualSubs.Spotify.Caches.Metadatas.Tracks",t.Metadatas.Tracks)}$response.body=JSON.stringify(a);break;case"application/protobuf":case"application/x-protobuf":case"application/vnd.google.protobuf":case"application/grpc":case"application/grpc+proto":case"application/octet-stream":{let t="Quantumult X"===E?new Uint8Array($response.bodyBytes??[]):$response.body??new Uint8Array;switch(tn){case"application/protobuf":case"application/x-protobuf":case"application/vnd.google.protobuf":switch(tt){case"/bootstrap/v1/bootstrap":case"/user-customization-service/v1/customize":switch(tt){case"/bootstrap/v1/bootstrap":{a=eY.fromBinary(t);let n=a?.ucsResponseV0?.result?.success?.customization?.result?.success?.resolveResult?.resolveSuccess?.configuration?.assignedValues;n&&(n=_(n));let r=a?.ucsResponseV0?.result?.success?.customization?.result?.success?.accountAttributesResult?.accountAttributesSuccess?.accountAttributes;r&&(r.country_code={value:{oneofKind:"stringValue",stringValue:e.CountryCode}},r=R(r)),t=eY.toBinary(a);break}case"/user-customization-service/v1/customize":{a=eM.fromBinary(t);let n=a?.result?.success?.resolveResult?.resolveSuccess?.configuration?.assignedValues;n&&(n=_(n));let r=a?.result?.success?.accountAttributesResult?.accountAttributesSuccess?.accountAttributes;r&&(r.country_code={value:{oneofKind:"stringValue",stringValue:e.CountryCode}},r=R(r)),t=eM.toBinary(a)}}break;case"/extended-metadata/v0/extended-metadata":a=e2.fromBinary(t),t=e2.toBinary(a)}}$response.body=t}}})().catch(e=>I.error(e)).finally(()=>(function(e={}){switch(E){case"Surge":e.policy&&k.set(e,"headers.X-Surge-Policy",e.policy),I.log("\uD83D\uDEA9 ÊâßË°åÁªìÊùü!",`üïõ ${new Date().getTime()/1e3-$script.startTime} Áßí`),$done(e);break;case"Loon":e.policy&&(e.node=e.policy),I.log("\uD83D\uDEA9 ÊâßË°åÁªìÊùü!",`üïõ ${(new Date-$script.startTime)/1e3} Áßí`),$done(e);break;case"Stash":e.policy&&k.set(e,"headers.X-Stash-Selected-Proxy",encodeURI(e.policy)),I.log("\uD83D\uDEA9 ÊâßË°åÁªìÊùü!",`üïõ ${(new Date-$script.startTime)/1e3} Áßí`),$done(e);break;case"Egern":case"Shadowrocket":I.log("\uD83D\uDEA9 ÊâßË°åÁªìÊùü!"),$done(e);break;case"Quantumult X":switch(e.policy&&k.set(e,"opts.policy",e.policy),typeof(e=k.pick(e,["status","url","headers","body","bodyBytes"])).status){case"number":e.status=`HTTP/1.1 ${e.status} ${w[e.status]}`;break;case"string":case"undefined":break;default:throw TypeError(`${Function.name}: ÂèÇÊï∞Á±ªÂûãÈîôËØØ, status ÂøÖÈ°ª‰∏∫Êï∞Â≠óÊàñÂ≠óÁ¨¶‰∏≤`)}e.body instanceof ArrayBuffer?(e.bodyBytes=e.body,e.body=void 0):ArrayBuffer.isView(e.body)?(e.bodyBytes=e.body.buffer.slice(e.body.byteOffset,e.body.byteLength+e.body.byteOffset),e.body=void 0):e.body&&(e.bodyBytes=void 0),I.log("\uD83D\uDEA9 ÊâßË°åÁªìÊùü!"),$done(e);break;default:I.log("\uD83D\uDEA9 ÊâßË°åÁªìÊùü!"),process.exit(1)}})($response))})();